ARM GAS  /tmp/cc5m2BsI.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"ff.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.bss.FatFs,"aw",%nobits
  17              		.align	2
  20              	FatFs:
  21 0000 00000000 		.space	8
  21      00000000 
  22              		.section	.bss.Fsid,"aw",%nobits
  23              		.align	1
  26              	Fsid:
  27 0000 0000     		.space	2
  28              		.section	.bss.LfnBuf,"aw",%nobits
  29              		.align	2
  32              	LfnBuf:
  33 0000 00000000 		.space	512
  33      00000000 
  33      00000000 
  33      00000000 
  33      00000000 
  34              		.section	.rodata.ExCvt,"a"
  35              		.align	2
  38              	ExCvt:
  39 0000 43554541 		.ascii	"CUEAAAACEEEIIIAAE\222\222OOOUUYOUO\234O\236\237AIOU"
  39      41414143 
  39      45454549 
  39      49494141 
  39      4592924F 
  40 0024 A5A5A6A7 		.ascii	"\245\245\246\247\250\251\252\253\254\255\256\257\260"
  40      A8A9AAAB 
  40      ACADAEAF 
  40      B0
  41 0031 B1B2B3B4 		.ascii	"\261\262\263\264AAA\270\271\272\273\274\275\276\277"
  41      414141B8 
  41      B9BABBBC 
  41      BDBEBF
  42 0040 C0C1C2C3 		.ascii	"\300\301\302\303\304\305AA\310\311\312\313\314\315\316"
  42      C4C54141 
  42      C8C9CACB 
  42      CCCDCE
  43 004f CFD1D145 		.ascii	"\317\321\321EEEIIII\331\332\333\334\335I\337O\341OO"
  43      45454949 
  43      4949D9DA 
  43      DBDCDD49 
  43      DF4FE14F 
ARM GAS  /tmp/cc5m2BsI.s 			page 2


  44 0064 4F4FE6E8 		.ascii	"OO\346\350\350UUUYY\356\357\360\361\362\363\364\365"
  44      E8555555 
  44      5959EEEF 
  44      F0F1F2F3 
  44      F4F5
  45 0076 F6F7F8F9 		.ascii	"\366\367\370\371\372\373\374\375\376\377"
  45      FAFBFCFD 
  45      FEFF
  46              		.section	.text.ld_word,"ax",%progbits
  47              		.align	1
  48              		.arch armv7e-m
  49              		.syntax unified
  50              		.thumb
  51              		.thumb_func
  52              		.fpu fpv5-d16
  54              	ld_word:
  55              	.LFB320:
  56              		.file 1 "../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c"
   1:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - Generic FAT file system module  R0.12c                             /
   3:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /
   5:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2017, ChaN, all right reserved.
   6:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is an open source software. Redistribution and use of FatFs in
   8:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** / source and binary forms, with or without modification, are permitted provided
   9:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** / that the following condition is met:
  10:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /
  11:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  12:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  13:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /
  14:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  15:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  16:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  17:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  18:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /----------------------------------------------------------------------------*/
  19:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  20:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  21:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
  22:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of device I/O functions */
  23:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  24:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  25:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
  26:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  27:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
  28:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  29:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
  30:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  31:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 68300	/* Revision ID */
  32:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
  33:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
  34:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  35:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  36:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS upper conversion tables */
  37:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  38:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
  39:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
ARM GAS  /tmp/cc5m2BsI.s 			page 3


  40:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
  41:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
  42:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
  43:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
  44:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
  45:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
  46:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
  47:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  48:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
  49:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  50:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  51:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  52:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  53:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
  54:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  55:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  56:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
  57:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  58:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  59:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
  60:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
  61:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
  62:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
  63:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
  64:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
  65:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  66:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
  67:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
  68:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
  69:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
  70:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
  71:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
  72:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
  73:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  74:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. */
  75:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  76:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
  77:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  78:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  79:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  80:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  81:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  82:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  83:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  84:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  85:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic */
  86:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  87:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  88:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
  89:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
  90:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
  91:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
  92:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
  93:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
  94:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
  95:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
  96:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek */
ARM GAS  /tmp/cc5m2BsI.s 			page 4


  97:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
  98:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
  99:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x93,0x94,0x95,0x96,0x97,0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87, \
 100:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96, \
 101:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 102:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 103:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 104:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xEF,0xF5,0xF0,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 105:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 106:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 107:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 771	/* KBL */
 108:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 109:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 110:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 111:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 112:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 113:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 114:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDC,0xDE,0xDE, \
 115:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 116:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFE,0xFF}
 117:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 118:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic */
 119:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 120:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F, \
 121:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0x95,0x96,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 122:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 123:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 124:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 125:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xA5,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 126:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF, \
 127:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 128:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Latin 1 */
 130:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 131:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x41,0x43,0x45,0x45,0x45,0x49,0x49,0x49,0x41,0x41, \
 132:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x92,0x92,0x4F,0x4F,0x4F,0x55,0x55,0x59,0x4F,0x55,0x4F,0x9C,0x4F,0x9E,0x9F, \
 133:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 134:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0x41,0x41,0x41,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 135:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0x41,0x41,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 136:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0x45,0x45,0x45,0x49,0x49,0x49,0x49,0xD9,0xDA,0xDB,0xDC,0xDD,0x49,0xDF, \
 137:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x4F,0xE1,0x4F,0x4F,0x4F,0x4F,0xE6,0xE8,0xE8,0x55,0x55,0x55,0x59,0x59,0xEE,0xEF, \
 138:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 139:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 */
 141:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 142:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F, \
 143:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x91,0xE2,0x99,0x95,0x95,0x97,0x97,0x99,0x9A,0x9B,0x9B,0x9D,0x9E,0xAC, \
 144:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF, \
 145:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBD,0xBF, \
 146:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 147:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD2,0xD3,0xD2,0xD5,0xD6,0xD7,0xB7,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 148:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF, \
 149:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xEB,0xFC,0xFC,0xFE,0xFF}
 150:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 151:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic */
 152:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 153:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F, \
ARM GAS  /tmp/cc5m2BsI.s 			page 5


 154:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x91,0x93,0x93,0x95,0x95,0x97,0x97,0x99,0x99,0x9B,0x9B,0x9D,0x9D,0x9F,0x9F, \
 155:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF, \
 156:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB6,0xB6,0xB8,0xB8,0xB9,0xBA,0xBB,0xBC,0xBE,0xBE,0xBF, \
 157:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 158:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD1,0xD1,0xD3,0xD3,0xD5,0xD5,0xD7,0xD7,0xDD,0xD9,0xDA,0xDB,0xDC,0xDD,0xE0,0xDF, \
 159:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF, \
 160:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF8,0xFA,0xFA,0xFC,0xFC,0xFD,0xFE,0xFF}
 161:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 162:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish */
 163:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 164:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x49,0x8E,0x8F, \
 165:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0xE2,0x99,0xE3,0xEA,0xEB,0x98,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9E, \
 166:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 167:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 168:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 169:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0x49,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 170:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0xED,0xEE,0xEF, \
 171:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 172:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 173:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 860	/* Portuguese */
 174:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 175:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x8F,0x8E,0x91,0x86,0x80,0x89,0x89,0x92,0x8B,0x8C,0x98,0x8E,0x8F, \
 176:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x8C,0x99,0xA9,0x96,0x9D,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 177:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x86,0x8B,0x9F,0x96,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 178:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 179:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 180:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 181:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 182:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 183:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 184:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 861	/* Icelandic */
 185:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 186:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x8B,0x8B,0x8D,0x8E,0x8F, \
 187:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x8D,0x55,0x97,0x97,0x99,0x9A,0x9D,0x9C,0x9D,0x9E,0x9F, \
 188:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA4,0xA5,0xA6,0xA7,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 189:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 190:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 191:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 192:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 193:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 194:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew */
 196:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 197:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 198:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 199:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 200:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 201:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 202:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 203:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 204:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 205:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 206:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 863	/* Canadian-French */
 207:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 208:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x43,0x55,0x45,0x41,0x41,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x41,0x8F, \
 209:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x45,0x45,0x45,0x4F,0x45,0x49,0x55,0x55,0x98,0x4F,0x55,0x9B,0x9C,0x55,0x55,0x9F, \
 210:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0x4F,0x55,0xA4,0xA5,0xA6,0xA7,0x49,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
ARM GAS  /tmp/cc5m2BsI.s 			page 6


 211:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 212:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 213:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 214:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 215:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 216:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 217:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 864	/* Arabic */
 218:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 219:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x45,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 220:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 221:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 222:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 223:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 224:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 225:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 226:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 227:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 228:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 865	/* Nordic */
 229:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 230:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F, \
 231:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x92,0x92,0x4F,0x99,0x4F,0x55,0x55,0x59,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 232:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 233:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 234:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 235:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 236:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF, \
 237:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xF2,0xF3,0xF4,0xF5,0xF6,0xF7,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 238:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 239:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian */
 240:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 241:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 242:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 243:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 244:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 245:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 246:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xD6,0xD7,0xD8,0xD9,0xDA,0xDB,0xDC,0xDD,0xDE,0xDF, \
 247:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F, \
 248:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF0,0xF2,0xF2,0xF4,0xF4,0xF6,0xF6,0xF8,0xF9,0xFA,0xFB,0xFC,0xFD,0xFE,0xFF}
 249:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 250:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 869	/* Greek 2 */
 251:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 252:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F, \
 253:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x94,0x95,0x96,0x97,0x98,0x99,0x9A,0x86,0x9C,0x8D,0x8F,0x90, \
 254:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0x91,0x90,0x92,0x95,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF, \
 255:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB0,0xB1,0xB2,0xB3,0xB4,0xB5,0xB6,0xB7,0xB8,0xB9,0xBA,0xBB,0xBC,0xBD,0xBE,0xBF, \
 256:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF, \
 257:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xD0,0xD1,0xD2,0xD3,0xD4,0xD5,0xA4,0xA5,0xA6,0xD9,0xDA,0xDB,0xDC,0xA7,0xA8,0xDF, \
 258:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA9,0xAA,0xAC,0xAD,0xB5,0xB6,0xB7,0xB8,0xBD,0xBE,0xC6,0xC7,0xCF,0xCF,0xD0,0xEF, \
 259:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				0xF0,0xF1,0xD1,0xD2,0xD3,0xF5,0xD4,0xF7,0xF8,0xF9,0xD5,0x96,0x95,0x98,0xFE,0xFF}
 260:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 261:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 262:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
 263:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot enable LFN without valid code page.
 264:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 265:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 266:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 267:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/cc5m2BsI.s 			page 7


 268:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 269:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 270:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 271:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 272:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 274:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 275:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 276:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 277:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 278:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S != 0	/* Code page is DBCS */
 279:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 281:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 282:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 283:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 284:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 285:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 286:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 287:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 288:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 289:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 290:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 291:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 292:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 293:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 295:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 296:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 297:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 298:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 299:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 300:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file attribute bits for internal use */
 301:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	AM_VOL		0x08	/* Volume label */
 302:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_LFN		0x0F	/* LFN entry */
 303:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define AM_MASK		0x3F	/* Mask of defined bits */
 304:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 305:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 306:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Additional file access control and file status flags for internal use */
 307:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_SEEKEND	0x20	/* Seek to end of the file on file open */
 308:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_MODIFIED	0x40	/* File has been modified */
 309:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define FA_DIRTY	0x80	/* FIL.buf[] needs to be written-back */
 310:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 311:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 312:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags in fn[] */
 313:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of the name status byte */
 314:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 315:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 316:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
 317:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
 318:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 319:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 320:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NOLFN	0x40	/* Do not find LFN */
 321:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_NONAME	0x80	/* Not followed */
 322:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 323:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 324:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Limits and boundaries */
ARM GAS  /tmp/cc5m2BsI.s 			page 8


 325:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR		0x200000		/* Max size of FAT directory */
 326:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_DIR_EX	0x10000000		/* Max size of exFAT directory */
 327:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define MAX_FAT12	0xFF5			/* Max FAT12 clusters (differs from specs, but correct for real DOS/Windo
 328:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT16	0xFFF5			/* Max FAT16 clusters (differs from specs, but correct for real DOS/Wind
 329:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_FAT32	0x0FFFFFF5		/* Max FAT32 clusters (not specified, practical limit) */
 330:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	MAX_EXFAT	0x7FFFFFFD		/* Max exFAT clusters (differs from specs, implementation limit) */
 331:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 332:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 333:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the FAT structure as simple byte array instead of structure member
 334:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** / because the C structure is not binary compatible between different platforms */
 335:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_JmpBoot			0		/* x86 jump instruction (3-byte) */
 337:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8-byte) */
 338:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (WORD) */
 339:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (BYTE) */
 340:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (WORD) */
 341:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FATs (BYTE) */
 342:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Size of root directory area for FAT12/16 [entry] (WORD) */
 343:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size (16-bit) [sector] (WORD) */
 344:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor byte (BYTE) */
 345:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size (16-bit) [sector] (WORD) */
 346:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size for int13h [sector] (WORD) */
 347:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads for int13h (WORD) */
 348:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Volume offset from top of the drive (DWORD) */
 349:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size (32-bit) [sector] (DWORD) */
 350:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number for int13h (BYTE) */
 351:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres			37		/* Error flag (BYTE) */
 352:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (BYTE) */
 353:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (DWORD) */
 354:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label string (8-byte) */
 355:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type string (8-byte) */
 356:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode			62		/* Boot code (448-byte) */
 357:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (WORD) */
 358:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 359:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT32: FAT size [sector] (DWORD) */
 360:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags32		40		/* FAT32: Extended flags (WORD) */
 361:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer32			42		/* FAT32: File system version (WORD) */
 362:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus32		44		/* FAT32: Root directory cluster (DWORD) */
 363:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo32		48		/* FAT32: Offset of FSINFO sector (WORD) */
 364:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec32		50		/* FAT32: Offset of backup boot sector (WORD) */
 365:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* FAT32: Physical drive number for int13h (BYTE) */
 366:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_NTres32			65		/* FAT32: Error flag (BYTE) */
 367:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* FAT32: Extended boot signature (BYTE) */
 368:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* FAT32: Volume serial number (DWORD) */
 369:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* FAT32: Volume label string (8-byte) */
 370:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* FAT32: File system type string (8-byte) */
 371:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCode32		90		/* FAT32: Boot code (420-byte) */
 372:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 373:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ZeroedEx		11		/* exFAT: MBZ field (53-byte) */
 374:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolOfsEx		64		/* exFAT: Volume offset from top of the drive [sector] (QWORD) */
 375:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSecEx		72		/* exFAT: Volume size [sector] (QWORD) */
 376:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatOfsEx		80		/* exFAT: FAT offset from top of the volume [sector] (DWORD) */
 377:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FatSzEx			84		/* exFAT: FAT size [sector] (DWORD) */
 378:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DataOfsEx		88		/* exFAT: Data offset from top of the volume [sector] (DWORD) */
 379:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumClusEx		92		/* exFAT: Number of clusters (DWORD) */
 380:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClusEx		96		/* exFAT: Root directory start cluster (DWORD) */
 381:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolIDEx			100		/* exFAT: Volume serial number (DWORD) */
ARM GAS  /tmp/cc5m2BsI.s 			page 9


 382:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVerEx			104		/* exFAT: File system version (WORD) */
 383:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_VolFlagEx		106		/* exFAT: Volume flags (BYTE) */
 384:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ActFatEx		107		/* exFAT: Active FAT flags (BYTE) */
 385:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSecEx	108		/* exFAT: Log2 of sector size in unit of byte (BYTE) */
 386:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClusEx	109		/* exFAT: Log2 of cluster size in unit of sector (BYTE) */
 387:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATsEx		110		/* exFAT: Number of FATs (BYTE) */
 388:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_DrvNumEx		111		/* exFAT: Physical drive number for int13h (BYTE) */
 389:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_PercInUseEx		112		/* exFAT: Percent in use (BYTE) */
 390:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	BPB_RsvdEx			113		/* exFAT: Reserved (7-byte) */
 391:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootCodeEx		120		/* exFAT: Boot code (390-byte) */
 392:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 393:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11-byte) */
 394:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (BYTE) */
 395:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (BYTE) */
 396:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTime10		13		/* Created time sub-second (BYTE) */
 397:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (DWORD) */
 398:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (WORD) */
 399:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (WORD) */
 400:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_ModTime			22		/* Modified time (DWORD) */
 401:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (WORD) */
 402:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (DWORD) */
 403:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN: LFN order and LLE flag (BYTE) */
 404:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN: LFN attribute (BYTE) */
 405:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN: Entry type (BYTE) */
 406:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* LFN: Checksum of the SFN (BYTE) */
 407:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* LFN: MBZ field (WORD) */
 408:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Type			0		/* exFAT: Type of exFAT directory entry (BYTE) */
 409:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumLabel		1		/* exFAT: Number of volume label characters (BYTE) */
 410:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Label			2		/* exFAT: Volume label (11-WORD) */
 411:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CaseSum		4		/* exFAT: Sum of case conversion table (DWORD) */
 412:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumSec			1		/* exFAT: Number of secondary entries (BYTE) */
 413:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_SetSum			2		/* exFAT: Sum of the set of directory entries (WORD) */
 414:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_Attr			4		/* exFAT: File attribute (WORD) */
 415:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime		8		/* exFAT: Created time (DWORD) */
 416:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime		12		/* exFAT: Modified time (DWORD) */
 417:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTime		16		/* exFAT: Last accessed time (DWORD) */
 418:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTime10		20		/* exFAT: Created time subsecond (BYTE) */
 419:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTime10		21		/* exFAT: Modified time subsecond (BYTE) */
 420:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_CrtTZ			22		/* exFAT: Created timezone (BYTE) */
 421:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_ModTZ			23		/* exFAT: Modified timezone (BYTE) */
 422:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_AccTZ			24		/* exFAT: Last accessed timezone (BYTE) */
 423:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_GenFlags		33		/* exFAT: General secondary flags (WORD) */
 424:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NumName		35		/* exFAT: Number of file name characters (BYTE) */
 425:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_NameHash		36		/* exFAT: Hash of file name (WORD) */
 426:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define XDIR_ValidFileSize	40		/* exFAT: Valid file size (QWORD) */
 427:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FstClus		52		/* exFAT: First cluster of the file data (DWORD) */
 428:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	XDIR_FileSize		56		/* exFAT: File/Directory size (QWORD) */
 429:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 430:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZDIRE				32		/* Size of a directory entry */
 431:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark set to DIR_Name[0] */
 432:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 433:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 434:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 435:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FAT32 FSI: Leading signature (DWORD) */
 436:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FAT32 FSI: Structure signature (DWORD) */
 437:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FAT32 FSI: Number of free clusters (DWORD) */
 438:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FAT32 FSI: Last allocated cluster (DWORD) */
ARM GAS  /tmp/cc5m2BsI.s 			page 10


 439:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 440:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Offset of partition table in the MBR */
 441:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 442:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_Boot			0		/* MBR PTE: Boot indicator */
 443:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StHead			1		/* MBR PTE: Start head */
 444:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StSec			2		/* MBR PTE: Start sector */
 445:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StCyl			3		/* MBR PTE: Start cylinder */
 446:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_System			4		/* MBR PTE: System ID */
 447:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdHead			5		/* MBR PTE: End head */
 448:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdSec			6		/* MBR PTE: End sector */
 449:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_EdCyl			7		/* MBR PTE: End cylinder */
 450:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_StLba			8		/* MBR PTE: Start in LBA */
 451:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define PTE_SizLba			12		/* MBR PTE: Size in LBA */
 452:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 453:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 454:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Post process after fatal error on file operation */
 455:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 456:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 457:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 458:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 459:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 460:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 461:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 462:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 463:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
 464:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 465:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
 466:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 467:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 468:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 469:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 470:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 471:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of volume - partition conversion */
 472:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
 473:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) VolToPart[vol].pd	/* Get physical drive number */
 474:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) VolToPart[vol].pt	/* Get partition index */
 475:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
 476:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PD(vol) (BYTE)(vol)	/* Each logical drive is bound to the same physical drive number */
 477:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define LD2PT(vol) 0			/* Find first valid partition or in SFD */
 478:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 479:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 480:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 481:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 482:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 483:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 484:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 485:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 486:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 487:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
 488:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
 489:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 490:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 491:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 492:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp */
 493:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 494:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 495:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
ARM GAS  /tmp/cc5m2BsI.s 			page 11


 496:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 497:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 498:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
 499:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 500:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 501:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 502:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 503:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock controls */
 504:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 505:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 506:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 507:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 508:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 509:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 510:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, containing directory (0:root) */
 511:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs;		/* Object ID 3, offset in the directory */
 512:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 513:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 514:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 515:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 516:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 518:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 519:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 520:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 521:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 522:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Work Area
 523:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 524:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 525:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 526:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Variables defined here without initial value shall be guaranteed
 527:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /  zero/null at start-up. If not, the linker option or start-up routine is
 528:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /  not compliance with C standard. */
 529:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 530:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 10
 531:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 532:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 533:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 534:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 535:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 536:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
 537:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 538:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 539:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 540:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 541:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 542:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 543:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 544:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0		/* Non-LFN configuration */
 545:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 546:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 547:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 548:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 549:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else					/* LFN configuration */
 550:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 551:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN value
 552:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc5m2BsI.s 			page 12


 553:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define MAXDIRB(nc)	((nc + 44U) / 15 * SZDIRE)
 554:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1		/* LFN enabled with static working buffer */
 556:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 557:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE	DirBuf[MAXDIRB(_MAX_LFN)];	/* Directory entry block scratchpad buffer */
 558:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 559:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];	/* LFN enabled with static working buffer */
 560:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF
 561:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)
 562:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 563:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 	/* LFN enabled with dynamic working buffer on the stack */
 565:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 566:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1]; BYTE dbuf[MAXDIRB(_MAX_LFN)];
 567:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; (fs)->dirbuf = dbuf; }
 568:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 569:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
 570:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR lbuf[_MAX_LFN+1];
 571:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ (fs)->lfnbuf = lbuf; }
 572:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()
 573:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 574:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 575:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 	/* LFN enabled with dynamic working buffer on the heap */
 576:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 577:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 578:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2 + MAXDIRB(_MAX_LFN)); if (!lfn) LEAVE_FF
 579:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 580:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
 581:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEF_NAMBUF		WCHAR *lfn;
 582:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_NAMBUF(fs)	{ lfn = ff_memalloc((_MAX_LFN+1)*2); if (!lfn) LEAVE_FF(fs, FR_NOT_ENOUGH_C
 583:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_NAMBUF()	ff_memfree(lfn)
 584:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 585:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 586:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
 587:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 588:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 589:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 590:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* else _USE_LFN == 0 */
 591:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 592:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 593:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for SBCS extended characters */
 594:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 595:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 596:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 597:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 598:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 599:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 601:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 602:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 603:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 604:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 605:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 606:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 607:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 608:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 609:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Load/Store multi-byte word in the FAT structure                       */
ARM GAS  /tmp/cc5m2BsI.s 			page 13


 610:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 611:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 612:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 613:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** WORD ld_word (const BYTE* ptr)	/*	 Load a 2-byte little-endian word */
 614:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
  57              		.loc 1 614 1
  58              		.cfi_startproc
  59              		@ args = 0, pretend = 0, frame = 16
  60              		@ frame_needed = 1, uses_anonymous_args = 0
  61              		@ link register save eliminated.
  62 0000 80B4     		push	{r7}
  63              		.cfi_def_cfa_offset 4
  64              		.cfi_offset 7, -4
  65 0002 85B0     		sub	sp, sp, #20
  66              		.cfi_def_cfa_offset 24
  67 0004 00AF     		add	r7, sp, #0
  68              		.cfi_def_cfa_register 7
  69 0006 7860     		str	r0, [r7, #4]
 615:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD rv;
 616:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 617:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[1];
  70              		.loc 1 617 10
  71 0008 7B68     		ldr	r3, [r7, #4]
  72 000a 0133     		adds	r3, r3, #1
  73 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  74              		.loc 1 617 5
  75 000e FB81     		strh	r3, [r7, #14]	@ movhi
 618:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
  76              		.loc 1 618 10
  77 0010 FB89     		ldrh	r3, [r7, #14]
  78 0012 1B02     		lsls	r3, r3, #8
  79              		.loc 1 618 15
  80 0014 1AB2     		sxth	r2, r3
  81              		.loc 1 618 20
  82 0016 7B68     		ldr	r3, [r7, #4]
  83 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  84 001a 1BB2     		sxth	r3, r3
  85              		.loc 1 618 15
  86 001c 1343     		orrs	r3, r3, r2
  87 001e 1BB2     		sxth	r3, r3
  88              		.loc 1 618 5
  89 0020 FB81     		strh	r3, [r7, #14]	@ movhi
 619:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
  90              		.loc 1 619 9
  91 0022 FB89     		ldrh	r3, [r7, #14]
 620:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
  92              		.loc 1 620 1
  93 0024 1846     		mov	r0, r3
  94 0026 1437     		adds	r7, r7, #20
  95              		.cfi_def_cfa_offset 4
  96 0028 BD46     		mov	sp, r7
  97              		.cfi_def_cfa_register 13
  98              		@ sp needed
  99 002a 5DF8047B 		ldr	r7, [sp], #4
 100              		.cfi_restore 7
 101              		.cfi_def_cfa_offset 0
 102 002e 7047     		bx	lr
ARM GAS  /tmp/cc5m2BsI.s 			page 14


 103              		.cfi_endproc
 104              	.LFE320:
 106              		.section	.text.ld_dword,"ax",%progbits
 107              		.align	1
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 111              		.fpu fpv5-d16
 113              	ld_dword:
 114              	.LFB321:
 621:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 623:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_dword (const BYTE* ptr)	/* Load a 4-byte little-endian word */
 624:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 115              		.loc 1 624 1
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 16
 118              		@ frame_needed = 1, uses_anonymous_args = 0
 119              		@ link register save eliminated.
 120 0000 80B4     		push	{r7}
 121              		.cfi_def_cfa_offset 4
 122              		.cfi_offset 7, -4
 123 0002 85B0     		sub	sp, sp, #20
 124              		.cfi_def_cfa_offset 24
 125 0004 00AF     		add	r7, sp, #0
 126              		.cfi_def_cfa_register 7
 127 0006 7860     		str	r0, [r7, #4]
 625:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rv;
 626:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 627:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[3];
 128              		.loc 1 627 10
 129 0008 7B68     		ldr	r3, [r7, #4]
 130 000a 0333     		adds	r3, r3, #3
 131 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 132              		.loc 1 627 5
 133 000e FB60     		str	r3, [r7, #12]
 628:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
 134              		.loc 1 628 10
 135 0010 FB68     		ldr	r3, [r7, #12]
 136 0012 1B02     		lsls	r3, r3, #8
 137              		.loc 1 628 20
 138 0014 7A68     		ldr	r2, [r7, #4]
 139 0016 0232     		adds	r2, r2, #2
 140 0018 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 141              		.loc 1 628 5
 142 001a 1343     		orrs	r3, r3, r2
 143 001c FB60     		str	r3, [r7, #12]
 629:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
 144              		.loc 1 629 10
 145 001e FB68     		ldr	r3, [r7, #12]
 146 0020 1B02     		lsls	r3, r3, #8
 147              		.loc 1 629 20
 148 0022 7A68     		ldr	r2, [r7, #4]
 149 0024 0132     		adds	r2, r2, #1
 150 0026 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 151              		.loc 1 629 5
 152 0028 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/cc5m2BsI.s 			page 15


 153 002a FB60     		str	r3, [r7, #12]
 630:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
 154              		.loc 1 630 10
 155 002c FB68     		ldr	r3, [r7, #12]
 156 002e 1B02     		lsls	r3, r3, #8
 157              		.loc 1 630 20
 158 0030 7A68     		ldr	r2, [r7, #4]
 159 0032 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 160              		.loc 1 630 5
 161 0034 1343     		orrs	r3, r3, r2
 162 0036 FB60     		str	r3, [r7, #12]
 631:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 163              		.loc 1 631 9
 164 0038 FB68     		ldr	r3, [r7, #12]
 632:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 165              		.loc 1 632 1
 166 003a 1846     		mov	r0, r3
 167 003c 1437     		adds	r7, r7, #20
 168              		.cfi_def_cfa_offset 4
 169 003e BD46     		mov	sp, r7
 170              		.cfi_def_cfa_register 13
 171              		@ sp needed
 172 0040 5DF8047B 		ldr	r7, [sp], #4
 173              		.cfi_restore 7
 174              		.cfi_def_cfa_offset 0
 175 0044 7047     		bx	lr
 176              		.cfi_endproc
 177              	.LFE321:
 179              		.section	.text.st_word,"ax",%progbits
 180              		.align	1
 181              		.syntax unified
 182              		.thumb
 183              		.thumb_func
 184              		.fpu fpv5-d16
 186              	st_word:
 187              	.LFB322:
 633:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 634:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 635:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** QWORD ld_qword (const BYTE* ptr)	/* Load an 8-byte little-endian word */
 637:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 638:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	QWORD rv;
 639:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 640:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = ptr[7];
 641:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[6];
 642:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[5];
 643:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[4];
 644:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[3];
 645:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[2];
 646:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[1];
 647:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	rv = rv << 8 | ptr[0];
 648:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return rv;
 649:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 650:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 651:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 652:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 653:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
ARM GAS  /tmp/cc5m2BsI.s 			page 16


 654:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void st_word (BYTE* ptr, WORD val)	/* Store a 2-byte word in little-endian */
 655:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 188              		.loc 1 655 1
 189              		.cfi_startproc
 190              		@ args = 0, pretend = 0, frame = 8
 191              		@ frame_needed = 1, uses_anonymous_args = 0
 192              		@ link register save eliminated.
 193 0000 80B4     		push	{r7}
 194              		.cfi_def_cfa_offset 4
 195              		.cfi_offset 7, -4
 196 0002 83B0     		sub	sp, sp, #12
 197              		.cfi_def_cfa_offset 16
 198 0004 00AF     		add	r7, sp, #0
 199              		.cfi_def_cfa_register 7
 200 0006 7860     		str	r0, [r7, #4]
 201 0008 0B46     		mov	r3, r1
 202 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 656:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 203              		.loc 1 656 6
 204 000c 7B68     		ldr	r3, [r7, #4]
 205 000e 5A1C     		adds	r2, r3, #1
 206 0010 7A60     		str	r2, [r7, #4]
 207              		.loc 1 656 11
 208 0012 7A88     		ldrh	r2, [r7, #2]	@ movhi
 209 0014 D2B2     		uxtb	r2, r2
 210              		.loc 1 656 9
 211 0016 1A70     		strb	r2, [r3]
 212              		.loc 1 656 26
 213 0018 7B88     		ldrh	r3, [r7, #2]
 214 001a 1B0A     		lsrs	r3, r3, #8
 215 001c 7B80     		strh	r3, [r7, #2]	@ movhi
 657:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 216              		.loc 1 657 6
 217 001e 7B68     		ldr	r3, [r7, #4]
 218 0020 5A1C     		adds	r2, r3, #1
 219 0022 7A60     		str	r2, [r7, #4]
 220              		.loc 1 657 11
 221 0024 7A88     		ldrh	r2, [r7, #2]	@ movhi
 222 0026 D2B2     		uxtb	r2, r2
 223              		.loc 1 657 9
 224 0028 1A70     		strb	r2, [r3]
 658:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 225              		.loc 1 658 1
 226 002a 00BF     		nop
 227 002c 0C37     		adds	r7, r7, #12
 228              		.cfi_def_cfa_offset 4
 229 002e BD46     		mov	sp, r7
 230              		.cfi_def_cfa_register 13
 231              		@ sp needed
 232 0030 5DF8047B 		ldr	r7, [sp], #4
 233              		.cfi_restore 7
 234              		.cfi_def_cfa_offset 0
 235 0034 7047     		bx	lr
 236              		.cfi_endproc
 237              	.LFE322:
 239              		.section	.text.st_dword,"ax",%progbits
 240              		.align	1
ARM GAS  /tmp/cc5m2BsI.s 			page 17


 241              		.syntax unified
 242              		.thumb
 243              		.thumb_func
 244              		.fpu fpv5-d16
 246              	st_dword:
 247              	.LFB323:
 659:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 660:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 661:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void st_dword (BYTE* ptr, DWORD val)	/* Store a 4-byte word in little-endian */
 662:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 248              		.loc 1 662 1
 249              		.cfi_startproc
 250              		@ args = 0, pretend = 0, frame = 8
 251              		@ frame_needed = 1, uses_anonymous_args = 0
 252              		@ link register save eliminated.
 253 0000 80B4     		push	{r7}
 254              		.cfi_def_cfa_offset 4
 255              		.cfi_offset 7, -4
 256 0002 83B0     		sub	sp, sp, #12
 257              		.cfi_def_cfa_offset 16
 258 0004 00AF     		add	r7, sp, #0
 259              		.cfi_def_cfa_register 7
 260 0006 7860     		str	r0, [r7, #4]
 261 0008 3960     		str	r1, [r7]
 663:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 262              		.loc 1 663 6
 263 000a 7B68     		ldr	r3, [r7, #4]
 264 000c 5A1C     		adds	r2, r3, #1
 265 000e 7A60     		str	r2, [r7, #4]
 266              		.loc 1 663 11
 267 0010 3A68     		ldr	r2, [r7]
 268 0012 D2B2     		uxtb	r2, r2
 269              		.loc 1 663 9
 270 0014 1A70     		strb	r2, [r3]
 271              		.loc 1 663 26
 272 0016 3B68     		ldr	r3, [r7]
 273 0018 1B0A     		lsrs	r3, r3, #8
 274 001a 3B60     		str	r3, [r7]
 664:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 275              		.loc 1 664 6
 276 001c 7B68     		ldr	r3, [r7, #4]
 277 001e 5A1C     		adds	r2, r3, #1
 278 0020 7A60     		str	r2, [r7, #4]
 279              		.loc 1 664 11
 280 0022 3A68     		ldr	r2, [r7]
 281 0024 D2B2     		uxtb	r2, r2
 282              		.loc 1 664 9
 283 0026 1A70     		strb	r2, [r3]
 284              		.loc 1 664 26
 285 0028 3B68     		ldr	r3, [r7]
 286 002a 1B0A     		lsrs	r3, r3, #8
 287 002c 3B60     		str	r3, [r7]
 665:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 288              		.loc 1 665 6
 289 002e 7B68     		ldr	r3, [r7, #4]
 290 0030 5A1C     		adds	r2, r3, #1
 291 0032 7A60     		str	r2, [r7, #4]
ARM GAS  /tmp/cc5m2BsI.s 			page 18


 292              		.loc 1 665 11
 293 0034 3A68     		ldr	r2, [r7]
 294 0036 D2B2     		uxtb	r2, r2
 295              		.loc 1 665 9
 296 0038 1A70     		strb	r2, [r3]
 297              		.loc 1 665 26
 298 003a 3B68     		ldr	r3, [r7]
 299 003c 1B0A     		lsrs	r3, r3, #8
 300 003e 3B60     		str	r3, [r7]
 666:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 301              		.loc 1 666 6
 302 0040 7B68     		ldr	r3, [r7, #4]
 303 0042 5A1C     		adds	r2, r3, #1
 304 0044 7A60     		str	r2, [r7, #4]
 305              		.loc 1 666 11
 306 0046 3A68     		ldr	r2, [r7]
 307 0048 D2B2     		uxtb	r2, r2
 308              		.loc 1 666 9
 309 004a 1A70     		strb	r2, [r3]
 667:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 310              		.loc 1 667 1
 311 004c 00BF     		nop
 312 004e 0C37     		adds	r7, r7, #12
 313              		.cfi_def_cfa_offset 4
 314 0050 BD46     		mov	sp, r7
 315              		.cfi_def_cfa_register 13
 316              		@ sp needed
 317 0052 5DF8047B 		ldr	r7, [sp], #4
 318              		.cfi_restore 7
 319              		.cfi_def_cfa_offset 0
 320 0056 7047     		bx	lr
 321              		.cfi_endproc
 322              	.LFE323:
 324              		.section	.text.mem_cpy,"ax",%progbits
 325              		.align	1
 326              		.syntax unified
 327              		.thumb
 328              		.thumb_func
 329              		.fpu fpv5-d16
 331              	mem_cpy:
 332              	.LFB324:
 668:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 670:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 671:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void st_qword (BYTE* ptr, QWORD val)	/* Store an 8-byte word in little-endian */
 672:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 673:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 674:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 675:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 676:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 677:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 678:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 679:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val; val >>= 8;
 680:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*ptr++ = (BYTE)val;
 681:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 682:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 683:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
ARM GAS  /tmp/cc5m2BsI.s 			page 19


 684:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 685:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 688:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 689:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 690:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 691:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 692:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 693:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
 333              		.loc 1 693 53
 334              		.cfi_startproc
 335              		@ args = 0, pretend = 0, frame = 24
 336              		@ frame_needed = 1, uses_anonymous_args = 0
 337              		@ link register save eliminated.
 338 0000 80B4     		push	{r7}
 339              		.cfi_def_cfa_offset 4
 340              		.cfi_offset 7, -4
 341 0002 87B0     		sub	sp, sp, #28
 342              		.cfi_def_cfa_offset 32
 343 0004 00AF     		add	r7, sp, #0
 344              		.cfi_def_cfa_register 7
 345 0006 F860     		str	r0, [r7, #12]
 346 0008 B960     		str	r1, [r7, #8]
 347 000a 7A60     		str	r2, [r7, #4]
 694:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 348              		.loc 1 694 8
 349 000c FB68     		ldr	r3, [r7, #12]
 350 000e 7B61     		str	r3, [r7, #20]
 695:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
 351              		.loc 1 695 14
 352 0010 BB68     		ldr	r3, [r7, #8]
 353 0012 3B61     		str	r3, [r7, #16]
 696:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cnt) {
 354              		.loc 1 697 5
 355 0014 7B68     		ldr	r3, [r7, #4]
 356 0016 002B     		cmp	r3, #0
 357 0018 0DD0     		beq	.L10
 358              	.L9:
 698:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 699:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			*d++ = *s++;
 359              		.loc 1 699 13 discriminator 1
 360 001a 3A69     		ldr	r2, [r7, #16]
 361 001c 531C     		adds	r3, r2, #1
 362 001e 3B61     		str	r3, [r7, #16]
 363              		.loc 1 699 6 discriminator 1
 364 0020 7B69     		ldr	r3, [r7, #20]
 365 0022 591C     		adds	r1, r3, #1
 366 0024 7961     		str	r1, [r7, #20]
 367              		.loc 1 699 11 discriminator 1
 368 0026 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 369              		.loc 1 699 9 discriminator 1
 370 0028 1A70     		strb	r2, [r3]
 700:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (--cnt);
 371              		.loc 1 700 3 discriminator 1
 372 002a 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc5m2BsI.s 			page 20


 373 002c 013B     		subs	r3, r3, #1
 374 002e 7B60     		str	r3, [r7, #4]
 375 0030 7B68     		ldr	r3, [r7, #4]
 376 0032 002B     		cmp	r3, #0
 377 0034 F1D1     		bne	.L9
 378              	.L10:
 701:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 702:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 379              		.loc 1 702 1
 380 0036 00BF     		nop
 381 0038 1C37     		adds	r7, r7, #28
 382              		.cfi_def_cfa_offset 4
 383 003a BD46     		mov	sp, r7
 384              		.cfi_def_cfa_register 13
 385              		@ sp needed
 386 003c 5DF8047B 		ldr	r7, [sp], #4
 387              		.cfi_restore 7
 388              		.cfi_def_cfa_offset 0
 389 0040 7047     		bx	lr
 390              		.cfi_endproc
 391              	.LFE324:
 393              		.section	.text.mem_set,"ax",%progbits
 394              		.align	1
 395              		.syntax unified
 396              		.thumb
 397              		.thumb_func
 398              		.fpu fpv5-d16
 400              	mem_set:
 401              	.LFB325:
 703:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 704:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory block */
 705:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 706:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
 402              		.loc 1 706 45
 403              		.cfi_startproc
 404              		@ args = 0, pretend = 0, frame = 24
 405              		@ frame_needed = 1, uses_anonymous_args = 0
 406              		@ link register save eliminated.
 407 0000 80B4     		push	{r7}
 408              		.cfi_def_cfa_offset 4
 409              		.cfi_offset 7, -4
 410 0002 87B0     		sub	sp, sp, #28
 411              		.cfi_def_cfa_offset 32
 412 0004 00AF     		add	r7, sp, #0
 413              		.cfi_def_cfa_register 7
 414 0006 F860     		str	r0, [r7, #12]
 415 0008 B960     		str	r1, [r7, #8]
 416 000a 7A60     		str	r2, [r7, #4]
 707:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
 417              		.loc 1 707 8
 418 000c FB68     		ldr	r3, [r7, #12]
 419 000e 7B61     		str	r3, [r7, #20]
 420              	.L12:
 708:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 709:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 710:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
 421              		.loc 1 710 5 discriminator 1
ARM GAS  /tmp/cc5m2BsI.s 			page 21


 422 0010 7B69     		ldr	r3, [r7, #20]
 423 0012 5A1C     		adds	r2, r3, #1
 424 0014 7A61     		str	r2, [r7, #20]
 425              		.loc 1 710 10 discriminator 1
 426 0016 BA68     		ldr	r2, [r7, #8]
 427 0018 D2B2     		uxtb	r2, r2
 428              		.loc 1 710 8 discriminator 1
 429 001a 1A70     		strb	r2, [r3]
 711:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt);
 430              		.loc 1 711 2 discriminator 1
 431 001c 7B68     		ldr	r3, [r7, #4]
 432 001e 013B     		subs	r3, r3, #1
 433 0020 7B60     		str	r3, [r7, #4]
 434 0022 7B68     		ldr	r3, [r7, #4]
 435 0024 002B     		cmp	r3, #0
 436 0026 F3D1     		bne	.L12
 712:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 437              		.loc 1 712 1
 438 0028 00BF     		nop
 439 002a 00BF     		nop
 440 002c 1C37     		adds	r7, r7, #28
 441              		.cfi_def_cfa_offset 4
 442 002e BD46     		mov	sp, r7
 443              		.cfi_def_cfa_register 13
 444              		@ sp needed
 445 0030 5DF8047B 		ldr	r7, [sp], #4
 446              		.cfi_restore 7
 447              		.cfi_def_cfa_offset 0
 448 0034 7047     		bx	lr
 449              		.cfi_endproc
 450              	.LFE325:
 452              		.section	.text.mem_cmp,"ax",%progbits
 453              		.align	1
 454              		.syntax unified
 455              		.thumb
 456              		.thumb_func
 457              		.fpu fpv5-d16
 459              	mem_cmp:
 460              	.LFB326:
 713:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 714:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory block */
 715:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 716:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {	/* ZR:same, NZ:different */
 461              		.loc 1 716 58
 462              		.cfi_startproc
 463              		@ args = 0, pretend = 0, frame = 32
 464              		@ frame_needed = 1, uses_anonymous_args = 0
 465              		@ link register save eliminated.
 466 0000 80B4     		push	{r7}
 467              		.cfi_def_cfa_offset 4
 468              		.cfi_offset 7, -4
 469 0002 89B0     		sub	sp, sp, #36
 470              		.cfi_def_cfa_offset 40
 471 0004 00AF     		add	r7, sp, #0
 472              		.cfi_def_cfa_register 7
 473 0006 F860     		str	r0, [r7, #12]
 474 0008 B960     		str	r1, [r7, #8]
ARM GAS  /tmp/cc5m2BsI.s 			page 22


 475 000a 7A60     		str	r2, [r7, #4]
 717:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 476              		.loc 1 717 14
 477 000c FB68     		ldr	r3, [r7, #12]
 478 000e FB61     		str	r3, [r7, #28]
 479              		.loc 1 717 38
 480 0010 BB68     		ldr	r3, [r7, #8]
 481 0012 BB61     		str	r3, [r7, #24]
 718:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 482              		.loc 1 718 6
 483 0014 0023     		movs	r3, #0
 484 0016 7B61     		str	r3, [r7, #20]
 485              	.L15:
 719:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 720:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 721:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		r = *d++ - *s++;
 486              		.loc 1 721 9 discriminator 2
 487 0018 FB69     		ldr	r3, [r7, #28]
 488 001a 5A1C     		adds	r2, r3, #1
 489 001c FA61     		str	r2, [r7, #28]
 490              		.loc 1 721 7 discriminator 2
 491 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 492 0020 1946     		mov	r1, r3
 493              		.loc 1 721 16 discriminator 2
 494 0022 BB69     		ldr	r3, [r7, #24]
 495 0024 5A1C     		adds	r2, r3, #1
 496 0026 BA61     		str	r2, [r7, #24]
 497              		.loc 1 721 14 discriminator 2
 498 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 499              		.loc 1 721 5 discriminator 2
 500 002a CB1A     		subs	r3, r1, r3
 501 002c 7B61     		str	r3, [r7, #20]
 722:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--cnt && r == 0);
 502              		.loc 1 722 2 discriminator 2
 503 002e 7B68     		ldr	r3, [r7, #4]
 504 0030 013B     		subs	r3, r3, #1
 505 0032 7B60     		str	r3, [r7, #4]
 506 0034 7B68     		ldr	r3, [r7, #4]
 507 0036 002B     		cmp	r3, #0
 508 0038 02D0     		beq	.L14
 509              		.loc 1 722 17 discriminator 1
 510 003a 7B69     		ldr	r3, [r7, #20]
 511 003c 002B     		cmp	r3, #0
 512 003e EBD0     		beq	.L15
 513              	.L14:
 723:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 724:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 514              		.loc 1 724 9
 515 0040 7B69     		ldr	r3, [r7, #20]
 725:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 516              		.loc 1 725 1
 517 0042 1846     		mov	r0, r3
 518 0044 2437     		adds	r7, r7, #36
 519              		.cfi_def_cfa_offset 4
 520 0046 BD46     		mov	sp, r7
 521              		.cfi_def_cfa_register 13
 522              		@ sp needed
ARM GAS  /tmp/cc5m2BsI.s 			page 23


 523 0048 5DF8047B 		ldr	r7, [sp], #4
 524              		.cfi_restore 7
 525              		.cfi_def_cfa_offset 0
 526 004c 7047     		bx	lr
 527              		.cfi_endproc
 528              	.LFE326:
 530              		.section	.text.chk_chr,"ax",%progbits
 531              		.align	1
 532              		.syntax unified
 533              		.thumb
 534              		.thumb_func
 535              		.fpu fpv5-d16
 537              	chk_chr:
 538              	.LFB327:
 726:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 727:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 728:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 729:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {	/* NZ:contained, ZR:not contained */
 539              		.loc 1 729 40
 540              		.cfi_startproc
 541              		@ args = 0, pretend = 0, frame = 8
 542              		@ frame_needed = 1, uses_anonymous_args = 0
 543              		@ link register save eliminated.
 544 0000 80B4     		push	{r7}
 545              		.cfi_def_cfa_offset 4
 546              		.cfi_offset 7, -4
 547 0002 83B0     		sub	sp, sp, #12
 548              		.cfi_def_cfa_offset 16
 549 0004 00AF     		add	r7, sp, #0
 550              		.cfi_def_cfa_register 7
 551 0006 7860     		str	r0, [r7, #4]
 552 0008 3960     		str	r1, [r7]
 730:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
 553              		.loc 1 730 8
 554 000a 02E0     		b	.L18
 555              	.L20:
 556              		.loc 1 730 33 discriminator 3
 557 000c 7B68     		ldr	r3, [r7, #4]
 558 000e 0133     		adds	r3, r3, #1
 559 0010 7B60     		str	r3, [r7, #4]
 560              	.L18:
 561              		.loc 1 730 9 discriminator 1
 562 0012 7B68     		ldr	r3, [r7, #4]
 563 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 564              		.loc 1 730 8 discriminator 1
 565 0016 002B     		cmp	r3, #0
 566 0018 05D0     		beq	.L19
 567              		.loc 1 730 17 discriminator 2
 568 001a 7B68     		ldr	r3, [r7, #4]
 569 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 570 001e 1A46     		mov	r2, r3
 571              		.loc 1 730 14 discriminator 2
 572 0020 3B68     		ldr	r3, [r7]
 573 0022 9342     		cmp	r3, r2
 574 0024 F2D1     		bne	.L20
 575              	.L19:
 731:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
ARM GAS  /tmp/cc5m2BsI.s 			page 24


 576              		.loc 1 731 9
 577 0026 7B68     		ldr	r3, [r7, #4]
 578 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 732:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 579              		.loc 1 732 1
 580 002a 1846     		mov	r0, r3
 581 002c 0C37     		adds	r7, r7, #12
 582              		.cfi_def_cfa_offset 4
 583 002e BD46     		mov	sp, r7
 584              		.cfi_def_cfa_register 13
 585              		@ sp needed
 586 0030 5DF8047B 		ldr	r7, [sp], #4
 587              		.cfi_restore 7
 588              		.cfi_def_cfa_offset 0
 589 0034 7047     		bx	lr
 590              		.cfi_endproc
 591              	.LFE327:
 593              		.section	.text.sync_window,"ax",%progbits
 594              		.align	1
 595              		.syntax unified
 596              		.thumb
 597              		.thumb_func
 598              		.fpu fpv5-d16
 600              	sync_window:
 601              	.LFB328:
 733:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 734:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 735:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 736:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 738:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 739:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 740:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 741:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 742:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 743:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 744:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
 745:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 746:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return (fs && ff_req_grant(fs->sobj)) ? 1 : 0;
 747:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 748:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 749:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 750:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 751:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 752:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 753:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 754:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
 755:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 756:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs && res != FR_NOT_ENABLED && res != FR_INVALID_DRIVE && res != FR_TIMEOUT) {
 757:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 758:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 759:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 760:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 761:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 762:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 763:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 764:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 25


 765:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
 766:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 767:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 768:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 770:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 771:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 772:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 773:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 774:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
 775:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 776:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 777:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 778:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 779:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 780:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 781:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->obj.fs &&	 	/* Check if the object matched with an open object */
 782:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->obj.sclust &&
 783:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].ofs == dp->dptr) break;
 784:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 785:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
 786:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 787:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 788:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {	/* The object is not opened */
 789:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 790:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 791:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 792:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 793:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 794:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 795:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 796:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 797:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 798:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 799:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 800:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 801:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 802:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 803:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 804:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 805:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 806:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 807:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 808:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 809:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 810:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 811:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
 812:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 813:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 814:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 815:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 816:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 817:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->obj.fs &&
 818:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->obj.sclust &&
 819:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].ofs == dp->dptr) break;
 820:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 821:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 26


 822:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 823:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 824:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 825:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->obj.fs;
 826:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->obj.sclust;
 827:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ofs = dp->dptr;
 828:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 829:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 830:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 831:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 832:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 833:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 834:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 835:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 836:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 837:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 838:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 840:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 841:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 842:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
 843:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 844:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
 845:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 846:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 847:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 848:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 849:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 850:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 851:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n > 0) n--;				/* Decrement read mode open count */
 852:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 853:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 854:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 855:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 856:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 857:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 858:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 859:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 860:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 862:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 863:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 864:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 865:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
 866:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 867:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 868:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 869:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 870:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 871:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 872:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 873:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 874:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_LOCK != 0 */
 875:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 876:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 877:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 878:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc5m2BsI.s 			page 27


 879:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 880:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 881:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 882:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 883:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (	/* Returns FR_OK or FR_DISK_ERROR */
 884:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs			/* File system object */
 885:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
 886:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 602              		.loc 1 886 1
 603              		.cfi_startproc
 604              		@ args = 0, pretend = 0, frame = 24
 605              		@ frame_needed = 1, uses_anonymous_args = 0
 606 0000 80B5     		push	{r7, lr}
 607              		.cfi_def_cfa_offset 8
 608              		.cfi_offset 7, -8
 609              		.cfi_offset 14, -4
 610 0002 86B0     		sub	sp, sp, #24
 611              		.cfi_def_cfa_offset 32
 612 0004 00AF     		add	r7, sp, #0
 613              		.cfi_def_cfa_register 7
 614 0006 7860     		str	r0, [r7, #4]
 887:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 888:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 889:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 615              		.loc 1 889 10
 616 0008 0023     		movs	r3, #0
 617 000a FB73     		strb	r3, [r7, #15]
 890:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 892:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 618              		.loc 1 892 8
 619 000c 7B68     		ldr	r3, [r7, #4]
 620 000e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 621              		.loc 1 892 5
 622 0010 002B     		cmp	r3, #0
 623 0012 34D0     		beq	.L23
 893:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 624              		.loc 1 893 9
 625 0014 7B68     		ldr	r3, [r7, #4]
 626 0016 1B6B     		ldr	r3, [r3, #48]
 627 0018 7B61     		str	r3, [r7, #20]
 894:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win, wsect, 1) != RES_OK) {
 628              		.loc 1 894 7
 629 001a 7B68     		ldr	r3, [r7, #4]
 630 001c 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 631              		.loc 1 894 29
 632 001e 7B68     		ldr	r3, [r7, #4]
 633 0020 03F13401 		add	r1, r3, #52
 634              		.loc 1 894 7
 635 0024 0123     		movs	r3, #1
 636 0026 7A69     		ldr	r2, [r7, #20]
 637 0028 FFF7FEFF 		bl	disk_write
 638 002c 0346     		mov	r3, r0
 639              		.loc 1 894 6
 640 002e 002B     		cmp	r3, #0
 641 0030 02D0     		beq	.L24
 895:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
ARM GAS  /tmp/cc5m2BsI.s 			page 28


 642              		.loc 1 895 8
 643 0032 0123     		movs	r3, #1
 644 0034 FB73     		strb	r3, [r7, #15]
 645 0036 22E0     		b	.L23
 646              	.L24:
 896:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 897:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 647              		.loc 1 897 14
 648 0038 7B68     		ldr	r3, [r7, #4]
 649 003a 0022     		movs	r2, #0
 650 003c DA70     		strb	r2, [r3, #3]
 898:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 651              		.loc 1 898 18
 652 003e 7B68     		ldr	r3, [r7, #4]
 653 0040 5B6A     		ldr	r3, [r3, #36]
 654              		.loc 1 898 14
 655 0042 7A69     		ldr	r2, [r7, #20]
 656 0044 D21A     		subs	r2, r2, r3
 657              		.loc 1 898 32
 658 0046 7B68     		ldr	r3, [r7, #4]
 659 0048 DB69     		ldr	r3, [r3, #28]
 660              		.loc 1 898 7
 661 004a 9A42     		cmp	r2, r3
 662 004c 17D2     		bcs	.L23
 899:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 663              		.loc 1 899 17
 664 004e 7B68     		ldr	r3, [r7, #4]
 665 0050 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 666              		.loc 1 899 13
 667 0052 3B61     		str	r3, [r7, #16]
 668              		.loc 1 899 5
 669 0054 10E0     		b	.L25
 670              	.L26:
 900:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 671              		.loc 1 900 17 discriminator 3
 672 0056 7B68     		ldr	r3, [r7, #4]
 673 0058 DB69     		ldr	r3, [r3, #28]
 674              		.loc 1 900 12 discriminator 3
 675 005a 7A69     		ldr	r2, [r7, #20]
 676 005c 1344     		add	r3, r3, r2
 677 005e 7B61     		str	r3, [r7, #20]
 901:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win, wsect, 1);
 678              		.loc 1 901 6 discriminator 3
 679 0060 7B68     		ldr	r3, [r7, #4]
 680 0062 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 681              		.loc 1 901 28 discriminator 3
 682 0064 7B68     		ldr	r3, [r7, #4]
 683 0066 03F13401 		add	r1, r3, #52
 684              		.loc 1 901 6 discriminator 3
 685 006a 0123     		movs	r3, #1
 686 006c 7A69     		ldr	r2, [r7, #20]
 687 006e FFF7FEFF 		bl	disk_write
 899:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 688              		.loc 1 899 38 discriminator 3
 689 0072 3B69     		ldr	r3, [r7, #16]
 690 0074 013B     		subs	r3, r3, #1
 691 0076 3B61     		str	r3, [r7, #16]
ARM GAS  /tmp/cc5m2BsI.s 			page 29


 692              	.L25:
 899:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 693              		.loc 1 899 5 discriminator 1
 694 0078 3B69     		ldr	r3, [r7, #16]
 695 007a 012B     		cmp	r3, #1
 696 007c EBD8     		bhi	.L26
 697              	.L23:
 902:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 903:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 904:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 905:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 906:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 698              		.loc 1 906 9
 699 007e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 907:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 700              		.loc 1 907 1
 701 0080 1846     		mov	r0, r3
 702 0082 1837     		adds	r7, r7, #24
 703              		.cfi_def_cfa_offset 8
 704 0084 BD46     		mov	sp, r7
 705              		.cfi_def_cfa_register 13
 706              		@ sp needed
 707 0086 80BD     		pop	{r7, pc}
 708              		.cfi_endproc
 709              	.LFE328:
 711              		.section	.text.move_window,"ax",%progbits
 712              		.align	1
 713              		.syntax unified
 714              		.thumb
 715              		.thumb_func
 716              		.fpu fpv5-d16
 718              	move_window:
 719              	.LFB329:
 908:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 909:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 910:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 911:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 912:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (	/* Returns FR_OK or FR_DISK_ERROR */
 913:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
 914:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector		/* Sector number to make appearance in the fs->win[] */
 915:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
 916:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 720              		.loc 1 916 1
 721              		.cfi_startproc
 722              		@ args = 0, pretend = 0, frame = 16
 723              		@ frame_needed = 1, uses_anonymous_args = 0
 724 0000 80B5     		push	{r7, lr}
 725              		.cfi_def_cfa_offset 8
 726              		.cfi_offset 7, -8
 727              		.cfi_offset 14, -4
 728 0002 84B0     		sub	sp, sp, #16
 729              		.cfi_def_cfa_offset 24
 730 0004 00AF     		add	r7, sp, #0
 731              		.cfi_def_cfa_register 7
 732 0006 7860     		str	r0, [r7, #4]
 733 0008 3960     		str	r1, [r7]
 917:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
ARM GAS  /tmp/cc5m2BsI.s 			page 30


 734              		.loc 1 917 10
 735 000a 0023     		movs	r3, #0
 736 000c FB73     		strb	r3, [r7, #15]
 918:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 919:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 920:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 737              		.loc 1 920 18
 738 000e 7B68     		ldr	r3, [r7, #4]
 739 0010 1B6B     		ldr	r3, [r3, #48]
 740              		.loc 1 920 5
 741 0012 3A68     		ldr	r2, [r7]
 742 0014 9A42     		cmp	r2, r3
 743 0016 1BD0     		beq	.L29
 921:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 922:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 744              		.loc 1 922 9
 745 0018 7868     		ldr	r0, [r7, #4]
 746 001a FFF7FEFF 		bl	sync_window
 747 001e 0346     		mov	r3, r0
 748 0020 FB73     		strb	r3, [r7, #15]
 923:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 924:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 749              		.loc 1 924 6
 750 0022 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 751 0024 002B     		cmp	r3, #0
 752 0026 13D1     		bne	.L29
 925:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win, sector, 1) != RES_OK) {
 753              		.loc 1 925 8
 754 0028 7B68     		ldr	r3, [r7, #4]
 755 002a 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 756              		.loc 1 925 29
 757 002c 7B68     		ldr	r3, [r7, #4]
 758 002e 03F13401 		add	r1, r3, #52
 759              		.loc 1 925 8
 760 0032 0123     		movs	r3, #1
 761 0034 3A68     		ldr	r2, [r7]
 762 0036 FFF7FEFF 		bl	disk_read
 763 003a 0346     		mov	r3, r0
 764              		.loc 1 925 7
 765 003c 002B     		cmp	r3, #0
 766 003e 04D0     		beq	.L30
 926:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 767              		.loc 1 926 12
 768 0040 4FF0FF33 		mov	r3, #-1
 769 0044 3B60     		str	r3, [r7]
 927:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 770              		.loc 1 927 9
 771 0046 0123     		movs	r3, #1
 772 0048 FB73     		strb	r3, [r7, #15]
 773              	.L30:
 928:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 929:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 774              		.loc 1 929 16
 775 004a 7B68     		ldr	r3, [r7, #4]
 776 004c 3A68     		ldr	r2, [r7]
 777 004e 1A63     		str	r2, [r3, #48]
 778              	.L29:
ARM GAS  /tmp/cc5m2BsI.s 			page 31


 930:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 931:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 932:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 779              		.loc 1 932 9
 780 0050 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 933:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 781              		.loc 1 933 1
 782 0052 1846     		mov	r0, r3
 783 0054 1037     		adds	r7, r7, #16
 784              		.cfi_def_cfa_offset 8
 785 0056 BD46     		mov	sp, r7
 786              		.cfi_def_cfa_register 13
 787              		@ sp needed
 788 0058 80BD     		pop	{r7, pc}
 789              		.cfi_endproc
 790              	.LFE329:
 792              		.section	.text.sync_fs,"ax",%progbits
 793              		.align	1
 794              		.syntax unified
 795              		.thumb
 796              		.thumb_func
 797              		.fpu fpv5-d16
 799              	sync_fs:
 800              	.LFB330:
 934:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 935:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 936:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 939:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 940:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 941:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 942:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 943:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 944:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK:succeeded, !=0:error */
 945:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 946:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
 947:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 801              		.loc 1 947 1
 802              		.cfi_startproc
 803              		@ args = 0, pretend = 0, frame = 16
 804              		@ frame_needed = 1, uses_anonymous_args = 0
 805 0000 80B5     		push	{r7, lr}
 806              		.cfi_def_cfa_offset 8
 807              		.cfi_offset 7, -8
 808              		.cfi_offset 14, -4
 809 0002 84B0     		sub	sp, sp, #16
 810              		.cfi_def_cfa_offset 24
 811 0004 00AF     		add	r7, sp, #0
 812              		.cfi_def_cfa_register 7
 813 0006 7860     		str	r0, [r7, #4]
 948:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 949:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 950:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 951:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 814              		.loc 1 951 8
 815 0008 7868     		ldr	r0, [r7, #4]
ARM GAS  /tmp/cc5m2BsI.s 			page 32


 816 000a FFF7FEFF 		bl	sync_window
 817 000e 0346     		mov	r3, r0
 818 0010 FB73     		strb	r3, [r7, #15]
 952:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 819              		.loc 1 952 5
 820 0012 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 821 0014 002B     		cmp	r3, #0
 822 0016 58D1     		bne	.L33
 953:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSInfo sector if needed */
 954:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 823              		.loc 1 954 9
 824 0018 7B68     		ldr	r3, [r7, #4]
 825 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 826              		.loc 1 954 6
 827 001c 032B     		cmp	r3, #3
 828 001e 48D1     		bne	.L34
 829              		.loc 1 954 36 discriminator 1
 830 0020 7B68     		ldr	r3, [r7, #4]
 831 0022 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 832              		.loc 1 954 31 discriminator 1
 833 0024 012B     		cmp	r3, #1
 834 0026 44D1     		bne	.L34
 955:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSInfo structure */
 956:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win, 0, SS(fs));
 835              		.loc 1 956 14
 836 0028 7B68     		ldr	r3, [r7, #4]
 837 002a 3433     		adds	r3, r3, #52
 838              		.loc 1 956 4
 839 002c 4FF40072 		mov	r2, #512
 840 0030 0021     		movs	r1, #0
 841 0032 1846     		mov	r0, r3
 842 0034 FFF7FEFF 		bl	mem_set
 957:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + BS_55AA, 0xAA55);
 843              		.loc 1 957 12
 844 0038 7B68     		ldr	r3, [r7, #4]
 845 003a 3433     		adds	r3, r3, #52
 846              		.loc 1 957 4
 847 003c 03F5FF73 		add	r3, r3, #510
 848 0040 4AF65521 		movw	r1, #43605
 849 0044 1846     		mov	r0, r3
 850 0046 FFF7FEFF 		bl	st_word
 958:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_LeadSig, 0x41615252);
 851              		.loc 1 958 13
 852 004a 7B68     		ldr	r3, [r7, #4]
 853 004c 3433     		adds	r3, r3, #52
 854              		.loc 1 958 4
 855 004e 2149     		ldr	r1, .L36
 856 0050 1846     		mov	r0, r3
 857 0052 FFF7FEFF 		bl	st_dword
 959:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_StrucSig, 0x61417272);
 858              		.loc 1 959 13
 859 0056 7B68     		ldr	r3, [r7, #4]
 860 0058 3433     		adds	r3, r3, #52
 861              		.loc 1 959 4
 862 005a 03F5F273 		add	r3, r3, #484
 863 005e 1E49     		ldr	r1, .L36+4
 864 0060 1846     		mov	r0, r3
ARM GAS  /tmp/cc5m2BsI.s 			page 33


 865 0062 FFF7FEFF 		bl	st_dword
 960:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Free_Count, fs->free_clst);
 866              		.loc 1 960 13
 867 0066 7B68     		ldr	r3, [r7, #4]
 868 0068 3433     		adds	r3, r3, #52
 869              		.loc 1 960 4
 870 006a 03F5F472 		add	r2, r3, #488
 871 006e 7B68     		ldr	r3, [r7, #4]
 872 0070 5B69     		ldr	r3, [r3, #20]
 873 0072 1946     		mov	r1, r3
 874 0074 1046     		mov	r0, r2
 875 0076 FFF7FEFF 		bl	st_dword
 961:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + FSI_Nxt_Free, fs->last_clst);
 876              		.loc 1 961 13
 877 007a 7B68     		ldr	r3, [r7, #4]
 878 007c 3433     		adds	r3, r3, #52
 879              		.loc 1 961 4
 880 007e 03F5F672 		add	r2, r3, #492
 881 0082 7B68     		ldr	r3, [r7, #4]
 882 0084 1B69     		ldr	r3, [r3, #16]
 883 0086 1946     		mov	r1, r3
 884 0088 1046     		mov	r0, r2
 885 008a FFF7FEFF 		bl	st_dword
 962:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSInfo sector */
 963:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 886              		.loc 1 963 20
 887 008e 7B68     		ldr	r3, [r7, #4]
 888 0090 1B6A     		ldr	r3, [r3, #32]
 889              		.loc 1 963 30
 890 0092 5A1C     		adds	r2, r3, #1
 891              		.loc 1 963 16
 892 0094 7B68     		ldr	r3, [r7, #4]
 893 0096 1A63     		str	r2, [r3, #48]
 964:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win, fs->winsect, 1);
 894              		.loc 1 964 4
 895 0098 7B68     		ldr	r3, [r7, #4]
 896 009a 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 897              		.loc 1 964 26
 898 009c 7B68     		ldr	r3, [r7, #4]
 899 009e 03F13401 		add	r1, r3, #52
 900              		.loc 1 964 4
 901 00a2 7B68     		ldr	r3, [r7, #4]
 902 00a4 1A6B     		ldr	r2, [r3, #48]
 903 00a6 0123     		movs	r3, #1
 904 00a8 FFF7FEFF 		bl	disk_write
 965:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 905              		.loc 1 965 17
 906 00ac 7B68     		ldr	r3, [r7, #4]
 907 00ae 0022     		movs	r2, #0
 908 00b0 1A71     		strb	r2, [r3, #4]
 909              	.L34:
 966:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 967:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 968:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK) res = FR_DISK_ERR;
 910              		.loc 1 968 7
 911 00b2 7B68     		ldr	r3, [r7, #4]
 912 00b4 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 34


 913 00b6 0022     		movs	r2, #0
 914 00b8 0021     		movs	r1, #0
 915 00ba 1846     		mov	r0, r3
 916 00bc FFF7FEFF 		bl	disk_ioctl
 917 00c0 0346     		mov	r3, r0
 918              		.loc 1 968 6
 919 00c2 002B     		cmp	r3, #0
 920 00c4 01D0     		beq	.L33
 921              		.loc 1 968 56 discriminator 1
 922 00c6 0123     		movs	r3, #1
 923 00c8 FB73     		strb	r3, [r7, #15]
 924              	.L33:
 969:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 970:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 971:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 925              		.loc 1 971 9
 926 00ca FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 972:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 927              		.loc 1 972 1
 928 00cc 1846     		mov	r0, r3
 929 00ce 1037     		adds	r7, r7, #16
 930              		.cfi_def_cfa_offset 8
 931 00d0 BD46     		mov	sp, r7
 932              		.cfi_def_cfa_register 13
 933              		@ sp needed
 934 00d2 80BD     		pop	{r7, pc}
 935              	.L37:
 936              		.align	2
 937              	.L36:
 938 00d4 52526141 		.word	1096897106
 939 00d8 72724161 		.word	1631679090
 940              		.cfi_endproc
 941              	.LFE330:
 943              		.section	.text.clust2sect,"ax",%progbits
 944              		.align	1
 945              		.syntax unified
 946              		.thumb
 947              		.thumb_func
 948              		.fpu fpv5-d16
 950              	clust2sect:
 951              	.LFB331:
 973:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 974:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 975:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 977:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 978:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 979:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 980:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 981:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 982:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
 983:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0:Sector number, 0:Failed (invalid cluster#) */
 984:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 985:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 986:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
 987:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 952              		.loc 1 987 1
ARM GAS  /tmp/cc5m2BsI.s 			page 35


 953              		.cfi_startproc
 954              		@ args = 0, pretend = 0, frame = 8
 955              		@ frame_needed = 1, uses_anonymous_args = 0
 956              		@ link register save eliminated.
 957 0000 80B4     		push	{r7}
 958              		.cfi_def_cfa_offset 4
 959              		.cfi_offset 7, -4
 960 0002 83B0     		sub	sp, sp, #12
 961              		.cfi_def_cfa_offset 16
 962 0004 00AF     		add	r7, sp, #0
 963              		.cfi_def_cfa_register 7
 964 0006 7860     		str	r0, [r7, #4]
 965 0008 3960     		str	r1, [r7]
 988:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 966              		.loc 1 988 7
 967 000a 3B68     		ldr	r3, [r7]
 968 000c 023B     		subs	r3, r3, #2
 969 000e 3B60     		str	r3, [r7]
 989:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 970              		.loc 1 989 16
 971 0010 7B68     		ldr	r3, [r7, #4]
 972 0012 9B69     		ldr	r3, [r3, #24]
 973              		.loc 1 989 27
 974 0014 023B     		subs	r3, r3, #2
 975              		.loc 1 989 5
 976 0016 3A68     		ldr	r2, [r7]
 977 0018 9A42     		cmp	r2, r3
 978 001a 01D3     		bcc	.L39
 979              		.loc 1 989 39 discriminator 1
 980 001c 0023     		movs	r3, #0
 981 001e 08E0     		b	.L40
 982              	.L39:
 990:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 983              		.loc 1 990 18
 984 0020 7B68     		ldr	r3, [r7, #4]
 985 0022 5B89     		ldrh	r3, [r3, #10]
 986 0024 1A46     		mov	r2, r3
 987              		.loc 1 990 14
 988 0026 3B68     		ldr	r3, [r7]
 989 0028 03FB02F2 		mul	r2, r3, r2
 990              		.loc 1 990 30
 991 002c 7B68     		ldr	r3, [r7, #4]
 992 002e DB6A     		ldr	r3, [r3, #44]
 993              		.loc 1 990 26
 994 0030 1344     		add	r3, r3, r2
 995              	.L40:
 991:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 996              		.loc 1 991 1
 997 0032 1846     		mov	r0, r3
 998 0034 0C37     		adds	r7, r7, #12
 999              		.cfi_def_cfa_offset 4
 1000 0036 BD46     		mov	sp, r7
 1001              		.cfi_def_cfa_register 13
 1002              		@ sp needed
 1003 0038 5DF8047B 		ldr	r7, [sp], #4
 1004              		.cfi_restore 7
 1005              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/cc5m2BsI.s 			page 36


 1006 003c 7047     		bx	lr
 1007              		.cfi_endproc
 1008              	.LFE331:
 1010              		.section	.text.get_fat,"ax",%progbits
 1011              		.align	1
 1012              		.syntax unified
 1013              		.thumb
 1014              		.thumb_func
 1015              		.fpu fpv5-d16
 1017              	get_fat:
 1018              	.LFB332:
 992:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 993:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 994:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 995:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 996:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 997:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 998:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 999:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1000:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1001:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x7FFFFFFF:Cluster status */
1002:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Corresponding object */
1003:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* Cluster number to get the value */
1004:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1005:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 1019              		.loc 1 1005 1
 1020              		.cfi_startproc
 1021              		@ args = 0, pretend = 0, frame = 24
 1022              		@ frame_needed = 1, uses_anonymous_args = 0
 1023 0000 80B5     		push	{r7, lr}
 1024              		.cfi_def_cfa_offset 8
 1025              		.cfi_offset 7, -8
 1026              		.cfi_offset 14, -4
 1027 0002 86B0     		sub	sp, sp, #24
 1028              		.cfi_def_cfa_offset 32
 1029 0004 00AF     		add	r7, sp, #0
 1030              		.cfi_def_cfa_register 7
 1031 0006 7860     		str	r0, [r7, #4]
 1032 0008 3960     		str	r1, [r7]
1006:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
1007:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
1008:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 1033              		.loc 1 1008 9
 1034 000a 7B68     		ldr	r3, [r7, #4]
 1035 000c 1B68     		ldr	r3, [r3]
 1036 000e 3B61     		str	r3, [r7, #16]
1009:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1010:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1011:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check if in valid range */
 1037              		.loc 1 1011 5
 1038 0010 3B68     		ldr	r3, [r7]
 1039 0012 012B     		cmp	r3, #1
 1040 0014 04D9     		bls	.L42
 1041              		.loc 1 1011 28 discriminator 1
 1042 0016 3B69     		ldr	r3, [r7, #16]
 1043 0018 9B69     		ldr	r3, [r3, #24]
 1044              		.loc 1 1011 15 discriminator 1
ARM GAS  /tmp/cc5m2BsI.s 			page 37


 1045 001a 3A68     		ldr	r2, [r7]
 1046 001c 9A42     		cmp	r2, r3
 1047 001e 02D3     		bcc	.L43
 1048              	.L42:
1012:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 1049              		.loc 1 1012 7
 1050 0020 0123     		movs	r3, #1
 1051 0022 7B61     		str	r3, [r7, #20]
 1052 0024 8FE0     		b	.L44
 1053              	.L43:
1013:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1014:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1015:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
 1054              		.loc 1 1015 7
 1055 0026 4FF0FF33 		mov	r3, #-1
 1056 002a 7B61     		str	r3, [r7, #20]
1016:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1017:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 1057              		.loc 1 1017 13
 1058 002c 3B69     		ldr	r3, [r7, #16]
 1059 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1060              		.loc 1 1017 3
 1061 0030 032B     		cmp	r3, #3
 1062 0032 62D0     		beq	.L45
 1063 0034 032B     		cmp	r3, #3
 1064 0036 7CDC     		bgt	.L46
 1065 0038 012B     		cmp	r3, #1
 1066 003a 02D0     		beq	.L47
 1067 003c 022B     		cmp	r3, #2
 1068 003e 42D0     		beq	.L48
 1069 0040 77E0     		b	.L46
 1070              	.L47:
1018:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
1019:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 1071              		.loc 1 1019 7
 1072 0042 3B68     		ldr	r3, [r7]
 1073 0044 FB60     		str	r3, [r7, #12]
 1074              		.loc 1 1019 30
 1075 0046 FB68     		ldr	r3, [r7, #12]
 1076 0048 5B08     		lsrs	r3, r3, #1
 1077              		.loc 1 1019 24
 1078 004a FA68     		ldr	r2, [r7, #12]
 1079 004c 1344     		add	r3, r3, r2
 1080 004e FB60     		str	r3, [r7, #12]
1020:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 1081              		.loc 1 1020 26
 1082 0050 3B69     		ldr	r3, [r7, #16]
 1083 0052 5A6A     		ldr	r2, [r3, #36]
 1084              		.loc 1 1020 42
 1085 0054 FB68     		ldr	r3, [r7, #12]
 1086 0056 5B0A     		lsrs	r3, r3, #9
 1087              		.loc 1 1020 8
 1088 0058 1344     		add	r3, r3, r2
 1089 005a 1946     		mov	r1, r3
 1090 005c 3869     		ldr	r0, [r7, #16]
 1091 005e FFF7FEFF 		bl	move_window
 1092 0062 0346     		mov	r3, r0
ARM GAS  /tmp/cc5m2BsI.s 			page 38


 1093              		.loc 1 1020 7
 1094 0064 002B     		cmp	r3, #0
 1095 0066 67D1     		bne	.L56
1021:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 1096              		.loc 1 1021 19
 1097 0068 FB68     		ldr	r3, [r7, #12]
 1098 006a 5A1C     		adds	r2, r3, #1
 1099 006c FA60     		str	r2, [r7, #12]
 1100              		.loc 1 1021 22
 1101 006e C3F30803 		ubfx	r3, r3, #0, #9
 1102              		.loc 1 1021 16
 1103 0072 3A69     		ldr	r2, [r7, #16]
 1104 0074 1344     		add	r3, r3, r2
 1105 0076 93F83430 		ldrb	r3, [r3, #52]	@ zero_extendqisi2
 1106              		.loc 1 1021 7
 1107 007a BB60     		str	r3, [r7, #8]
1022:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 1108              		.loc 1 1022 26
 1109 007c 3B69     		ldr	r3, [r7, #16]
 1110 007e 5A6A     		ldr	r2, [r3, #36]
 1111              		.loc 1 1022 42
 1112 0080 FB68     		ldr	r3, [r7, #12]
 1113 0082 5B0A     		lsrs	r3, r3, #9
 1114              		.loc 1 1022 8
 1115 0084 1344     		add	r3, r3, r2
 1116 0086 1946     		mov	r1, r3
 1117 0088 3869     		ldr	r0, [r7, #16]
 1118 008a FFF7FEFF 		bl	move_window
 1119 008e 0346     		mov	r3, r0
 1120              		.loc 1 1022 7
 1121 0090 002B     		cmp	r3, #0
 1122 0092 53D1     		bne	.L57
1023:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 1123              		.loc 1 1023 21
 1124 0094 FB68     		ldr	r3, [r7, #12]
 1125 0096 C3F30803 		ubfx	r3, r3, #0, #9
 1126              		.loc 1 1023 17
 1127 009a 3A69     		ldr	r2, [r7, #16]
 1128 009c 1344     		add	r3, r3, r2
 1129 009e 93F83430 		ldrb	r3, [r3, #52]	@ zero_extendqisi2
 1130              		.loc 1 1023 31
 1131 00a2 1B02     		lsls	r3, r3, #8
 1132 00a4 1A46     		mov	r2, r3
 1133              		.loc 1 1023 7
 1134 00a6 BB68     		ldr	r3, [r7, #8]
 1135 00a8 1343     		orrs	r3, r3, r2
 1136 00aa BB60     		str	r3, [r7, #8]
1024:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			val = (clst & 1) ? (wc >> 4) : (wc & 0xFFF);
 1137              		.loc 1 1024 16
 1138 00ac 3B68     		ldr	r3, [r7]
 1139 00ae 03F00103 		and	r3, r3, #1
 1140              		.loc 1 1024 33
 1141 00b2 002B     		cmp	r3, #0
 1142 00b4 02D0     		beq	.L51
 1143              		.loc 1 1024 33 is_stmt 0 discriminator 1
 1144 00b6 BB68     		ldr	r3, [r7, #8]
 1145 00b8 1B09     		lsrs	r3, r3, #4
ARM GAS  /tmp/cc5m2BsI.s 			page 39


 1146 00ba 02E0     		b	.L52
 1147              	.L51:
 1148              		.loc 1 1024 33 discriminator 2
 1149 00bc BB68     		ldr	r3, [r7, #8]
 1150 00be C3F30B03 		ubfx	r3, r3, #0, #12
 1151              	.L52:
 1152              		.loc 1 1024 8 is_stmt 1 discriminator 4
 1153 00c2 7B61     		str	r3, [r7, #20]
1025:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 1154              		.loc 1 1025 4 discriminator 4
 1155 00c4 3FE0     		b	.L44
 1156              	.L48:
1026:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1027:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
1028:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
 1157              		.loc 1 1028 26
 1158 00c6 3B69     		ldr	r3, [r7, #16]
 1159 00c8 5A6A     		ldr	r2, [r3, #36]
 1160              		.loc 1 1028 44
 1161 00ca 3B68     		ldr	r3, [r7]
 1162 00cc 1B0A     		lsrs	r3, r3, #8
 1163              		.loc 1 1028 8
 1164 00ce 1344     		add	r3, r3, r2
 1165 00d0 1946     		mov	r1, r3
 1166 00d2 3869     		ldr	r0, [r7, #16]
 1167 00d4 FFF7FEFF 		bl	move_window
 1168 00d8 0346     		mov	r3, r0
 1169              		.loc 1 1028 7
 1170 00da 002B     		cmp	r3, #0
 1171 00dc 30D1     		bne	.L58
1029:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 1172              		.loc 1 1029 18
 1173 00de 3B69     		ldr	r3, [r7, #16]
 1174 00e0 03F13402 		add	r2, r3, #52
 1175              		.loc 1 1029 33
 1176 00e4 3B68     		ldr	r3, [r7]
 1177 00e6 5B00     		lsls	r3, r3, #1
 1178              		.loc 1 1029 37
 1179 00e8 03F4FF73 		and	r3, r3, #510
 1180              		.loc 1 1029 10
 1181 00ec 1344     		add	r3, r3, r2
 1182 00ee 1846     		mov	r0, r3
 1183 00f0 FFF7FEFF 		bl	ld_word
 1184 00f4 0346     		mov	r3, r0
 1185              		.loc 1 1029 8
 1186 00f6 7B61     		str	r3, [r7, #20]
1030:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 1187              		.loc 1 1030 4
 1188 00f8 25E0     		b	.L44
 1189              	.L45:
1031:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1032:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
1033:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
 1190              		.loc 1 1033 26
 1191 00fa 3B69     		ldr	r3, [r7, #16]
 1192 00fc 5A6A     		ldr	r2, [r3, #36]
 1193              		.loc 1 1033 44
ARM GAS  /tmp/cc5m2BsI.s 			page 40


 1194 00fe 3B68     		ldr	r3, [r7]
 1195 0100 DB09     		lsrs	r3, r3, #7
 1196              		.loc 1 1033 8
 1197 0102 1344     		add	r3, r3, r2
 1198 0104 1946     		mov	r1, r3
 1199 0106 3869     		ldr	r0, [r7, #16]
 1200 0108 FFF7FEFF 		bl	move_window
 1201 010c 0346     		mov	r3, r0
 1202              		.loc 1 1033 7
 1203 010e 002B     		cmp	r3, #0
 1204 0110 18D1     		bne	.L59
1034:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 1205              		.loc 1 1034 19
 1206 0112 3B69     		ldr	r3, [r7, #16]
 1207 0114 03F13402 		add	r2, r3, #52
 1208              		.loc 1 1034 34
 1209 0118 3B68     		ldr	r3, [r7]
 1210 011a 9B00     		lsls	r3, r3, #2
 1211              		.loc 1 1034 38
 1212 011c 03F4FE73 		and	r3, r3, #508
 1213              		.loc 1 1034 10
 1214 0120 1344     		add	r3, r3, r2
 1215 0122 1846     		mov	r0, r3
 1216 0124 FFF7FEFF 		bl	ld_dword
 1217 0128 0346     		mov	r3, r0
 1218              		.loc 1 1034 8
 1219 012a 23F07043 		bic	r3, r3, #-268435456
 1220 012e 7B61     		str	r3, [r7, #20]
1035:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 1221              		.loc 1 1035 4
 1222 0130 09E0     		b	.L44
 1223              	.L46:
1036:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1037:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1038:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->objsize) {
1039:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD cofs = clst - obj->sclust;	/* Offset from start cluster */
1040:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				DWORD clen = (DWORD)((obj->objsize - 1) / SS(fs)) / fs->csize;	/* Number of clusters - 1 */
1041:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1042:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 2) {	/* Is there no valid chain on the FAT? */
1043:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cofs <= clen) {
1044:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						val = (cofs == clen) ? 0x7FFFFFFF : clst + 1;	/* Generate the value */
1045:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						break;
1046:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1047:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1048:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat == 3 && cofs < obj->n_cont) {	/* Is it in the 1st fragment? */
1049:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					val = clst + 1; 	/* Generate the value */
1050:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1051:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1052:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->stat != 2) {	/* Get value from FAT if FAT chain is valid */
1053:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->n_frag != 0) {	/* Is it on the growing edge? */
1054:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						val = 0x7FFFFFFF;	/* Generate EOC */
1055:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
1056:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
1057:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x7FFFFFFF;
1058:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1059:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
1060:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/cc5m2BsI.s 			page 41


1061:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1062:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* go to default */
1063:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1064:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
1065:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
 1224              		.loc 1 1065 8
 1225 0132 0123     		movs	r3, #1
 1226 0134 7B61     		str	r3, [r7, #20]
 1227 0136 06E0     		b	.L44
 1228              	.L56:
1020:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win[bc++ % SS(fs)];
 1229              		.loc 1 1020 4
 1230 0138 00BF     		nop
 1231 013a 04E0     		b	.L44
 1232              	.L57:
1022:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win[bc % SS(fs)] << 8;
 1233              		.loc 1 1022 4
 1234 013c 00BF     		nop
 1235 013e 02E0     		b	.L44
 1236              	.L58:
1028:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_word(fs->win + clst * 2 % SS(fs));
 1237              		.loc 1 1028 4
 1238 0140 00BF     		nop
 1239 0142 00E0     		b	.L44
 1240              	.L59:
1033:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			val = ld_dword(fs->win + clst * 4 % SS(fs)) & 0x0FFFFFFF;
 1241              		.loc 1 1033 4
 1242 0144 00BF     		nop
 1243              	.L44:
1066:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1067:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1068:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1069:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
 1244              		.loc 1 1069 9
 1245 0146 7B69     		ldr	r3, [r7, #20]
1070:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 1246              		.loc 1 1070 1
 1247 0148 1846     		mov	r0, r3
 1248 014a 1837     		adds	r7, r7, #24
 1249              		.cfi_def_cfa_offset 8
 1250 014c BD46     		mov	sp, r7
 1251              		.cfi_def_cfa_register 13
 1252              		@ sp needed
 1253 014e 80BD     		pop	{r7, pc}
 1254              		.cfi_endproc
 1255              	.LFE332:
 1257              		.section	.text.put_fat,"ax",%progbits
 1258              		.align	1
 1259              		.syntax unified
 1260              		.thumb
 1261              		.thumb_func
 1262              		.fpu fpv5-d16
 1264              	put_fat:
 1265              	.LFB333:
1071:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1073:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 42


1074:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1075:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1076:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1077:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
1078:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1079:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1080:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1081:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (	/* FR_OK(0):succeeded, !=0:error */
1082:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Corresponding file system object */
1083:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,		/* FAT index number (cluster number) to be changed */
1084:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val		/* New value to be set to the entry */
1085:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1086:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 1266              		.loc 1 1086 1
 1267              		.cfi_startproc
 1268              		@ args = 0, pretend = 0, frame = 32
 1269              		@ frame_needed = 1, uses_anonymous_args = 0
 1270 0000 90B5     		push	{r4, r7, lr}
 1271              		.cfi_def_cfa_offset 12
 1272              		.cfi_offset 4, -12
 1273              		.cfi_offset 7, -8
 1274              		.cfi_offset 14, -4
 1275 0002 89B0     		sub	sp, sp, #36
 1276              		.cfi_def_cfa_offset 48
 1277 0004 00AF     		add	r7, sp, #0
 1278              		.cfi_def_cfa_register 7
 1279 0006 F860     		str	r0, [r7, #12]
 1280 0008 B960     		str	r1, [r7, #8]
 1281 000a 7A60     		str	r2, [r7, #4]
1087:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
1088:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
1089:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INT_ERR;
 1282              		.loc 1 1089 10
 1283 000c 0223     		movs	r3, #2
 1284 000e FB77     		strb	r3, [r7, #31]
1090:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1091:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= 2 && clst < fs->n_fatent) {	/* Check if in valid range */
 1285              		.loc 1 1091 5
 1286 0010 BB68     		ldr	r3, [r7, #8]
 1287 0012 012B     		cmp	r3, #1
 1288 0014 40F2D280 		bls	.L74
 1289              		.loc 1 1091 28 discriminator 1
 1290 0018 FB68     		ldr	r3, [r7, #12]
 1291 001a 9B69     		ldr	r3, [r3, #24]
 1292              		.loc 1 1091 16 discriminator 1
 1293 001c BA68     		ldr	r2, [r7, #8]
 1294 001e 9A42     		cmp	r2, r3
 1295 0020 80F0CC80 		bcs	.L74
1092:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 1296              		.loc 1 1092 13
 1297 0024 FB68     		ldr	r3, [r7, #12]
 1298 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1299              		.loc 1 1092 3
 1300 0028 032B     		cmp	r3, #3
 1301 002a 00F09680 		beq	.L62
 1302 002e 032B     		cmp	r3, #3
 1303 0030 00F3CD80 		bgt	.L61
ARM GAS  /tmp/cc5m2BsI.s 			page 43


 1304 0034 012B     		cmp	r3, #1
 1305 0036 02D0     		beq	.L63
 1306 0038 022B     		cmp	r3, #2
 1307 003a 6ED0     		beq	.L64
 1308 003c C7E0     		b	.L61
 1309              	.L63:
1093:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :	/* Bitfield items */
1094:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 1310              		.loc 1 1094 7
 1311 003e BB68     		ldr	r3, [r7, #8]
 1312 0040 BB61     		str	r3, [r7, #24]
 1313              		.loc 1 1094 30
 1314 0042 BB69     		ldr	r3, [r7, #24]
 1315 0044 5B08     		lsrs	r3, r3, #1
 1316              		.loc 1 1094 24
 1317 0046 BA69     		ldr	r2, [r7, #24]
 1318 0048 1344     		add	r3, r3, r2
 1319 004a BB61     		str	r3, [r7, #24]
1095:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 1320              		.loc 1 1095 28
 1321 004c FB68     		ldr	r3, [r7, #12]
 1322 004e 5A6A     		ldr	r2, [r3, #36]
 1323              		.loc 1 1095 44
 1324 0050 BB69     		ldr	r3, [r7, #24]
 1325 0052 5B0A     		lsrs	r3, r3, #9
 1326              		.loc 1 1095 10
 1327 0054 1344     		add	r3, r3, r2
 1328 0056 1946     		mov	r1, r3
 1329 0058 F868     		ldr	r0, [r7, #12]
 1330 005a FFF7FEFF 		bl	move_window
 1331 005e 0346     		mov	r3, r0
 1332 0060 FB77     		strb	r3, [r7, #31]
1096:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 1333              		.loc 1 1096 7
 1334 0062 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1335 0064 002B     		cmp	r3, #0
 1336 0066 40F0AB80 		bne	.L75
1097:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 1337              		.loc 1 1097 8
 1338 006a FB68     		ldr	r3, [r7, #12]
 1339 006c 03F13402 		add	r2, r3, #52
 1340              		.loc 1 1097 23
 1341 0070 BB69     		ldr	r3, [r7, #24]
 1342 0072 591C     		adds	r1, r3, #1
 1343 0074 B961     		str	r1, [r7, #24]
 1344 0076 C3F30803 		ubfx	r3, r3, #0, #9
 1345              		.loc 1 1097 6
 1346 007a 1344     		add	r3, r3, r2
 1347 007c 7B61     		str	r3, [r7, #20]
1098:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 1348              		.loc 1 1098 15
 1349 007e BB68     		ldr	r3, [r7, #8]
 1350 0080 03F00103 		and	r3, r3, #1
 1351              		.loc 1 1098 7
 1352 0084 002B     		cmp	r3, #0
 1353 0086 0DD0     		beq	.L66
 1354              		.loc 1 1098 24 discriminator 1
ARM GAS  /tmp/cc5m2BsI.s 			page 44


 1355 0088 7B69     		ldr	r3, [r7, #20]
 1356 008a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1357 008c 5BB2     		sxtb	r3, r3
 1358              		.loc 1 1098 27 discriminator 1
 1359 008e 03F00F03 		and	r3, r3, #15
 1360 0092 5AB2     		sxtb	r2, r3
 1361              		.loc 1 1098 38 discriminator 1
 1362 0094 7B68     		ldr	r3, [r7, #4]
 1363 0096 DBB2     		uxtb	r3, r3
 1364              		.loc 1 1098 48 discriminator 1
 1365 0098 1B01     		lsls	r3, r3, #4
 1366              		.loc 1 1098 35 discriminator 1
 1367 009a 5BB2     		sxtb	r3, r3
 1368 009c 1343     		orrs	r3, r3, r2
 1369 009e 5BB2     		sxtb	r3, r3
 1370              		.loc 1 1098 7 discriminator 1
 1371 00a0 DBB2     		uxtb	r3, r3
 1372 00a2 01E0     		b	.L67
 1373              	.L66:
 1374              		.loc 1 1098 7 is_stmt 0 discriminator 2
 1375 00a4 7B68     		ldr	r3, [r7, #4]
 1376 00a6 DBB2     		uxtb	r3, r3
 1377              	.L67:
 1378              		.loc 1 1098 7 discriminator 4
 1379 00a8 7A69     		ldr	r2, [r7, #20]
 1380 00aa 1370     		strb	r3, [r2]
1099:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 1381              		.loc 1 1099 14 is_stmt 1 discriminator 4
 1382 00ac FB68     		ldr	r3, [r7, #12]
 1383 00ae 0122     		movs	r2, #1
 1384 00b0 DA70     		strb	r2, [r3, #3]
1100:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 1385              		.loc 1 1100 28 discriminator 4
 1386 00b2 FB68     		ldr	r3, [r7, #12]
 1387 00b4 5A6A     		ldr	r2, [r3, #36]
 1388              		.loc 1 1100 44 discriminator 4
 1389 00b6 BB69     		ldr	r3, [r7, #24]
 1390 00b8 5B0A     		lsrs	r3, r3, #9
 1391              		.loc 1 1100 10 discriminator 4
 1392 00ba 1344     		add	r3, r3, r2
 1393 00bc 1946     		mov	r1, r3
 1394 00be F868     		ldr	r0, [r7, #12]
 1395 00c0 FFF7FEFF 		bl	move_window
 1396 00c4 0346     		mov	r3, r0
 1397 00c6 FB77     		strb	r3, [r7, #31]
1101:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 1398              		.loc 1 1101 7 discriminator 4
 1399 00c8 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1400 00ca 002B     		cmp	r3, #0
 1401 00cc 7AD1     		bne	.L76
1102:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 1402              		.loc 1 1102 8
 1403 00ce FB68     		ldr	r3, [r7, #12]
 1404 00d0 03F13402 		add	r2, r3, #52
 1405              		.loc 1 1102 21
 1406 00d4 BB69     		ldr	r3, [r7, #24]
 1407 00d6 C3F30803 		ubfx	r3, r3, #0, #9
ARM GAS  /tmp/cc5m2BsI.s 			page 45


 1408              		.loc 1 1102 6
 1409 00da 1344     		add	r3, r3, r2
 1410 00dc 7B61     		str	r3, [r7, #20]
1103:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 1411              		.loc 1 1103 15
 1412 00de BB68     		ldr	r3, [r7, #8]
 1413 00e0 03F00103 		and	r3, r3, #1
 1414              		.loc 1 1103 7
 1415 00e4 002B     		cmp	r3, #0
 1416 00e6 03D0     		beq	.L69
 1417              		.loc 1 1103 33 discriminator 1
 1418 00e8 7B68     		ldr	r3, [r7, #4]
 1419 00ea 1B09     		lsrs	r3, r3, #4
 1420              		.loc 1 1103 7 discriminator 1
 1421 00ec DBB2     		uxtb	r3, r3
 1422 00ee 0EE0     		b	.L70
 1423              	.L69:
 1424              		.loc 1 1103 43 discriminator 2
 1425 00f0 7B69     		ldr	r3, [r7, #20]
 1426 00f2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1427 00f4 5BB2     		sxtb	r3, r3
 1428              		.loc 1 1103 46 discriminator 2
 1429 00f6 23F00F03 		bic	r3, r3, #15
 1430 00fa 5AB2     		sxtb	r2, r3
 1431              		.loc 1 1103 68 discriminator 2
 1432 00fc 7B68     		ldr	r3, [r7, #4]
 1433 00fe 1B0A     		lsrs	r3, r3, #8
 1434              		.loc 1 1103 57 discriminator 2
 1435 0100 5BB2     		sxtb	r3, r3
 1436              		.loc 1 1103 74 discriminator 2
 1437 0102 03F00F03 		and	r3, r3, #15
 1438 0106 5BB2     		sxtb	r3, r3
 1439              		.loc 1 1103 54 discriminator 2
 1440 0108 1343     		orrs	r3, r3, r2
 1441 010a 5BB2     		sxtb	r3, r3
 1442              		.loc 1 1103 7 discriminator 2
 1443 010c DBB2     		uxtb	r3, r3
 1444              	.L70:
 1445              		.loc 1 1103 7 is_stmt 0 discriminator 4
 1446 010e 7A69     		ldr	r2, [r7, #20]
 1447 0110 1370     		strb	r3, [r2]
1104:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 1448              		.loc 1 1104 14 is_stmt 1 discriminator 4
 1449 0112 FB68     		ldr	r3, [r7, #12]
 1450 0114 0122     		movs	r2, #1
 1451 0116 DA70     		strb	r2, [r3, #3]
1105:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 1452              		.loc 1 1105 4 discriminator 4
 1453 0118 59E0     		b	.L61
 1454              	.L64:
1106:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1107:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :	/* WORD aligned items */
1108:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
 1455              		.loc 1 1108 28
 1456 011a FB68     		ldr	r3, [r7, #12]
 1457 011c 5A6A     		ldr	r2, [r3, #36]
 1458              		.loc 1 1108 46
ARM GAS  /tmp/cc5m2BsI.s 			page 46


 1459 011e BB68     		ldr	r3, [r7, #8]
 1460 0120 1B0A     		lsrs	r3, r3, #8
 1461              		.loc 1 1108 10
 1462 0122 1344     		add	r3, r3, r2
 1463 0124 1946     		mov	r1, r3
 1464 0126 F868     		ldr	r0, [r7, #12]
 1465 0128 FFF7FEFF 		bl	move_window
 1466 012c 0346     		mov	r3, r0
 1467 012e FB77     		strb	r3, [r7, #31]
1109:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 1468              		.loc 1 1109 7
 1469 0130 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1470 0132 002B     		cmp	r3, #0
 1471 0134 48D1     		bne	.L77
1110:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 1472              		.loc 1 1110 12
 1473 0136 FB68     		ldr	r3, [r7, #12]
 1474 0138 03F13402 		add	r2, r3, #52
 1475              		.loc 1 1110 27
 1476 013c BB68     		ldr	r3, [r7, #8]
 1477 013e 5B00     		lsls	r3, r3, #1
 1478              		.loc 1 1110 31
 1479 0140 03F4FF73 		and	r3, r3, #510
 1480              		.loc 1 1110 4
 1481 0144 1344     		add	r3, r3, r2
 1482 0146 7A68     		ldr	r2, [r7, #4]
 1483 0148 92B2     		uxth	r2, r2
 1484 014a 1146     		mov	r1, r2
 1485 014c 1846     		mov	r0, r3
 1486 014e FFF7FEFF 		bl	st_word
1111:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 1487              		.loc 1 1111 14
 1488 0152 FB68     		ldr	r3, [r7, #12]
 1489 0154 0122     		movs	r2, #1
 1490 0156 DA70     		strb	r2, [r3, #3]
1112:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 1491              		.loc 1 1112 4
 1492 0158 39E0     		b	.L61
 1493              	.L62:
1113:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1114:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :	/* DWORD aligned items */
1115:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1116:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_EXFAT :
1117:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1118:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
 1494              		.loc 1 1118 28
 1495 015a FB68     		ldr	r3, [r7, #12]
 1496 015c 5A6A     		ldr	r2, [r3, #36]
 1497              		.loc 1 1118 46
 1498 015e BB68     		ldr	r3, [r7, #8]
 1499 0160 DB09     		lsrs	r3, r3, #7
 1500              		.loc 1 1118 10
 1501 0162 1344     		add	r3, r3, r2
 1502 0164 1946     		mov	r1, r3
 1503 0166 F868     		ldr	r0, [r7, #12]
 1504 0168 FFF7FEFF 		bl	move_window
 1505 016c 0346     		mov	r3, r0
ARM GAS  /tmp/cc5m2BsI.s 			page 47


 1506 016e FB77     		strb	r3, [r7, #31]
1119:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 1507              		.loc 1 1119 7
 1508 0170 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1509 0172 002B     		cmp	r3, #0
 1510 0174 2AD1     		bne	.L78
1120:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1121:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				val = (val & 0x0FFFFFFF) | (ld_dword(fs->win + clst * 4 % SS(fs)) & 0xF0000000);
 1511              		.loc 1 1121 16
 1512 0176 7B68     		ldr	r3, [r7, #4]
 1513 0178 23F07044 		bic	r4, r3, #-268435456
 1514              		.loc 1 1121 42
 1515 017c FB68     		ldr	r3, [r7, #12]
 1516 017e 03F13402 		add	r2, r3, #52
 1517              		.loc 1 1121 57
 1518 0182 BB68     		ldr	r3, [r7, #8]
 1519 0184 9B00     		lsls	r3, r3, #2
 1520              		.loc 1 1121 61
 1521 0186 03F4FE73 		and	r3, r3, #508
 1522              		.loc 1 1121 33
 1523 018a 1344     		add	r3, r3, r2
 1524 018c 1846     		mov	r0, r3
 1525 018e FFF7FEFF 		bl	ld_dword
 1526 0192 0346     		mov	r3, r0
 1527              		.loc 1 1121 71
 1528 0194 03F07043 		and	r3, r3, #-268435456
 1529              		.loc 1 1121 9
 1530 0198 2343     		orrs	r3, r3, r4
 1531 019a 7B60     		str	r3, [r7, #4]
1122:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1123:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(fs->win + clst * 4 % SS(fs), val);
 1532              		.loc 1 1123 13
 1533 019c FB68     		ldr	r3, [r7, #12]
 1534 019e 03F13402 		add	r2, r3, #52
 1535              		.loc 1 1123 28
 1536 01a2 BB68     		ldr	r3, [r7, #8]
 1537 01a4 9B00     		lsls	r3, r3, #2
 1538              		.loc 1 1123 32
 1539 01a6 03F4FE73 		and	r3, r3, #508
 1540              		.loc 1 1123 4
 1541 01aa 1344     		add	r3, r3, r2
 1542 01ac 7968     		ldr	r1, [r7, #4]
 1543 01ae 1846     		mov	r0, r3
 1544 01b0 FFF7FEFF 		bl	st_dword
1124:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 1545              		.loc 1 1124 14
 1546 01b4 FB68     		ldr	r3, [r7, #12]
 1547 01b6 0122     		movs	r2, #1
 1548 01b8 DA70     		strb	r2, [r3, #3]
1125:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 1549              		.loc 1 1125 4
 1550 01ba 08E0     		b	.L61
 1551              	.L74:
1126:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1127:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 1552              		.loc 1 1127 2
 1553 01bc 00BF     		nop
ARM GAS  /tmp/cc5m2BsI.s 			page 48


 1554 01be 06E0     		b	.L61
 1555              	.L75:
1096:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc++ % SS(fs);
 1556              		.loc 1 1096 4
 1557 01c0 00BF     		nop
 1558 01c2 04E0     		b	.L61
 1559              	.L76:
1101:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			p = fs->win + bc % SS(fs);
 1560              		.loc 1 1101 4
 1561 01c4 00BF     		nop
 1562 01c6 02E0     		b	.L61
 1563              	.L77:
1109:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(fs->win + clst * 2 % SS(fs), (WORD)val);
 1564              		.loc 1 1109 4
 1565 01c8 00BF     		nop
 1566 01ca 00E0     		b	.L61
 1567              	.L78:
1119:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
 1568              		.loc 1 1119 4
 1569 01cc 00BF     		nop
 1570              	.L61:
1128:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 1571              		.loc 1 1128 9
 1572 01ce FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
1129:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 1573              		.loc 1 1129 1
 1574 01d0 1846     		mov	r0, r3
 1575 01d2 2437     		adds	r7, r7, #36
 1576              		.cfi_def_cfa_offset 12
 1577 01d4 BD46     		mov	sp, r7
 1578              		.cfi_def_cfa_register 13
 1579              		@ sp needed
 1580 01d6 90BD     		pop	{r4, r7, pc}
 1581              		.cfi_endproc
 1582              	.LFE333:
 1584              		.section	.text.remove_chain,"ax",%progbits
 1585              		.align	1
 1586              		.syntax unified
 1587              		.thumb
 1588              		.thumb_func
 1589              		.fpu fpv5-d16
 1591              	remove_chain:
 1592              	.LFB334:
1130:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1131:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1132:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1134:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1135:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1136:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
1137:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1138:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Accessing FAT and Allocation Bitmap                            */
1139:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1140:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1141:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
1142:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Find a contiguous free cluster block */
1143:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------*/
ARM GAS  /tmp/cc5m2BsI.s 			page 49


1144:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1146:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** DWORD find_bitmap (	/* 0:Not found, 2..:Cluster block found, 0xFFFFFFFF:Disk error */
1147:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1148:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to scan from */
1149:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl	/* Number of contiguous clusters to find (1..) */
1150:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1151:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
1152:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm, bv;
1153:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1154:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val, scl, ctr;
1155:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1156:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1157:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit in the bitmap corresponds to cluster #2 */
1158:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) clst = 0;
1159:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	scl = val = clst; ctr = 0;
1160:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1161:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fs->database + val / 8 / SS(fs)) != FR_OK) return 0xFFFFFFFF;	/* (assuming bi
1162:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		i = val / 8 % SS(fs); bm = 1 << (val % 8);
1163:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1164:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1165:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				bv = fs->win[i] & bm; bm <<= 1;		/* Get bit value */
1166:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++val >= fs->n_fatent - 2) {	/* Next cluster (with wrap-around) */
1167:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					val = 0; bm = 0; i = SS(fs);
1168:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1169:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!bv) {	/* Is it a free cluster? */
1170:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (++ctr == ncl) return scl + 2;	/* Check if run length is sufficient for required */
1171:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
1172:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					scl = val; ctr = 0;		/* Encountered a cluster in-use, restart to scan */
1173:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1174:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (val == clst) return 0;	/* All cluster scanned? */
1175:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm);
1176:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1177:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));
1178:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1179:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
1180:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1181:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1182:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1183:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Set/Clear a block of allocation bitmap */
1184:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------*/
1185:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1186:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1187:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT change_bitmap (
1188:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
1189:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* Cluster number to change from */
1190:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl,	/* Number of clusters to be changed */
1191:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int bv		/* bit value to be set (0 or 1) */
1192:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1193:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
1194:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE bm;
1195:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1196:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect;
1197:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1198:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;	/* The first bit corresponds to cluster #2 */
1199:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	sect = fs->database + clst / 8 / SS(fs);	/* Sector address (assuming bitmap is located top of the 
1200:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	i = clst / 8 % SS(fs);						/* Byte offset in the sector */
ARM GAS  /tmp/cc5m2BsI.s 			page 50


1201:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	bm = 1 << (clst % 8);						/* Bit mask in the byte */
1202:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1203:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect++) != FR_OK) return FR_DISK_ERR;
1204:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1205:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
1206:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (bv == (int)((fs->win[i] & bm) != 0)) return FR_INT_ERR;	/* Is the bit expected value? */
1207:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->win[i] ^= bm;	/* Flip the bit */
1208:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
1209:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--ncl == 0) return FR_OK;	/* All bits processed? */
1210:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (bm <<= 1);		/* Next bit */
1211:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			bm = 1;
1212:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (++i < SS(fs));		/* Next byte */
1213:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
1214:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1215:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
1216:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1218:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1219:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the first fragment of the FAT chain    */
1220:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1221:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1222:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1223:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_first_frag (
1224:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj	/* Pointer to the corresponding object */
1225:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1226:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
1227:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1228:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, n;
1229:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1230:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj->stat == 3) {	/* Has the object been changed 'fragmented'? */
1231:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (cl = obj->sclust, n = obj->n_cont; n; cl++, n--) {	/* Create cluster chain on the FAT */
1232:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(obj->fs, cl, cl + 1);
1233:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
1234:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1235:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = 0;	/* Change status 'FAT chain is valid' */
1236:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1237:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1238:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
1239:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1240:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1241:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1242:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill the last fragment of the FAT chain     */
1243:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------*/
1244:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1245:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1246:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT fill_last_frag (
1247:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,	/* Pointer to the corresponding object */
1248:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD lcl,	/* Last cluster of the fragment */
1249:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD term	/* Value to set the last FAT entry */
1250:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1251:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
1252:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1253:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1254:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while (obj->n_frag > 0) {	/* Create the last chain on the FAT */
1255:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(obj->fs, lcl - obj->n_frag + 1, (obj->n_frag > 1) ? lcl - obj->n_frag + 2 : term);
1256:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
1257:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->n_frag--;
ARM GAS  /tmp/cc5m2BsI.s 			page 51


1258:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1259:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1260:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
1261:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1262:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT && !_FS_READONLY */
1263:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1267:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1268:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1269:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1270:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1271:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (	/* FR_OK(0):succeeded, !=0:error */
1272:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1273:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,			/* Cluster to remove a chain from */
1274:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD pclst			/* Previous cluster of clst (0:an entire chain) */
1275:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 1593              		.loc 1 1276 1
 1594              		.cfi_startproc
 1595              		@ args = 0, pretend = 0, frame = 32
 1596              		@ frame_needed = 1, uses_anonymous_args = 0
 1597 0000 80B5     		push	{r7, lr}
 1598              		.cfi_def_cfa_offset 8
 1599              		.cfi_offset 7, -8
 1600              		.cfi_offset 14, -4
 1601 0002 88B0     		sub	sp, sp, #32
 1602              		.cfi_def_cfa_offset 40
 1603 0004 00AF     		add	r7, sp, #0
 1604              		.cfi_def_cfa_register 7
 1605 0006 F860     		str	r0, [r7, #12]
 1606 0008 B960     		str	r1, [r7, #8]
 1607 000a 7A60     		str	r2, [r7, #4]
1277:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1608              		.loc 1 1277 10
 1609 000c 0023     		movs	r3, #0
 1610 000e FB77     		strb	r3, [r7, #31]
1278:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1279:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 1611              		.loc 1 1279 9
 1612 0010 FB68     		ldr	r3, [r7, #12]
 1613 0012 1B68     		ldr	r3, [r3]
 1614 0014 BB61     		str	r3, [r7, #24]
1280:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1281:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst;
1282:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1283:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1284:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD rt[2];
1285:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1286:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1287:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Check if in valid range */
 1615              		.loc 1 1287 5
 1616 0016 BB68     		ldr	r3, [r7, #8]
 1617 0018 012B     		cmp	r3, #1
 1618 001a 04D9     		bls	.L80
 1619              		.loc 1 1287 28 discriminator 2
ARM GAS  /tmp/cc5m2BsI.s 			page 52


 1620 001c BB69     		ldr	r3, [r7, #24]
 1621 001e 9B69     		ldr	r3, [r3, #24]
 1622              		.loc 1 1287 15 discriminator 2
 1623 0020 BA68     		ldr	r2, [r7, #8]
 1624 0022 9A42     		cmp	r2, r3
 1625 0024 01D3     		bcc	.L81
 1626              	.L80:
 1627              		.loc 1 1287 47 discriminator 3
 1628 0026 0223     		movs	r3, #2
 1629 0028 4BE0     		b	.L82
 1630              	.L81:
1288:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1289:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Mark the previous cluster 'EOC' on the FAT if it exists */
1290:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (pclst && (!_FS_EXFAT || fs->fs_type != FS_EXFAT || obj->stat != 2)) {
 1631              		.loc 1 1290 5
 1632 002a 7B68     		ldr	r3, [r7, #4]
 1633 002c 002B     		cmp	r3, #0
 1634 002e 0CD0     		beq	.L90
1291:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, pclst, 0xFFFFFFFF);
 1635              		.loc 1 1291 9
 1636 0030 4FF0FF32 		mov	r2, #-1
 1637 0034 7968     		ldr	r1, [r7, #4]
 1638 0036 B869     		ldr	r0, [r7, #24]
 1639 0038 FFF7FEFF 		bl	put_fat
 1640 003c 0346     		mov	r3, r0
 1641 003e FB77     		strb	r3, [r7, #31]
1292:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
 1642              		.loc 1 1292 6
 1643 0040 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1644 0042 002B     		cmp	r3, #0
 1645 0044 01D0     		beq	.L90
 1646              		.loc 1 1292 28 discriminator 1
 1647 0046 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1648 0048 3BE0     		b	.L82
 1649              	.L90:
1293:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1294:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1295:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Remove the chain */
1296:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1297:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		nxt = get_fat(obj, clst);			/* Get cluster status */
 1650              		.loc 1 1297 9
 1651 004a B968     		ldr	r1, [r7, #8]
 1652 004c F868     		ldr	r0, [r7, #12]
 1653 004e FFF7FEFF 		bl	get_fat
 1654 0052 7861     		str	r0, [r7, #20]
1298:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0) break;				/* Empty cluster? */
 1655              		.loc 1 1298 6
 1656 0054 7B69     		ldr	r3, [r7, #20]
 1657 0056 002B     		cmp	r3, #0
 1658 0058 31D0     		beq	.L91
1299:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 1659              		.loc 1 1299 6
 1660 005a 7B69     		ldr	r3, [r7, #20]
 1661 005c 012B     		cmp	r3, #1
 1662 005e 01D1     		bne	.L86
 1663              		.loc 1 1299 24 discriminator 1
 1664 0060 0223     		movs	r3, #2
ARM GAS  /tmp/cc5m2BsI.s 			page 53


 1665 0062 2EE0     		b	.L82
 1666              	.L86:
1300:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error? */
 1667              		.loc 1 1300 6
 1668 0064 7B69     		ldr	r3, [r7, #20]
 1669 0066 B3F1FF3F 		cmp	r3, #-1
 1670 006a 01D1     		bne	.L87
 1671              		.loc 1 1300 33 discriminator 1
 1672 006c 0123     		movs	r3, #1
 1673 006e 28E0     		b	.L82
 1674              	.L87:
1301:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
1302:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);		/* Mark the cluster 'free' on the FAT */
 1675              		.loc 1 1302 10
 1676 0070 0022     		movs	r2, #0
 1677 0072 B968     		ldr	r1, [r7, #8]
 1678 0074 B869     		ldr	r0, [r7, #24]
 1679 0076 FFF7FEFF 		bl	put_fat
 1680 007a 0346     		mov	r3, r0
 1681 007c FB77     		strb	r3, [r7, #31]
1303:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
 1682              		.loc 1 1303 7
 1683 007e FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1684 0080 002B     		cmp	r3, #0
 1685 0082 01D0     		beq	.L88
 1686              		.loc 1 1303 29 discriminator 1
 1687 0084 FB7F     		ldrb	r3, [r7, #31]	@ zero_extendqisi2
 1688 0086 1CE0     		b	.L82
 1689              	.L88:
1304:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1305:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst < fs->n_fatent - 2) {	/* Update FSINFO */
 1690              		.loc 1 1305 9
 1691 0088 BB69     		ldr	r3, [r7, #24]
 1692 008a 5A69     		ldr	r2, [r3, #20]
 1693              		.loc 1 1305 25
 1694 008c BB69     		ldr	r3, [r7, #24]
 1695 008e 9B69     		ldr	r3, [r3, #24]
 1696              		.loc 1 1305 36
 1697 0090 023B     		subs	r3, r3, #2
 1698              		.loc 1 1305 6
 1699 0092 9A42     		cmp	r2, r3
 1700 0094 0BD2     		bcs	.L89
1306:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst++;
 1701              		.loc 1 1306 6
 1702 0096 BB69     		ldr	r3, [r7, #24]
 1703 0098 5B69     		ldr	r3, [r3, #20]
 1704              		.loc 1 1306 17
 1705 009a 5A1C     		adds	r2, r3, #1
 1706 009c BB69     		ldr	r3, [r7, #24]
 1707 009e 5A61     		str	r2, [r3, #20]
1307:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 1708              		.loc 1 1307 17
 1709 00a0 BB69     		ldr	r3, [r7, #24]
 1710 00a2 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1711 00a4 43F00103 		orr	r3, r3, #1
 1712 00a8 DAB2     		uxtb	r2, r3
 1713 00aa BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/cc5m2BsI.s 			page 54


 1714 00ac 1A71     		strb	r2, [r3, #4]
 1715              	.L89:
1308:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1309:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT || _USE_TRIM
1310:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1311:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			ecl = nxt;
1312:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* End of contiguous cluster block */
1313:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1314:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
1315:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, ecl - scl + 1, 0);	/* Mark the cluster block 'free' on the bitmap 
1316:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) return res;
1317:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1318:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1319:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1320:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[0] = clust2sect(fs, scl);					/* Start sector */
1321:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1322:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Inform device the block can be erased */
1323:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1324:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			scl = ecl = nxt;
1325:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1326:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1327:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = nxt;					/* Next cluster */
 1716              		.loc 1 1327 8
 1717 00ae 7B69     		ldr	r3, [r7, #20]
 1718 00b0 BB60     		str	r3, [r7, #8]
1328:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (clst < fs->n_fatent);	/* Repeat while not the last link */
 1719              		.loc 1 1328 20
 1720 00b2 BB69     		ldr	r3, [r7, #24]
 1721 00b4 9B69     		ldr	r3, [r3, #24]
 1722              		.loc 1 1328 2
 1723 00b6 BA68     		ldr	r2, [r7, #8]
 1724 00b8 9A42     		cmp	r2, r3
 1725 00ba C6D3     		bcc	.L90
 1726 00bc 00E0     		b	.L85
 1727              	.L91:
1298:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nxt == 1) return FR_INT_ERR;	/* Internal error? */
 1728              		.loc 1 1298 3
 1729 00be 00BF     		nop
 1730              	.L85:
1329:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1330:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1331:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
1332:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pclst == 0) {	/* Does the object have no chain? */
1333:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 0;		/* Change the object status 'initial' */
1334:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1335:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 3 && pclst >= obj->sclust && pclst <= obj->sclust + obj->n_cont) {	/* Did the c
1336:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 2;	/* Change the object status 'contiguous' */
1337:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1338:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1339:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1340:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1341:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 1731              		.loc 1 1341 9
 1732 00c0 0023     		movs	r3, #0
 1733              	.L82:
1342:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 1734              		.loc 1 1342 1
ARM GAS  /tmp/cc5m2BsI.s 			page 55


 1735 00c2 1846     		mov	r0, r3
 1736 00c4 2037     		adds	r7, r7, #32
 1737              		.cfi_def_cfa_offset 8
 1738 00c6 BD46     		mov	sp, r7
 1739              		.cfi_def_cfa_register 13
 1740              		@ sp needed
 1741 00c8 80BD     		pop	{r7, pc}
 1742              		.cfi_endproc
 1743              	.LFE334:
 1745              		.section	.text.create_chain,"ax",%progbits
 1746              		.align	1
 1747              		.syntax unified
 1748              		.thumb
 1749              		.thumb_func
 1750              		.fpu fpv5-d16
 1752              	create_chain:
 1753              	.LFB335:
1343:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1344:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1347:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1348:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch a chain or Create a new chain                  */
1349:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1350:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1351:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
1352:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,			/* Corresponding object */
1353:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch, 0:Create a new chain */
1354:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1355:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 1754              		.loc 1 1355 1
 1755              		.cfi_startproc
 1756              		@ args = 0, pretend = 0, frame = 32
 1757              		@ frame_needed = 1, uses_anonymous_args = 0
 1758 0000 80B5     		push	{r7, lr}
 1759              		.cfi_def_cfa_offset 8
 1760              		.cfi_offset 7, -8
 1761              		.cfi_offset 14, -4
 1762 0002 88B0     		sub	sp, sp, #32
 1763              		.cfi_def_cfa_offset 40
 1764 0004 00AF     		add	r7, sp, #0
 1765              		.cfi_def_cfa_register 7
 1766 0006 7860     		str	r0, [r7, #4]
 1767 0008 3960     		str	r1, [r7]
1356:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1357:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1358:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 1768              		.loc 1 1358 9
 1769 000a 7B68     		ldr	r3, [r7, #4]
 1770 000c 1B68     		ldr	r3, [r3]
 1771 000e 3B61     		str	r3, [r7, #16]
1359:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1360:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1361:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Create a new chain */
 1772              		.loc 1 1361 5
 1773 0010 3B68     		ldr	r3, [r7]
 1774 0012 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 56


 1775 0014 0DD1     		bne	.L93
1362:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clst;				/* Get suggested cluster to start from */
 1776              		.loc 1 1362 7
 1777 0016 3B69     		ldr	r3, [r7, #16]
 1778 0018 1B69     		ldr	r3, [r3, #16]
 1779 001a BB61     		str	r3, [r7, #24]
1363:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0 || scl >= fs->n_fatent) scl = 1;
 1780              		.loc 1 1363 6
 1781 001c BB69     		ldr	r3, [r7, #24]
 1782 001e 002B     		cmp	r3, #0
 1783 0020 04D0     		beq	.L94
 1784              		.loc 1 1363 28 discriminator 2
 1785 0022 3B69     		ldr	r3, [r7, #16]
 1786 0024 9B69     		ldr	r3, [r3, #24]
 1787              		.loc 1 1363 16 discriminator 2
 1788 0026 BA69     		ldr	r2, [r7, #24]
 1789 0028 9A42     		cmp	r2, r3
 1790 002a 1BD3     		bcc	.L95
 1791              	.L94:
 1792              		.loc 1 1363 44 discriminator 3
 1793 002c 0123     		movs	r3, #1
 1794 002e BB61     		str	r3, [r7, #24]
 1795 0030 18E0     		b	.L95
 1796              	.L93:
1364:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1365:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Stretch current chain */
1366:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(obj, clst);			/* Check the cluster status */
 1797              		.loc 1 1366 8
 1798 0032 3968     		ldr	r1, [r7]
 1799 0034 7868     		ldr	r0, [r7, #4]
 1800 0036 FFF7FEFF 		bl	get_fat
 1801 003a F860     		str	r0, [r7, #12]
1367:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;				/* Invalid FAT value */
 1802              		.loc 1 1367 6
 1803 003c FB68     		ldr	r3, [r7, #12]
 1804 003e 012B     		cmp	r3, #1
 1805 0040 01D8     		bhi	.L96
 1806              		.loc 1 1367 22 discriminator 1
 1807 0042 0123     		movs	r3, #1
 1808 0044 70E0     		b	.L97
 1809              	.L96:
1368:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 1810              		.loc 1 1368 6
 1811 0046 FB68     		ldr	r3, [r7, #12]
 1812 0048 B3F1FF3F 		cmp	r3, #-1
 1813 004c 01D1     		bne	.L98
 1814              		.loc 1 1368 32 discriminator 1
 1815 004e FB68     		ldr	r3, [r7, #12]
 1816 0050 6AE0     		b	.L97
 1817              	.L98:
1369:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 1818              		.loc 1 1369 14
 1819 0052 3B69     		ldr	r3, [r7, #16]
 1820 0054 9B69     		ldr	r3, [r3, #24]
 1821              		.loc 1 1369 6
 1822 0056 FA68     		ldr	r2, [r7, #12]
 1823 0058 9A42     		cmp	r2, r3
ARM GAS  /tmp/cc5m2BsI.s 			page 57


 1824 005a 01D2     		bcs	.L99
 1825              		.loc 1 1369 33 discriminator 1
 1826 005c FB68     		ldr	r3, [r7, #12]
 1827 005e 63E0     		b	.L97
 1828              	.L99:
1370:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 1829              		.loc 1 1370 7
 1830 0060 3B68     		ldr	r3, [r7]
 1831 0062 BB61     		str	r3, [r7, #24]
 1832              	.L95:
1371:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1372:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1373:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1374:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
1375:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = find_bitmap(fs, scl, 1);				/* Find a free cluster */
1376:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0 || ncl == 0xFFFFFFFF) return ncl;	/* No free cluster or hard error? */
1377:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = change_bitmap(fs, ncl, 1, 1);			/* Mark the cluster 'in use' */
1378:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_INT_ERR) return 1;
1379:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_DISK_ERR) return 0xFFFFFFFF;
1380:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (clst == 0) {							/* Is it a new chain? */
1381:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			obj->stat = 2;							/* Set status 'contiguous' */
1382:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {									/* It is a stretched chain */
1383:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (obj->stat == 2 && ncl != scl + 1) {	/* Is the chain got fragmented? */
1384:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_cont = scl - obj->sclust;	/* Set size of the contiguous part */
1385:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = 3;						/* Change status 'just fragmented' */
1386:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1387:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1388:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (obj->stat != 2) {	/* Is the file non-contiguous? */
1389:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == clst + 1) {	/* Is the cluster next to previous one? */
1390:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->n_frag = obj->n_frag ? obj->n_frag + 1 : 2;	/* Increment size of last framgent */
1391:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* New fragment */
1392:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->n_frag == 0) obj->n_frag = 1;
1393:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_last_frag(obj, clst, ncl);	/* Fill last fragment on the FAT and link it to new one *
1394:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) obj->n_frag = 1;
1395:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1396:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1397:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
1398:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1399:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
1400:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = scl;	/* Start cluster */
 1833              		.loc 1 1400 7
 1834 0064 BB69     		ldr	r3, [r7, #24]
 1835 0066 FB61     		str	r3, [r7, #28]
 1836              	.L106:
1401:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1402:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl++;							/* Next cluster */
 1837              		.loc 1 1402 7
 1838 0068 FB69     		ldr	r3, [r7, #28]
 1839 006a 0133     		adds	r3, r3, #1
 1840 006c FB61     		str	r3, [r7, #28]
1403:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl >= fs->n_fatent) {		/* Check wrap-around */
 1841              		.loc 1 1403 17
 1842 006e 3B69     		ldr	r3, [r7, #16]
 1843 0070 9B69     		ldr	r3, [r3, #24]
 1844              		.loc 1 1403 7
 1845 0072 FA69     		ldr	r2, [r7, #28]
 1846 0074 9A42     		cmp	r2, r3
ARM GAS  /tmp/cc5m2BsI.s 			page 58


 1847 0076 07D3     		bcc	.L100
1404:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = 2;
 1848              		.loc 1 1404 9
 1849 0078 0223     		movs	r3, #2
 1850 007a FB61     		str	r3, [r7, #28]
1405:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl > scl) return 0;	/* No free cluster */
 1851              		.loc 1 1405 8
 1852 007c FA69     		ldr	r2, [r7, #28]
 1853 007e BB69     		ldr	r3, [r7, #24]
 1854 0080 9A42     		cmp	r2, r3
 1855 0082 01D9     		bls	.L100
 1856              		.loc 1 1405 27 discriminator 1
 1857 0084 0023     		movs	r3, #0
 1858 0086 4FE0     		b	.L97
 1859              	.L100:
1406:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1407:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			cs = get_fat(obj, ncl);			/* Get the cluster status */
 1860              		.loc 1 1407 9
 1861 0088 F969     		ldr	r1, [r7, #28]
 1862 008a 7868     		ldr	r0, [r7, #4]
 1863 008c FFF7FEFF 		bl	get_fat
 1864 0090 F860     		str	r0, [r7, #12]
1408:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 1865              		.loc 1 1408 7
 1866 0092 FB68     		ldr	r3, [r7, #12]
 1867 0094 002B     		cmp	r3, #0
 1868 0096 0ED0     		beq	.L114
1409:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 1 || cs == 0xFFFFFFFF) return cs;	/* An error occurred */
 1869              		.loc 1 1409 7
 1870 0098 FB68     		ldr	r3, [r7, #12]
 1871 009a 012B     		cmp	r3, #1
 1872 009c 03D0     		beq	.L103
 1873              		.loc 1 1409 16 discriminator 2
 1874 009e FB68     		ldr	r3, [r7, #12]
 1875 00a0 B3F1FF3F 		cmp	r3, #-1
 1876 00a4 01D1     		bne	.L104
 1877              	.L103:
 1878              		.loc 1 1409 44 discriminator 3
 1879 00a6 FB68     		ldr	r3, [r7, #12]
 1880 00a8 3EE0     		b	.L97
 1881              	.L104:
1410:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == scl) return 0;		/* No free cluster */
 1882              		.loc 1 1410 7
 1883 00aa FA69     		ldr	r2, [r7, #28]
 1884 00ac BB69     		ldr	r3, [r7, #24]
 1885 00ae 9A42     		cmp	r2, r3
 1886 00b0 DAD1     		bne	.L106
 1887              		.loc 1 1410 27 discriminator 1
 1888 00b2 0023     		movs	r3, #0
 1889 00b4 38E0     		b	.L97
 1890              	.L114:
1408:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cs == 0) break;				/* Found a free cluster */
 1891              		.loc 1 1408 4
 1892 00b6 00BF     		nop
1411:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1412:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, ncl, 0xFFFFFFFF);	/* Mark the new cluster 'EOC' */
 1893              		.loc 1 1412 9
ARM GAS  /tmp/cc5m2BsI.s 			page 59


 1894 00b8 4FF0FF32 		mov	r2, #-1
 1895 00bc F969     		ldr	r1, [r7, #28]
 1896 00be 3869     		ldr	r0, [r7, #16]
 1897 00c0 FFF7FEFF 		bl	put_fat
 1898 00c4 0346     		mov	r3, r0
 1899 00c6 FB75     		strb	r3, [r7, #23]
1413:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && clst != 0) {
 1900              		.loc 1 1413 6
 1901 00c8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1902 00ca 002B     		cmp	r3, #0
 1903 00cc 09D1     		bne	.L107
 1904              		.loc 1 1413 20 discriminator 1
 1905 00ce 3B68     		ldr	r3, [r7]
 1906 00d0 002B     		cmp	r3, #0
 1907 00d2 06D0     		beq	.L107
1414:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, ncl);	/* Link it from the previous one if needed */
 1908              		.loc 1 1414 10
 1909 00d4 FA69     		ldr	r2, [r7, #28]
 1910 00d6 3968     		ldr	r1, [r7]
 1911 00d8 3869     		ldr	r0, [r7, #16]
 1912 00da FFF7FEFF 		bl	put_fat
 1913 00de 0346     		mov	r3, r0
 1914 00e0 FB75     		strb	r3, [r7, #23]
 1915              	.L107:
1415:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1416:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1417:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1418:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {			/* Update FSINFO if function succeeded. */
 1916              		.loc 1 1418 5
 1917 00e2 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1918 00e4 002B     		cmp	r3, #0
 1919 00e6 16D1     		bne	.L108
1419:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = ncl;
 1920              		.loc 1 1419 17
 1921 00e8 3B69     		ldr	r3, [r7, #16]
 1922 00ea FA69     		ldr	r2, [r7, #28]
 1923 00ec 1A61     		str	r2, [r3, #16]
1420:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) fs->free_clst--;
 1924              		.loc 1 1420 9
 1925 00ee 3B69     		ldr	r3, [r7, #16]
 1926 00f0 5A69     		ldr	r2, [r3, #20]
 1927              		.loc 1 1420 26
 1928 00f2 3B69     		ldr	r3, [r7, #16]
 1929 00f4 9B69     		ldr	r3, [r3, #24]
 1930              		.loc 1 1420 37
 1931 00f6 023B     		subs	r3, r3, #2
 1932              		.loc 1 1420 6
 1933 00f8 9A42     		cmp	r2, r3
 1934 00fa 04D8     		bhi	.L109
 1935              		.loc 1 1420 44 discriminator 1
 1936 00fc 3B69     		ldr	r3, [r7, #16]
 1937 00fe 5B69     		ldr	r3, [r3, #20]
 1938              		.loc 1 1420 55 discriminator 1
 1939 0100 5A1E     		subs	r2, r3, #1
 1940 0102 3B69     		ldr	r3, [r7, #16]
 1941 0104 5A61     		str	r2, [r3, #20]
 1942              	.L109:
ARM GAS  /tmp/cc5m2BsI.s 			page 60


1421:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag |= 1;
 1943              		.loc 1 1421 16
 1944 0106 3B69     		ldr	r3, [r7, #16]
 1945 0108 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 1946 010a 43F00103 		orr	r3, r3, #1
 1947 010e DAB2     		uxtb	r2, r3
 1948 0110 3B69     		ldr	r3, [r7, #16]
 1949 0112 1A71     		strb	r2, [r3, #4]
 1950 0114 07E0     		b	.L110
 1951              	.L108:
1422:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1423:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;	/* Failed. Generate error status */
 1952              		.loc 1 1423 43
 1953 0116 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 1954 0118 012B     		cmp	r3, #1
 1955 011a 02D1     		bne	.L111
 1956              		.loc 1 1423 43 is_stmt 0 discriminator 1
 1957 011c 4FF0FF33 		mov	r3, #-1
 1958 0120 00E0     		b	.L112
 1959              	.L111:
 1960              		.loc 1 1423 43 discriminator 2
 1961 0122 0123     		movs	r3, #1
 1962              	.L112:
 1963              		.loc 1 1423 7 is_stmt 1 discriminator 4
 1964 0124 FB61     		str	r3, [r7, #28]
 1965              	.L110:
1424:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1425:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1426:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error status */
 1966              		.loc 1 1426 9
 1967 0126 FB69     		ldr	r3, [r7, #28]
 1968              	.L97:
1427:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 1969              		.loc 1 1427 1
 1970 0128 1846     		mov	r0, r3
 1971 012a 2037     		adds	r7, r7, #32
 1972              		.cfi_def_cfa_offset 8
 1973 012c BD46     		mov	sp, r7
 1974              		.cfi_def_cfa_register 13
 1975              		@ sp needed
 1976 012e 80BD     		pop	{r7, pc}
 1977              		.cfi_endproc
 1978              	.LFE335:
 1980              		.section	.text.clmt_clust,"ax",%progbits
 1981              		.align	1
 1982              		.syntax unified
 1983              		.thumb
 1984              		.thumb_func
 1985              		.fpu fpv5-d16
 1987              	clmt_clust:
 1988              	.LFB336:
1428:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1429:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1430:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1431:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1432:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1433:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 61


1434:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1435:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1436:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1437:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1438:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1439:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1440:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1441:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1442:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File offset to be converted to cluster# */
1443:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1444:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 1989              		.loc 1 1444 1
 1990              		.cfi_startproc
 1991              		@ args = 0, pretend = 0, frame = 24
 1992              		@ frame_needed = 1, uses_anonymous_args = 0
 1993              		@ link register save eliminated.
 1994 0000 80B4     		push	{r7}
 1995              		.cfi_def_cfa_offset 4
 1996              		.cfi_offset 7, -4
 1997 0002 87B0     		sub	sp, sp, #28
 1998              		.cfi_def_cfa_offset 32
 1999 0004 00AF     		add	r7, sp, #0
 2000              		.cfi_def_cfa_register 7
 2001 0006 7860     		str	r0, [r7, #4]
 2002 0008 3960     		str	r1, [r7]
1445:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
1446:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = fp->obj.fs;
 2003              		.loc 1 1446 9
 2004 000a 7B68     		ldr	r3, [r7, #4]
 2005 000c 1B68     		ldr	r3, [r3]
 2006 000e FB60     		str	r3, [r7, #12]
1447:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1448:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1449:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 2007              		.loc 1 1449 10
 2008 0010 7B68     		ldr	r3, [r7, #4]
 2009 0012 9B6A     		ldr	r3, [r3, #40]
 2010              		.loc 1 1449 6
 2011 0014 0433     		adds	r3, r3, #4
 2012 0016 3B61     		str	r3, [r7, #16]
1450:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = (DWORD)(ofs / SS(fs) / fs->csize);	/* Cluster order from top of the file */
 2013              		.loc 1 1450 19
 2014 0018 3B68     		ldr	r3, [r7]
 2015 001a 5B0A     		lsrs	r3, r3, #9
 2016              		.loc 1 1450 32
 2017 001c FA68     		ldr	r2, [r7, #12]
 2018 001e 5289     		ldrh	r2, [r2, #10]
 2019              		.loc 1 1450 5
 2020 0020 B3FBF2F3 		udiv	r3, r3, r2
 2021 0024 7B61     		str	r3, [r7, #20]
 2022              	.L120:
1451:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1452:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
 2023              		.loc 1 1452 13
 2024 0026 3B69     		ldr	r3, [r7, #16]
 2025 0028 1A1D     		adds	r2, r3, #4
 2026 002a 3A61     		str	r2, [r7, #16]
ARM GAS  /tmp/cc5m2BsI.s 			page 62


 2027              		.loc 1 1452 7
 2028 002c 1B68     		ldr	r3, [r3]
 2029 002e BB60     		str	r3, [r7, #8]
1453:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 2030              		.loc 1 1453 6
 2031 0030 BB68     		ldr	r3, [r7, #8]
 2032 0032 002B     		cmp	r3, #0
 2033 0034 01D1     		bne	.L116
 2034              		.loc 1 1453 24 discriminator 1
 2035 0036 0023     		movs	r3, #0
 2036 0038 10E0     		b	.L117
 2037              	.L116:
1454:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 2038              		.loc 1 1454 6
 2039 003a 7A69     		ldr	r2, [r7, #20]
 2040 003c BB68     		ldr	r3, [r7, #8]
 2041 003e 9A42     		cmp	r2, r3
 2042 0040 07D3     		bcc	.L122
1455:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 2043              		.loc 1 1455 6
 2044 0042 7A69     		ldr	r2, [r7, #20]
 2045 0044 BB68     		ldr	r3, [r7, #8]
 2046 0046 D31A     		subs	r3, r2, r3
 2047 0048 7B61     		str	r3, [r7, #20]
 2048              		.loc 1 1455 17
 2049 004a 3B69     		ldr	r3, [r7, #16]
 2050 004c 0433     		adds	r3, r3, #4
 2051 004e 3B61     		str	r3, [r7, #16]
1452:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == 0) return 0;	/* End of table? (error) */
 2052              		.loc 1 1452 7
 2053 0050 E9E7     		b	.L120
 2054              	.L122:
1454:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 2055              		.loc 1 1454 3
 2056 0052 00BF     		nop
1456:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1457:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 2057              		.loc 1 1457 14
 2058 0054 3B69     		ldr	r3, [r7, #16]
 2059 0056 1A68     		ldr	r2, [r3]
 2060              		.loc 1 1457 12
 2061 0058 7B69     		ldr	r3, [r7, #20]
 2062 005a 1344     		add	r3, r3, r2
 2063              	.L117:
1458:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 2064              		.loc 1 1458 1
 2065 005c 1846     		mov	r0, r3
 2066 005e 1C37     		adds	r7, r7, #28
 2067              		.cfi_def_cfa_offset 4
 2068 0060 BD46     		mov	sp, r7
 2069              		.cfi_def_cfa_register 13
 2070              		@ sp needed
 2071 0062 5DF8047B 		ldr	r7, [sp], #4
 2072              		.cfi_restore 7
 2073              		.cfi_def_cfa_offset 0
 2074 0066 7047     		bx	lr
 2075              		.cfi_endproc
ARM GAS  /tmp/cc5m2BsI.s 			page 63


 2076              	.LFE336:
 2078              		.section	.text.dir_sdi,"ax",%progbits
 2079              		.align	1
 2080              		.syntax unified
 2081              		.thumb
 2082              		.thumb_func
 2083              		.fpu fpv5-d16
 2085              	dir_sdi:
 2086              	.LFB337:
1459:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1460:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1461:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1463:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1465:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1466:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1467:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1468:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1469:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1470:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (	/* FR_OK(0):succeeded, !=0:error */
1471:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1472:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* Offset of directory table */
1473:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1474:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 2087              		.loc 1 1474 1
 2088              		.cfi_startproc
 2089              		@ args = 0, pretend = 0, frame = 24
 2090              		@ frame_needed = 1, uses_anonymous_args = 0
 2091 0000 80B5     		push	{r7, lr}
 2092              		.cfi_def_cfa_offset 8
 2093              		.cfi_offset 7, -8
 2094              		.cfi_offset 14, -4
 2095 0002 86B0     		sub	sp, sp, #24
 2096              		.cfi_def_cfa_offset 32
 2097 0004 00AF     		add	r7, sp, #0
 2098              		.cfi_def_cfa_register 7
 2099 0006 7860     		str	r0, [r7, #4]
 2100 0008 3960     		str	r1, [r7]
1475:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD csz, clst;
1476:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 2101              		.loc 1 1476 9
 2102 000a 7B68     		ldr	r3, [r7, #4]
 2103 000c 1B68     		ldr	r3, [r3]
 2104 000e 3B61     		str	r3, [r7, #16]
1477:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1478:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1479:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR) || ofs % SZDIRE)
 2105              		.loc 1 1479 5
 2106 0010 3B68     		ldr	r3, [r7]
 2107 0012 B3F5001F 		cmp	r3, #2097152
 2108 0016 04D2     		bcs	.L124
 2109              		.loc 1 1479 91 discriminator 1
 2110 0018 3B68     		ldr	r3, [r7]
 2111 001a 03F01F03 		and	r3, r3, #31
 2112              		.loc 1 1479 84 discriminator 1
 2113 001e 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 64


 2114 0020 01D0     		beq	.L125
 2115              	.L124:
1480:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 2116              		.loc 1 1480 10
 2117 0022 0223     		movs	r3, #2
 2118 0024 63E0     		b	.L126
 2119              	.L125:
1481:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1482:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;				/* Set current offset */
 2120              		.loc 1 1482 11
 2121 0026 7B68     		ldr	r3, [r7, #4]
 2122 0028 3A68     		ldr	r2, [r7]
 2123 002a 1A61     		str	r2, [r3, #16]
1483:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->obj.sclust;		/* Table start cluster (0:root) */
 2124              		.loc 1 1483 7
 2125 002c 7B68     		ldr	r3, [r7, #4]
 2126 002e 9B68     		ldr	r3, [r3, #8]
 2127 0030 7B61     		str	r3, [r7, #20]
1484:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0 && fs->fs_type >= FS_FAT32) {	/* Replace cluster# 0 with root cluster# */
 2128              		.loc 1 1484 5
 2129 0032 7B69     		ldr	r3, [r7, #20]
 2130 0034 002B     		cmp	r3, #0
 2131 0036 06D1     		bne	.L127
 2132              		.loc 1 1484 21 discriminator 1
 2133 0038 3B69     		ldr	r3, [r7, #16]
 2134 003a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2135              		.loc 1 1484 16 discriminator 1
 2136 003c 022B     		cmp	r3, #2
 2137 003e 02D9     		bls	.L127
1485:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = fs->dirbase;
 2138              		.loc 1 1485 8
 2139 0040 3B69     		ldr	r3, [r7, #16]
 2140 0042 9B6A     		ldr	r3, [r3, #40]
 2141 0044 7B61     		str	r3, [r7, #20]
 2142              	.L127:
1486:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT) dp->obj.stat = 0;	/* exFAT: Root dir has an FAT chain */
1487:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1488:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1489:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
 2143              		.loc 1 1489 5
 2144 0046 7B69     		ldr	r3, [r7, #20]
 2145 0048 002B     		cmp	r3, #0
 2146 004a 0CD1     		bne	.L128
1490:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs / SZDIRE >= fs->n_rootdir)	return FR_INT_ERR;	/* Is index out of range? */
 2147              		.loc 1 1490 11
 2148 004c 3B68     		ldr	r3, [r7]
 2149 004e 5B09     		lsrs	r3, r3, #5
 2150              		.loc 1 1490 25
 2151 0050 3A69     		ldr	r2, [r7, #16]
 2152 0052 1289     		ldrh	r2, [r2, #8]
 2153              		.loc 1 1490 6
 2154 0054 9342     		cmp	r3, r2
 2155 0056 01D3     		bcc	.L129
 2156              		.loc 1 1490 45 discriminator 1
 2157 0058 0223     		movs	r3, #2
 2158 005a 48E0     		b	.L126
 2159              	.L129:
ARM GAS  /tmp/cc5m2BsI.s 			page 65


1491:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = fs->dirbase;
 2160              		.loc 1 1491 16
 2161 005c 3B69     		ldr	r3, [r7, #16]
 2162 005e 9A6A     		ldr	r2, [r3, #40]
 2163              		.loc 1 1491 12
 2164 0060 7B68     		ldr	r3, [r7, #4]
 2165 0062 9A61     		str	r2, [r3, #24]
 2166 0064 29E0     		b	.L130
 2167              	.L128:
1492:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1493:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {			/* Dynamic table (sub-directory or root-directory in FAT32+) */
1494:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		csz = (DWORD)fs->csize * SS(fs);	/* Bytes per cluster */
 2168              		.loc 1 1494 18
 2169 0066 3B69     		ldr	r3, [r7, #16]
 2170 0068 5B89     		ldrh	r3, [r3, #10]
 2171              		.loc 1 1494 7
 2172 006a 5B02     		lsls	r3, r3, #9
 2173 006c FB60     		str	r3, [r7, #12]
1495:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		while (ofs >= csz) {				/* Follow cluster chain */
 2174              		.loc 1 1495 9
 2175 006e 19E0     		b	.L131
 2176              	.L135:
1496:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 2177              		.loc 1 1496 11
 2178 0070 7B68     		ldr	r3, [r7, #4]
 2179 0072 7969     		ldr	r1, [r7, #20]
 2180 0074 1846     		mov	r0, r3
 2181 0076 FFF7FEFF 		bl	get_fat
 2182 007a 7861     		str	r0, [r7, #20]
1497:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 2183              		.loc 1 1497 7
 2184 007c 7B69     		ldr	r3, [r7, #20]
 2185 007e B3F1FF3F 		cmp	r3, #-1
 2186 0082 01D1     		bne	.L132
 2187              		.loc 1 1497 35 discriminator 1
 2188 0084 0123     		movs	r3, #1
 2189 0086 32E0     		b	.L126
 2190              	.L132:
1498:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= fs->n_fatent) return FR_INT_ERR;	/* Reached to end of table or internal 
 2191              		.loc 1 1498 7
 2192 0088 7B69     		ldr	r3, [r7, #20]
 2193 008a 012B     		cmp	r3, #1
 2194 008c 04D9     		bls	.L133
 2195              		.loc 1 1498 30 discriminator 2
 2196 008e 3B69     		ldr	r3, [r7, #16]
 2197 0090 9B69     		ldr	r3, [r3, #24]
 2198              		.loc 1 1498 17 discriminator 2
 2199 0092 7A69     		ldr	r2, [r7, #20]
 2200 0094 9A42     		cmp	r2, r3
 2201 0096 01D3     		bcc	.L134
 2202              	.L133:
 2203              		.loc 1 1498 49 discriminator 3
 2204 0098 0223     		movs	r3, #2
 2205 009a 28E0     		b	.L126
 2206              	.L134:
1499:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs -= csz;
 2207              		.loc 1 1499 8
ARM GAS  /tmp/cc5m2BsI.s 			page 66


 2208 009c 3A68     		ldr	r2, [r7]
 2209 009e FB68     		ldr	r3, [r7, #12]
 2210 00a0 D31A     		subs	r3, r2, r3
 2211 00a2 3B60     		str	r3, [r7]
 2212              	.L131:
1495:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(&dp->obj, clst);				/* Get next cluster */
 2213              		.loc 1 1495 9
 2214 00a4 3A68     		ldr	r2, [r7]
 2215 00a6 FB68     		ldr	r3, [r7, #12]
 2216 00a8 9A42     		cmp	r2, r3
 2217 00aa E1D2     		bcs	.L135
1500:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1501:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect = clust2sect(fs, clst);
 2218              		.loc 1 1501 14
 2219 00ac 7969     		ldr	r1, [r7, #20]
 2220 00ae 3869     		ldr	r0, [r7, #16]
 2221 00b0 FFF7FEFF 		bl	clust2sect
 2222 00b4 0246     		mov	r2, r0
 2223              		.loc 1 1501 12
 2224 00b6 7B68     		ldr	r3, [r7, #4]
 2225 00b8 9A61     		str	r2, [r3, #24]
 2226              	.L130:
1502:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1503:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;					/* Current cluster# */
 2227              		.loc 1 1503 12
 2228 00ba 7B68     		ldr	r3, [r7, #4]
 2229 00bc 7A69     		ldr	r2, [r7, #20]
 2230 00be 5A61     		str	r2, [r3, #20]
1504:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return FR_INT_ERR;
 2231              		.loc 1 1504 9
 2232 00c0 7B68     		ldr	r3, [r7, #4]
 2233 00c2 9B69     		ldr	r3, [r3, #24]
 2234              		.loc 1 1504 5
 2235 00c4 002B     		cmp	r3, #0
 2236 00c6 01D1     		bne	.L136
 2237              		.loc 1 1504 24 discriminator 1
 2238 00c8 0223     		movs	r3, #2
 2239 00ca 10E0     		b	.L126
 2240              	.L136:
1505:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect += ofs / SS(fs);			/* Sector# of the directory entry */
 2241              		.loc 1 1505 11
 2242 00cc 7B68     		ldr	r3, [r7, #4]
 2243 00ce 9A69     		ldr	r2, [r3, #24]
 2244              		.loc 1 1505 18
 2245 00d0 3B68     		ldr	r3, [r7]
 2246 00d2 5B0A     		lsrs	r3, r3, #9
 2247              		.loc 1 1505 11
 2248 00d4 1A44     		add	r2, r2, r3
 2249 00d6 7B68     		ldr	r3, [r7, #4]
 2250 00d8 9A61     		str	r2, [r3, #24]
1506:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + (ofs % SS(fs));	/* Pointer to the entry in the win[] */
 2251              		.loc 1 1506 12
 2252 00da 3B69     		ldr	r3, [r7, #16]
 2253 00dc 03F13402 		add	r2, r3, #52
 2254              		.loc 1 1506 27
 2255 00e0 3B68     		ldr	r3, [r7]
 2256 00e2 C3F30803 		ubfx	r3, r3, #0, #9
ARM GAS  /tmp/cc5m2BsI.s 			page 67


 2257              		.loc 1 1506 20
 2258 00e6 1A44     		add	r2, r2, r3
 2259              		.loc 1 1506 10
 2260 00e8 7B68     		ldr	r3, [r7, #4]
 2261 00ea DA61     		str	r2, [r3, #28]
1507:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1508:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 2262              		.loc 1 1508 9
 2263 00ec 0023     		movs	r3, #0
 2264              	.L126:
1509:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 2265              		.loc 1 1509 1
 2266 00ee 1846     		mov	r0, r3
 2267 00f0 1837     		adds	r7, r7, #24
 2268              		.cfi_def_cfa_offset 8
 2269 00f2 BD46     		mov	sp, r7
 2270              		.cfi_def_cfa_register 13
 2271              		@ sp needed
 2272 00f4 80BD     		pop	{r7, pc}
 2273              		.cfi_endproc
 2274              	.LFE337:
 2276              		.section	.text.dir_next,"ax",%progbits
 2277              		.align	1
 2278              		.syntax unified
 2279              		.thumb
 2280              		.thumb_func
 2281              		.fpu fpv5-d16
 2283              	dir_next:
 2284              	.LFB338:
1510:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1511:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1512:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1513:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1514:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1515:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1516:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1517:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1518:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1519:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK(0):succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1520:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1521:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1522:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1523:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 2285              		.loc 1 1523 1
 2286              		.cfi_startproc
 2287              		@ args = 0, pretend = 0, frame = 24
 2288              		@ frame_needed = 1, uses_anonymous_args = 0
 2289 0000 80B5     		push	{r7, lr}
 2290              		.cfi_def_cfa_offset 8
 2291              		.cfi_offset 7, -8
 2292              		.cfi_offset 14, -4
 2293 0002 86B0     		sub	sp, sp, #24
 2294              		.cfi_def_cfa_offset 32
 2295 0004 00AF     		add	r7, sp, #0
 2296              		.cfi_def_cfa_register 7
 2297 0006 7860     		str	r0, [r7, #4]
 2298 0008 3960     		str	r1, [r7]
ARM GAS  /tmp/cc5m2BsI.s 			page 68


1524:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs, clst;
1525:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 2299              		.loc 1 1525 9
 2300 000a 7B68     		ldr	r3, [r7, #4]
 2301 000c 1B68     		ldr	r3, [r3]
 2302 000e FB60     		str	r3, [r7, #12]
1526:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1527:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1528:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1529:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1530:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	ofs = dp->dptr + SZDIRE;	/* Next entry */
 2303              		.loc 1 1530 10
 2304 0010 7B68     		ldr	r3, [r7, #4]
 2305 0012 1B69     		ldr	r3, [r3, #16]
 2306              		.loc 1 1530 6
 2307 0014 2033     		adds	r3, r3, #32
 2308 0016 BB60     		str	r3, [r7, #8]
1531:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect || ofs >= (DWORD)((_FS_EXFAT && fs->fs_type == FS_EXFAT) ? MAX_DIR_EX : MAX_DIR)) re
 2309              		.loc 1 1531 9
 2310 0018 7B68     		ldr	r3, [r7, #4]
 2311 001a 9B69     		ldr	r3, [r3, #24]
 2312              		.loc 1 1531 5
 2313 001c 002B     		cmp	r3, #0
 2314 001e 03D0     		beq	.L138
 2315              		.loc 1 1531 16 discriminator 2
 2316 0020 BB68     		ldr	r3, [r7, #8]
 2317 0022 B3F5001F 		cmp	r3, #2097152
 2318 0026 01D3     		bcc	.L139
 2319              	.L138:
 2320              		.loc 1 1531 105 discriminator 3
 2321 0028 0423     		movs	r3, #4
 2322 002a AAE0     		b	.L140
 2323              	.L139:
1532:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1533:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ofs % SS(fs) == 0) {	/* Sector changed? */
 2324              		.loc 1 1533 10
 2325 002c BB68     		ldr	r3, [r7, #8]
 2326 002e C3F30803 		ubfx	r3, r3, #0, #9
 2327              		.loc 1 1533 5
 2328 0032 002B     		cmp	r3, #0
 2329 0034 40F09880 		bne	.L141
1534:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;				/* Next sector */
 2330              		.loc 1 1534 5
 2331 0038 7B68     		ldr	r3, [r7, #4]
 2332 003a 9B69     		ldr	r3, [r3, #24]
 2333              		.loc 1 1534 11
 2334 003c 5A1C     		adds	r2, r3, #1
 2335 003e 7B68     		ldr	r3, [r7, #4]
 2336 0040 9A61     		str	r2, [r3, #24]
1535:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1536:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
 2337              		.loc 1 1536 10
 2338 0042 7B68     		ldr	r3, [r7, #4]
 2339 0044 5B69     		ldr	r3, [r3, #20]
 2340              		.loc 1 1536 6
 2341 0046 002B     		cmp	r3, #0
 2342 0048 0BD1     		bne	.L142
ARM GAS  /tmp/cc5m2BsI.s 			page 69


1537:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs / SZDIRE >= fs->n_rootdir) {	/* Report EOT if it reached end of static table */
 2343              		.loc 1 1537 12
 2344 004a BB68     		ldr	r3, [r7, #8]
 2345 004c 5B09     		lsrs	r3, r3, #5
 2346              		.loc 1 1537 26
 2347 004e FA68     		ldr	r2, [r7, #12]
 2348 0050 1289     		ldrh	r2, [r2, #8]
 2349              		.loc 1 1537 7
 2350 0052 9342     		cmp	r3, r2
 2351 0054 C0F08880 		bcc	.L141
1538:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0; return FR_NO_FILE;
 2352              		.loc 1 1538 14
 2353 0058 7B68     		ldr	r3, [r7, #4]
 2354 005a 0022     		movs	r2, #0
 2355 005c 9A61     		str	r2, [r3, #24]
 2356              		.loc 1 1538 26
 2357 005e 0423     		movs	r3, #4
 2358 0060 8FE0     		b	.L140
 2359              	.L142:
1539:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1540:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1541:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1542:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((ofs / SS(fs) & (fs->csize - 1)) == 0) {		/* Cluster changed? */
 2360              		.loc 1 1542 13
 2361 0062 BB68     		ldr	r3, [r7, #8]
 2362 0064 5B0A     		lsrs	r3, r3, #9
 2363              		.loc 1 1542 27
 2364 0066 FA68     		ldr	r2, [r7, #12]
 2365 0068 5289     		ldrh	r2, [r2, #10]
 2366              		.loc 1 1542 35
 2367 006a 013A     		subs	r2, r2, #1
 2368              		.loc 1 1542 22
 2369 006c 1340     		ands	r3, r3, r2
 2370              		.loc 1 1542 7
 2371 006e 002B     		cmp	r3, #0
 2372 0070 7AD1     		bne	.L141
1543:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(&dp->obj, dp->clust);			/* Get next cluster */
 2373              		.loc 1 1543 12
 2374 0072 7A68     		ldr	r2, [r7, #4]
 2375 0074 7B68     		ldr	r3, [r7, #4]
 2376 0076 5B69     		ldr	r3, [r3, #20]
 2377 0078 1946     		mov	r1, r3
 2378 007a 1046     		mov	r0, r2
 2379 007c FFF7FEFF 		bl	get_fat
 2380 0080 7861     		str	r0, [r7, #20]
1544:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;				/* Internal error */
 2381              		.loc 1 1544 8
 2382 0082 7B69     		ldr	r3, [r7, #20]
 2383 0084 012B     		cmp	r3, #1
 2384 0086 01D8     		bhi	.L143
 2385              		.loc 1 1544 27 discriminator 1
 2386 0088 0223     		movs	r3, #2
 2387 008a 7AE0     		b	.L140
 2388              	.L143:
1545:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;		/* Disk error */
 2389              		.loc 1 1545 8
 2390 008c 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/cc5m2BsI.s 			page 70


 2391 008e B3F1FF3F 		cmp	r3, #-1
 2392 0092 01D1     		bne	.L144
 2393              		.loc 1 1545 36 discriminator 1
 2394 0094 0123     		movs	r3, #1
 2395 0096 74E0     		b	.L140
 2396              	.L144:
1546:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= fs->n_fatent) {						/* Reached end of dynamic table */
 2397              		.loc 1 1546 19
 2398 0098 FB68     		ldr	r3, [r7, #12]
 2399 009a 9B69     		ldr	r3, [r3, #24]
 2400              		.loc 1 1546 8
 2401 009c 7A69     		ldr	r2, [r7, #20]
 2402 009e 9A42     		cmp	r2, r3
 2403 00a0 58D3     		bcc	.L145
1547:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1548:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) {								/* If no stretch, report EOT */
 2404              		.loc 1 1548 9
 2405 00a2 3B68     		ldr	r3, [r7]
 2406 00a4 002B     		cmp	r3, #0
 2407 00a6 04D1     		bne	.L146
1549:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sect = 0; return FR_NO_FILE;
 2408              		.loc 1 1549 16
 2409 00a8 7B68     		ldr	r3, [r7, #4]
 2410 00aa 0022     		movs	r2, #0
 2411 00ac 9A61     		str	r2, [r3, #24]
 2412              		.loc 1 1549 28
 2413 00ae 0423     		movs	r3, #4
 2414 00b0 67E0     		b	.L140
 2415              	.L146:
1550:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1551:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&dp->obj, dp->clust);	/* Allocate a cluster */
 2416              		.loc 1 1551 13
 2417 00b2 7A68     		ldr	r2, [r7, #4]
 2418 00b4 7B68     		ldr	r3, [r7, #4]
 2419 00b6 5B69     		ldr	r3, [r3, #20]
 2420 00b8 1946     		mov	r1, r3
 2421 00ba 1046     		mov	r0, r2
 2422 00bc FFF7FEFF 		bl	create_chain
 2423 00c0 7861     		str	r0, [r7, #20]
1552:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 2424              		.loc 1 1552 9
 2425 00c2 7B69     		ldr	r3, [r7, #20]
 2426 00c4 002B     		cmp	r3, #0
 2427 00c6 01D1     		bne	.L147
 2428              		.loc 1 1552 28 discriminator 1
 2429 00c8 0723     		movs	r3, #7
 2430 00ca 5AE0     		b	.L140
 2431              	.L147:
1553:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;			/* Internal error */
 2432              		.loc 1 1553 9
 2433 00cc 7B69     		ldr	r3, [r7, #20]
 2434 00ce 012B     		cmp	r3, #1
 2435 00d0 01D1     		bne	.L148
 2436              		.loc 1 1553 28 discriminator 1
 2437 00d2 0223     		movs	r3, #2
 2438 00d4 55E0     		b	.L140
 2439              	.L148:
ARM GAS  /tmp/cc5m2BsI.s 			page 71


1554:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 2440              		.loc 1 1554 9
 2441 00d6 7B69     		ldr	r3, [r7, #20]
 2442 00d8 B3F1FF3F 		cmp	r3, #-1
 2443 00dc 01D1     		bne	.L149
 2444              		.loc 1 1554 37 discriminator 1
 2445 00de 0123     		movs	r3, #1
 2446 00e0 4FE0     		b	.L140
 2447              	.L149:
1555:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up the stretched table */
1556:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_EXFAT) dp->obj.stat |= 4;			/* The directory needs to be updated */
1557:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(fs) != FR_OK) return FR_DISK_ERR;	/* Flush disk access window */
 2448              		.loc 1 1557 10
 2449 00e2 F868     		ldr	r0, [r7, #12]
 2450 00e4 FFF7FEFF 		bl	sync_window
 2451 00e8 0346     		mov	r3, r0
 2452              		.loc 1 1557 9
 2453 00ea 002B     		cmp	r3, #0
 2454 00ec 01D0     		beq	.L150
 2455              		.loc 1 1557 43 discriminator 1
 2456 00ee 0123     		movs	r3, #1
 2457 00f0 47E0     		b	.L140
 2458              	.L150:
1558:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(fs->win, 0, SS(fs));				/* Clear window buffer */
 2459              		.loc 1 1558 16
 2460 00f2 FB68     		ldr	r3, [r7, #12]
 2461 00f4 3433     		adds	r3, r3, #52
 2462              		.loc 1 1558 6
 2463 00f6 4FF40072 		mov	r2, #512
 2464 00fa 0021     		movs	r1, #0
 2465 00fc 1846     		mov	r0, r3
 2466 00fe FFF7FEFF 		bl	mem_set
1559:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 2467              		.loc 1 1559 13
 2468 0102 0023     		movs	r3, #0
 2469 0104 3B61     		str	r3, [r7, #16]
 2470              		.loc 1 1559 32
 2471 0106 7969     		ldr	r1, [r7, #20]
 2472 0108 F868     		ldr	r0, [r7, #12]
 2473 010a FFF7FEFF 		bl	clust2sect
 2474 010e 0246     		mov	r2, r0
 2475              		.loc 1 1559 30
 2476 0110 FB68     		ldr	r3, [r7, #12]
 2477 0112 1A63     		str	r2, [r3, #48]
 2478              		.loc 1 1559 6
 2479 0114 12E0     		b	.L151
 2480              	.L153:
1560:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 2481              		.loc 1 1560 17
 2482 0116 FB68     		ldr	r3, [r7, #12]
 2483 0118 0122     		movs	r2, #1
 2484 011a DA70     		strb	r2, [r3, #3]
1561:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(fs) != FR_OK) return FR_DISK_ERR;
 2485              		.loc 1 1561 11
 2486 011c F868     		ldr	r0, [r7, #12]
 2487 011e FFF7FEFF 		bl	sync_window
 2488 0122 0346     		mov	r3, r0
ARM GAS  /tmp/cc5m2BsI.s 			page 72


 2489              		.loc 1 1561 10
 2490 0124 002B     		cmp	r3, #0
 2491 0126 01D0     		beq	.L152
 2492              		.loc 1 1561 44 discriminator 1
 2493 0128 0123     		movs	r3, #1
 2494 012a 2AE0     		b	.L140
 2495              	.L152:
1559:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 2496              		.loc 1 1559 70 discriminator 2
 2497 012c 3B69     		ldr	r3, [r7, #16]
 2498 012e 0133     		adds	r3, r3, #1
 2499 0130 3B61     		str	r3, [r7, #16]
1559:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 2500              		.loc 1 1559 76 discriminator 2
 2501 0132 FB68     		ldr	r3, [r7, #12]
 2502 0134 1B6B     		ldr	r3, [r3, #48]
1559:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 2503              		.loc 1 1559 85 discriminator 2
 2504 0136 5A1C     		adds	r2, r3, #1
 2505 0138 FB68     		ldr	r3, [r7, #12]
 2506 013a 1A63     		str	r2, [r3, #48]
 2507              	.L151:
1559:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 2508              		.loc 1 1559 60 discriminator 1
 2509 013c FB68     		ldr	r3, [r7, #12]
 2510 013e 5B89     		ldrh	r3, [r3, #10]
 2511 0140 1A46     		mov	r2, r3
1559:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					for (n = 0, fs->winsect = clust2sect(fs, clst); n < fs->csize; n++, fs->winsect++) {	/* Fill t
 2512              		.loc 1 1559 6 discriminator 1
 2513 0142 3B69     		ldr	r3, [r7, #16]
 2514 0144 9342     		cmp	r3, r2
 2515 0146 E6D3     		bcc	.L153
1562:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1563:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect -= n;							/* Restore window offset */
 2516              		.loc 1 1563 18
 2517 0148 FB68     		ldr	r3, [r7, #12]
 2518 014a 1A6B     		ldr	r2, [r3, #48]
 2519 014c 3B69     		ldr	r3, [r7, #16]
 2520 014e D21A     		subs	r2, r2, r3
 2521 0150 FB68     		ldr	r3, [r7, #12]
 2522 0152 1A63     		str	r2, [r3, #48]
 2523              	.L145:
1564:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
1565:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) dp->sect = 0;					/* (this line is to suppress compiler warning) */
1566:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0; return FR_NO_FILE;			/* Report EOT */
1567:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1568:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1569:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;		/* Initialize data for new cluster */
 2524              		.loc 1 1569 15
 2525 0154 7B68     		ldr	r3, [r7, #4]
 2526 0156 7A69     		ldr	r2, [r7, #20]
 2527 0158 5A61     		str	r2, [r3, #20]
1570:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(fs, clst);
 2528              		.loc 1 1570 16
 2529 015a 7969     		ldr	r1, [r7, #20]
 2530 015c F868     		ldr	r0, [r7, #12]
 2531 015e FFF7FEFF 		bl	clust2sect
ARM GAS  /tmp/cc5m2BsI.s 			page 73


 2532 0162 0246     		mov	r2, r0
 2533              		.loc 1 1570 14
 2534 0164 7B68     		ldr	r3, [r7, #4]
 2535 0166 9A61     		str	r2, [r3, #24]
 2536              	.L141:
1571:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1572:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1573:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1574:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dptr = ofs;						/* Current entry */
 2537              		.loc 1 1574 11
 2538 0168 7B68     		ldr	r3, [r7, #4]
 2539 016a BA68     		ldr	r2, [r7, #8]
 2540 016c 1A61     		str	r2, [r3, #16]
1575:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = fs->win + ofs % SS(fs);	/* Pointer to the entry in the win[] */
 2541              		.loc 1 1575 12
 2542 016e FB68     		ldr	r3, [r7, #12]
 2543 0170 03F13402 		add	r2, r3, #52
 2544              		.loc 1 1575 26
 2545 0174 BB68     		ldr	r3, [r7, #8]
 2546 0176 C3F30803 		ubfx	r3, r3, #0, #9
 2547              		.loc 1 1575 20
 2548 017a 1A44     		add	r2, r2, r3
 2549              		.loc 1 1575 10
 2550 017c 7B68     		ldr	r3, [r7, #4]
 2551 017e DA61     		str	r2, [r3, #28]
1576:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1577:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 2552              		.loc 1 1577 9
 2553 0180 0023     		movs	r3, #0
 2554              	.L140:
1578:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 2555              		.loc 1 1578 1
 2556 0182 1846     		mov	r0, r3
 2557 0184 1837     		adds	r7, r7, #24
 2558              		.cfi_def_cfa_offset 8
 2559 0186 BD46     		mov	sp, r7
 2560              		.cfi_def_cfa_register 13
 2561              		@ sp needed
 2562 0188 80BD     		pop	{r7, pc}
 2563              		.cfi_endproc
 2564              	.LFE338:
 2566              		.section	.text.dir_alloc,"ax",%progbits
 2567              		.align	1
 2568              		.syntax unified
 2569              		.thumb
 2570              		.thumb_func
 2571              		.fpu fpv5-d16
 2573              	dir_alloc:
 2574              	.LFB339:
1579:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1580:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1584:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve a block of directory entries             */
1586:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc5m2BsI.s 			page 74


1587:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1588:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (	/* FR_OK(0):succeeded, !=0:error */
1590:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent		/* Number of contiguous entries to allocate */
1592:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 2575              		.loc 1 1593 1
 2576              		.cfi_startproc
 2577              		@ args = 0, pretend = 0, frame = 24
 2578              		@ frame_needed = 1, uses_anonymous_args = 0
 2579 0000 80B5     		push	{r7, lr}
 2580              		.cfi_def_cfa_offset 8
 2581              		.cfi_offset 7, -8
 2582              		.cfi_offset 14, -4
 2583 0002 86B0     		sub	sp, sp, #24
 2584              		.cfi_def_cfa_offset 32
 2585 0004 00AF     		add	r7, sp, #0
 2586              		.cfi_def_cfa_register 7
 2587 0006 7860     		str	r0, [r7, #4]
 2588 0008 3960     		str	r1, [r7]
1594:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1596:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 2589              		.loc 1 1596 9
 2590 000a 7B68     		ldr	r3, [r7, #4]
 2591 000c 1B68     		ldr	r3, [r3]
 2592 000e FB60     		str	r3, [r7, #12]
1597:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1598:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1599:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
 2593              		.loc 1 1599 8
 2594 0010 0021     		movs	r1, #0
 2595 0012 7868     		ldr	r0, [r7, #4]
 2596 0014 FFF7FEFF 		bl	dir_sdi
 2597 0018 0346     		mov	r3, r0
 2598 001a FB75     		strb	r3, [r7, #23]
1600:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 2599              		.loc 1 1600 5
 2600 001c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2601 001e 002B     		cmp	r3, #0
 2602 0020 2BD1     		bne	.L155
1601:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 2603              		.loc 1 1601 5
 2604 0022 0023     		movs	r3, #0
 2605 0024 3B61     		str	r3, [r7, #16]
 2606              	.L161:
1602:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1603:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
 2607              		.loc 1 1603 10
 2608 0026 7B68     		ldr	r3, [r7, #4]
 2609 0028 9B69     		ldr	r3, [r3, #24]
 2610 002a 1946     		mov	r1, r3
 2611 002c F868     		ldr	r0, [r7, #12]
 2612 002e FFF7FEFF 		bl	move_window
 2613 0032 0346     		mov	r3, r0
 2614 0034 FB75     		strb	r3, [r7, #23]
ARM GAS  /tmp/cc5m2BsI.s 			page 75


1604:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 2615              		.loc 1 1604 7
 2616 0036 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2617 0038 002B     		cmp	r3, #0
 2618 003a 1DD1     		bne	.L164
1605:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1606:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((fs->fs_type == FS_EXFAT) ? (int)((dp->dir[XDIR_Type] & 0x80) == 0) : (int)(dp->dir[DIR_Name
1607:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
1608:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[DIR_Name] == DDEM || dp->dir[DIR_Name] == 0) {
 2619              		.loc 1 1608 10
 2620 003c 7B68     		ldr	r3, [r7, #4]
 2621 003e DB69     		ldr	r3, [r3, #28]
 2622              		.loc 1 1608 15
 2623 0040 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2624              		.loc 1 1608 7
 2625 0042 E52B     		cmp	r3, #229
 2626 0044 04D0     		beq	.L157
 2627              		.loc 1 1608 39 discriminator 1
 2628 0046 7B68     		ldr	r3, [r7, #4]
 2629 0048 DB69     		ldr	r3, [r3, #28]
 2630              		.loc 1 1608 44 discriminator 1
 2631 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2632              		.loc 1 1608 34 discriminator 1
 2633 004c 002B     		cmp	r3, #0
 2634 004e 07D1     		bne	.L158
 2635              	.L157:
1609:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1610:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 2636              		.loc 1 1610 8
 2637 0050 3B69     		ldr	r3, [r7, #16]
 2638 0052 0133     		adds	r3, r3, #1
 2639 0054 3B61     		str	r3, [r7, #16]
 2640 0056 3A69     		ldr	r2, [r7, #16]
 2641 0058 3B68     		ldr	r3, [r7]
 2642 005a 9A42     		cmp	r2, r3
 2643 005c 02D1     		bne	.L160
 2644              		.loc 1 1610 5
 2645 005e 0CE0     		b	.L155
 2646              	.L158:
1611:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1612:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
 2647              		.loc 1 1612 7
 2648 0060 0023     		movs	r3, #0
 2649 0062 3B61     		str	r3, [r7, #16]
 2650              	.L160:
1613:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1614:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);
 2651              		.loc 1 1614 10
 2652 0064 0121     		movs	r1, #1
 2653 0066 7868     		ldr	r0, [r7, #4]
 2654 0068 FFF7FEFF 		bl	dir_next
 2655 006c 0346     		mov	r3, r0
 2656 006e FB75     		strb	r3, [r7, #23]
1615:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);	/* Next entry with table stretch enabled */
 2657              		.loc 1 1615 3
 2658 0070 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2659 0072 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 76


 2660 0074 D7D0     		beq	.L161
 2661 0076 00E0     		b	.L155
 2662              	.L164:
1604:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
 2663              		.loc 1 1604 4
 2664 0078 00BF     		nop
 2665              	.L155:
1616:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1617:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1618:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
 2666              		.loc 1 1618 5
 2667 007a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 2668 007c 042B     		cmp	r3, #4
 2669 007e 01D1     		bne	.L162
 2670              		.loc 1 1618 29 discriminator 1
 2671 0080 0723     		movs	r3, #7
 2672 0082 FB75     		strb	r3, [r7, #23]
 2673              	.L162:
1619:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 2674              		.loc 1 1619 9
 2675 0084 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1620:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 2676              		.loc 1 1620 1
 2677 0086 1846     		mov	r0, r3
 2678 0088 1837     		adds	r7, r7, #24
 2679              		.cfi_def_cfa_offset 8
 2680 008a BD46     		mov	sp, r7
 2681              		.cfi_def_cfa_register 13
 2682              		@ sp needed
 2683 008c 80BD     		pop	{r7, pc}
 2684              		.cfi_endproc
 2685              	.LFE339:
 2687              		.section	.text.ld_clust,"ax",%progbits
 2688              		.align	1
 2689              		.syntax unified
 2690              		.thumb
 2691              		.thumb_func
 2692              		.fpu fpv5-d16
 2694              	ld_clust:
 2695              	.LFB340:
1621:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1622:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1623:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1624:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1625:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1626:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1627:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1628:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT: Directory handling - Load/Store start cluster number             */
1629:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1630:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1631:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1632:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (	/* Returns the top cluster value of the SFN entry */
1633:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* Pointer to the fs object */
1634:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir	/* Pointer to the key entry */
1635:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 2696              		.loc 1 1636 1
ARM GAS  /tmp/cc5m2BsI.s 			page 77


 2697              		.cfi_startproc
 2698              		@ args = 0, pretend = 0, frame = 16
 2699              		@ frame_needed = 1, uses_anonymous_args = 0
 2700 0000 80B5     		push	{r7, lr}
 2701              		.cfi_def_cfa_offset 8
 2702              		.cfi_offset 7, -8
 2703              		.cfi_offset 14, -4
 2704 0002 84B0     		sub	sp, sp, #16
 2705              		.cfi_def_cfa_offset 24
 2706 0004 00AF     		add	r7, sp, #0
 2707              		.cfi_def_cfa_register 7
 2708 0006 7860     		str	r0, [r7, #4]
 2709 0008 3960     		str	r1, [r7]
1637:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
1638:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1639:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ld_word(dir + DIR_FstClusLO);
 2710              		.loc 1 1639 7
 2711 000a 3B68     		ldr	r3, [r7]
 2712 000c 1A33     		adds	r3, r3, #26
 2713 000e 1846     		mov	r0, r3
 2714 0010 FFF7FEFF 		bl	ld_word
 2715 0014 0346     		mov	r3, r0
 2716              		.loc 1 1639 5
 2717 0016 FB60     		str	r3, [r7, #12]
1640:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 2718              		.loc 1 1640 8
 2719 0018 7B68     		ldr	r3, [r7, #4]
 2720 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2721              		.loc 1 1640 5
 2722 001c 032B     		cmp	r3, #3
 2723 001e 09D1     		bne	.L166
1641:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)ld_word(dir + DIR_FstClusHI) << 16;
 2724              		.loc 1 1641 16
 2725 0020 3B68     		ldr	r3, [r7]
 2726 0022 1433     		adds	r3, r3, #20
 2727 0024 1846     		mov	r0, r3
 2728 0026 FFF7FEFF 		bl	ld_word
 2729 002a 0346     		mov	r3, r0
 2730              		.loc 1 1641 45
 2731 002c 1B04     		lsls	r3, r3, #16
 2732              		.loc 1 1641 6
 2733 002e FA68     		ldr	r2, [r7, #12]
 2734 0030 1343     		orrs	r3, r3, r2
 2735 0032 FB60     		str	r3, [r7, #12]
 2736              	.L166:
1642:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1643:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1644:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
 2737              		.loc 1 1644 9
 2738 0034 FB68     		ldr	r3, [r7, #12]
1645:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 2739              		.loc 1 1645 1
 2740 0036 1846     		mov	r0, r3
 2741 0038 1037     		adds	r7, r7, #16
 2742              		.cfi_def_cfa_offset 8
 2743 003a BD46     		mov	sp, r7
 2744              		.cfi_def_cfa_register 13
ARM GAS  /tmp/cc5m2BsI.s 			page 78


 2745              		@ sp needed
 2746 003c 80BD     		pop	{r7, pc}
 2747              		.cfi_endproc
 2748              	.LFE340:
 2750              		.section	.text.st_clust,"ax",%progbits
 2751              		.align	1
 2752              		.syntax unified
 2753              		.thumb
 2754              		.thumb_func
 2755              		.fpu fpv5-d16
 2757              	st_clust:
 2758              	.LFB341:
1646:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1647:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1648:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1649:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1650:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1651:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1652:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the key entry */
1653:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1654:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1655:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 2759              		.loc 1 1655 1
 2760              		.cfi_startproc
 2761              		@ args = 0, pretend = 0, frame = 16
 2762              		@ frame_needed = 1, uses_anonymous_args = 0
 2763 0000 80B5     		push	{r7, lr}
 2764              		.cfi_def_cfa_offset 8
 2765              		.cfi_offset 7, -8
 2766              		.cfi_offset 14, -4
 2767 0002 84B0     		sub	sp, sp, #16
 2768              		.cfi_def_cfa_offset 24
 2769 0004 00AF     		add	r7, sp, #0
 2770              		.cfi_def_cfa_register 7
 2771 0006 F860     		str	r0, [r7, #12]
 2772 0008 B960     		str	r1, [r7, #8]
 2773 000a 7A60     		str	r2, [r7, #4]
1656:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + DIR_FstClusLO, (WORD)cl);
 2774              		.loc 1 1656 2
 2775 000c BB68     		ldr	r3, [r7, #8]
 2776 000e 1A33     		adds	r3, r3, #26
 2777 0010 7A68     		ldr	r2, [r7, #4]
 2778 0012 92B2     		uxth	r2, r2
 2779 0014 1146     		mov	r1, r2
 2780 0016 1846     		mov	r0, r3
 2781 0018 FFF7FEFF 		bl	st_word
1657:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32) {
 2782              		.loc 1 1657 8
 2783 001c FB68     		ldr	r3, [r7, #12]
 2784 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2785              		.loc 1 1657 5
 2786 0020 032B     		cmp	r3, #3
 2787 0022 09D1     		bne	.L170
1658:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + DIR_FstClusHI, (WORD)(cl >> 16));
 2788              		.loc 1 1658 3
 2789 0024 BB68     		ldr	r3, [r7, #8]
 2790 0026 03F11402 		add	r2, r3, #20
ARM GAS  /tmp/cc5m2BsI.s 			page 79


 2791              		.loc 1 1658 42
 2792 002a 7B68     		ldr	r3, [r7, #4]
 2793 002c 1B0C     		lsrs	r3, r3, #16
 2794              		.loc 1 1658 3
 2795 002e 9BB2     		uxth	r3, r3
 2796 0030 1946     		mov	r1, r3
 2797 0032 1046     		mov	r0, r2
 2798 0034 FFF7FEFF 		bl	st_word
 2799              	.L170:
1659:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1660:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 2800              		.loc 1 1660 1
 2801 0038 00BF     		nop
 2802 003a 1037     		adds	r7, r7, #16
 2803              		.cfi_def_cfa_offset 8
 2804 003c BD46     		mov	sp, r7
 2805              		.cfi_def_cfa_register 13
 2806              		@ sp needed
 2807 003e 80BD     		pop	{r7, pc}
 2808              		.cfi_endproc
 2809              	.LFE341:
 2811              		.section	.rodata.LfnOfs,"a"
 2812              		.align	2
 2815              	LfnOfs:
 2816 0000 01030507 		.ascii	"\001\003\005\007\011\016\020\022\024\026\030\034\036"
 2816      090E1012 
 2816      1416181C 
 2816      1E
 2817              		.section	.text.cmp_lfn,"ax",%progbits
 2818              		.align	1
 2819              		.syntax unified
 2820              		.thumb
 2821              		.thumb_func
 2822              		.fpu fpv5-d16
 2824              	cmp_lfn:
 2825              	.LFB342:
1661:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1662:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1663:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1664:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1666:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1667:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: LFN handling                                                  */
1668:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------------------*/
1669:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1670:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1671:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1672:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1673:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1674:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Compare a part of file name with an LFN entry */
1675:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------*/
1676:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1677:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (				/* 1:matched, 0:not matched */
1678:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN working buffer to be compared */
1679:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir				/* Pointer to the directory entry containing the part of LFN */
1680:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1681:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/cc5m2BsI.s 			page 80


 2826              		.loc 1 1681 1
 2827              		.cfi_startproc
 2828              		@ args = 0, pretend = 0, frame = 24
 2829              		@ frame_needed = 1, uses_anonymous_args = 0
 2830 0000 90B5     		push	{r4, r7, lr}
 2831              		.cfi_def_cfa_offset 12
 2832              		.cfi_offset 4, -12
 2833              		.cfi_offset 7, -8
 2834              		.cfi_offset 14, -4
 2835 0002 87B0     		sub	sp, sp, #28
 2836              		.cfi_def_cfa_offset 40
 2837 0004 00AF     		add	r7, sp, #0
 2838              		.cfi_def_cfa_register 7
 2839 0006 7860     		str	r0, [r7, #4]
 2840 0008 3960     		str	r1, [r7]
1682:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1683:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1684:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1686:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO */
 2841              		.loc 1 1686 18
 2842 000a 3B68     		ldr	r3, [r7]
 2843 000c 1A33     		adds	r3, r3, #26
 2844              		.loc 1 1686 6
 2845 000e 1846     		mov	r0, r3
 2846 0010 FFF7FEFF 		bl	ld_word
 2847 0014 0346     		mov	r3, r0
 2848              		.loc 1 1686 5
 2849 0016 002B     		cmp	r3, #0
 2850 0018 01D0     		beq	.L172
 2851              		.loc 1 1686 49 discriminator 1
 2852 001a 0023     		movs	r3, #0
 2853 001c 59E0     		b	.L173
 2854              	.L172:
1687:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1688:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
 2855              		.loc 1 1688 11
 2856 001e 3B68     		ldr	r3, [r7]
 2857 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2858              		.loc 1 1688 22
 2859 0022 03F03F03 		and	r3, r3, #63
 2860              		.loc 1 1688 30
 2861 0026 5A1E     		subs	r2, r3, #1
 2862              		.loc 1 1688 35
 2863 0028 1346     		mov	r3, r2
 2864 002a 5B00     		lsls	r3, r3, #1
 2865 002c 1344     		add	r3, r3, r2
 2866 002e 9B00     		lsls	r3, r3, #2
 2867 0030 1344     		add	r3, r3, r2
 2868              		.loc 1 1688 4
 2869 0032 7B61     		str	r3, [r7, #20]
1689:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1690:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
 2870              		.loc 1 1690 10
 2871 0034 0123     		movs	r3, #1
 2872 0036 FB81     		strh	r3, [r7, #14]	@ movhi
 2873              		.loc 1 1690 17
ARM GAS  /tmp/cc5m2BsI.s 			page 81


 2874 0038 0023     		movs	r3, #0
 2875 003a 3B61     		str	r3, [r7, #16]
 2876              		.loc 1 1690 2
 2877 003c 33E0     		b	.L174
 2878              	.L179:
1691:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 2879              		.loc 1 1691 28
 2880 003e 274A     		ldr	r2, .L181
 2881 0040 3B69     		ldr	r3, [r7, #16]
 2882 0042 1344     		add	r3, r3, r2
 2883 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2884 0046 1A46     		mov	r2, r3
 2885              		.loc 1 1691 20
 2886 0048 3B68     		ldr	r3, [r7]
 2887 004a 1344     		add	r3, r3, r2
 2888              		.loc 1 1691 8
 2889 004c 1846     		mov	r0, r3
 2890 004e FFF7FEFF 		bl	ld_word
 2891 0052 0346     		mov	r3, r0
 2892 0054 BB81     		strh	r3, [r7, #12]	@ movhi
1692:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
 2893              		.loc 1 1692 6
 2894 0056 FB89     		ldrh	r3, [r7, #14]
 2895 0058 002B     		cmp	r3, #0
 2896 005a 1AD0     		beq	.L175
1693:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || ff_wtoupper(uc) != ff_wtoupper(lfnbuf[i++])) {	/* Compare it */
 2897              		.loc 1 1693 7
 2898 005c 7B69     		ldr	r3, [r7, #20]
 2899 005e FE2B     		cmp	r3, #254
 2900 0060 12D8     		bhi	.L176
 2901              		.loc 1 1693 25 discriminator 1
 2902 0062 BB89     		ldrh	r3, [r7, #12]
 2903 0064 1846     		mov	r0, r3
 2904 0066 FFF7FEFF 		bl	ff_wtoupper
 2905 006a 0346     		mov	r3, r0
 2906 006c 1C46     		mov	r4, r3
 2907              		.loc 1 1693 64 discriminator 1
 2908 006e 7B69     		ldr	r3, [r7, #20]
 2909 0070 5A1C     		adds	r2, r3, #1
 2910 0072 7A61     		str	r2, [r7, #20]
 2911              		.loc 1 1693 62 discriminator 1
 2912 0074 5B00     		lsls	r3, r3, #1
 2913 0076 7A68     		ldr	r2, [r7, #4]
 2914 0078 1344     		add	r3, r3, r2
 2915              		.loc 1 1693 44 discriminator 1
 2916 007a 1B88     		ldrh	r3, [r3]
 2917 007c 1846     		mov	r0, r3
 2918 007e FFF7FEFF 		bl	ff_wtoupper
 2919 0082 0346     		mov	r3, r0
 2920              		.loc 1 1693 22 discriminator 1
 2921 0084 9C42     		cmp	r4, r3
 2922 0086 01D0     		beq	.L177
 2923              	.L176:
1694:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;					/* Not matched */
 2924              		.loc 1 1694 12
 2925 0088 0023     		movs	r3, #0
 2926 008a 22E0     		b	.L173
ARM GAS  /tmp/cc5m2BsI.s 			page 82


 2927              	.L177:
1695:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1696:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = uc;
 2928              		.loc 1 1696 7
 2929 008c BB89     		ldrh	r3, [r7, #12]	@ movhi
 2930 008e FB81     		strh	r3, [r7, #14]	@ movhi
 2931 0090 06E0     		b	.L178
 2932              	.L175:
1697:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1698:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
 2933              		.loc 1 1698 7
 2934 0092 BB89     		ldrh	r3, [r7, #12]
 2935 0094 4FF6FF72 		movw	r2, #65535
 2936 0098 9342     		cmp	r3, r2
 2937 009a 01D0     		beq	.L178
 2938              		.loc 1 1698 29 discriminator 1
 2939 009c 0023     		movs	r3, #0
 2940 009e 18E0     		b	.L173
 2941              	.L178:
1690:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 2942              		.loc 1 1690 31 discriminator 2
 2943 00a0 3B69     		ldr	r3, [r7, #16]
 2944 00a2 0133     		adds	r3, r3, #1
 2945 00a4 3B61     		str	r3, [r7, #16]
 2946              	.L174:
1690:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 2947              		.loc 1 1690 2 discriminator 1
 2948 00a6 3B69     		ldr	r3, [r7, #16]
 2949 00a8 0C2B     		cmp	r3, #12
 2950 00aa C8D9     		bls	.L179
1699:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1700:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1701:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i]) return 0;	/* Last segment matched but different len
 2951              		.loc 1 1702 10
 2952 00ac 3B68     		ldr	r3, [r7]
 2953 00ae 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2954              		.loc 1 1702 21
 2955 00b0 03F04003 		and	r3, r3, #64
 2956              		.loc 1 1702 5
 2957 00b4 002B     		cmp	r3, #0
 2958 00b6 0BD0     		beq	.L180
 2959              		.loc 1 1702 29 discriminator 1
 2960 00b8 FB89     		ldrh	r3, [r7, #14]
 2961 00ba 002B     		cmp	r3, #0
 2962 00bc 08D0     		beq	.L180
 2963              		.loc 1 1702 44 discriminator 2
 2964 00be 7B69     		ldr	r3, [r7, #20]
 2965 00c0 5B00     		lsls	r3, r3, #1
 2966 00c2 7A68     		ldr	r2, [r7, #4]
 2967 00c4 1344     		add	r3, r3, r2
 2968 00c6 1B88     		ldrh	r3, [r3]
 2969              		.loc 1 1702 35 discriminator 2
 2970 00c8 002B     		cmp	r3, #0
 2971 00ca 01D0     		beq	.L180
 2972              		.loc 1 1702 56 discriminator 3
 2973 00cc 0023     		movs	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 83


 2974 00ce 00E0     		b	.L173
 2975              	.L180:
1703:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1704:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN matched */
 2976              		.loc 1 1704 9
 2977 00d0 0123     		movs	r3, #1
 2978              	.L173:
1705:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 2979              		.loc 1 1705 1
 2980 00d2 1846     		mov	r0, r3
 2981 00d4 1C37     		adds	r7, r7, #28
 2982              		.cfi_def_cfa_offset 12
 2983 00d6 BD46     		mov	sp, r7
 2984              		.cfi_def_cfa_register 13
 2985              		@ sp needed
 2986 00d8 90BD     		pop	{r4, r7, pc}
 2987              	.L182:
 2988 00da 00BF     		.align	2
 2989              	.L181:
 2990 00dc 00000000 		.word	LfnOfs
 2991              		.cfi_endproc
 2992              	.LFE342:
 2994              		.section	.text.pick_lfn,"ax",%progbits
 2995              		.align	1
 2996              		.syntax unified
 2997              		.thumb
 2998              		.thumb_func
 2999              		.fpu fpv5-d16
 3001              	pick_lfn:
 3002              	.LFB343:
1706:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1707:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1708:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
1709:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1710:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Pick a part of file name from an LFN entry */
1711:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------*/
1712:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1713:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:succeeded, 0:buffer overflow or invalid LFN entry */
1714:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN working buffer */
1715:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the LFN entry */
1716:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1717:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 3003              		.loc 1 1717 1
 3004              		.cfi_startproc
 3005              		@ args = 0, pretend = 0, frame = 24
 3006              		@ frame_needed = 1, uses_anonymous_args = 0
 3007 0000 80B5     		push	{r7, lr}
 3008              		.cfi_def_cfa_offset 8
 3009              		.cfi_offset 7, -8
 3010              		.cfi_offset 14, -4
 3011 0002 86B0     		sub	sp, sp, #24
 3012              		.cfi_def_cfa_offset 32
 3013 0004 00AF     		add	r7, sp, #0
 3014              		.cfi_def_cfa_register 7
 3015 0006 7860     		str	r0, [r7, #4]
 3016 0008 3960     		str	r1, [r7]
1718:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
ARM GAS  /tmp/cc5m2BsI.s 			page 84


1719:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1720:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1722:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(dir + LDIR_FstClusLO) != 0) return 0;	/* Check LDIR_FstClusLO is 0 */
 3017              		.loc 1 1722 18
 3018 000a 3B68     		ldr	r3, [r7]
 3019 000c 1A33     		adds	r3, r3, #26
 3020              		.loc 1 1722 6
 3021 000e 1846     		mov	r0, r3
 3022 0010 FFF7FEFF 		bl	ld_word
 3023 0014 0346     		mov	r3, r0
 3024              		.loc 1 1722 5
 3025 0016 002B     		cmp	r3, #0
 3026 0018 01D0     		beq	.L184
 3027              		.loc 1 1722 49 discriminator 1
 3028 001a 0023     		movs	r3, #0
 3029 001c 4DE0     		b	.L185
 3030              	.L184:
1723:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1724:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Offset in the LFN buffer */
 3031              		.loc 1 1724 11
 3032 001e 3B68     		ldr	r3, [r7]
 3033 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3034              		.loc 1 1724 22
 3035 0022 23F04003 		bic	r3, r3, #64
 3036              		.loc 1 1724 31
 3037 0026 5A1E     		subs	r2, r3, #1
 3038              		.loc 1 1724 36
 3039 0028 1346     		mov	r3, r2
 3040 002a 5B00     		lsls	r3, r3, #1
 3041 002c 1344     		add	r3, r3, r2
 3042 002e 9B00     		lsls	r3, r3, #2
 3043 0030 1344     		add	r3, r3, r2
 3044              		.loc 1 1724 4
 3045 0032 7B61     		str	r3, [r7, #20]
1725:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1726:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (wc = 1, s = 0; s < 13; s++) {		/* Process all characters in the entry */
 3046              		.loc 1 1726 10
 3047 0034 0123     		movs	r3, #1
 3048 0036 FB81     		strh	r3, [r7, #14]	@ movhi
 3049              		.loc 1 1726 17
 3050 0038 0023     		movs	r3, #0
 3051 003a 3B61     		str	r3, [r7, #16]
 3052              		.loc 1 1726 2
 3053 003c 28E0     		b	.L186
 3054              	.L190:
1727:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 3055              		.loc 1 1727 28
 3056 003e 214A     		ldr	r2, .L193
 3057 0040 3B69     		ldr	r3, [r7, #16]
 3058 0042 1344     		add	r3, r3, r2
 3059 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3060 0046 1A46     		mov	r2, r3
 3061              		.loc 1 1727 20
 3062 0048 3B68     		ldr	r3, [r7]
 3063 004a 1344     		add	r3, r3, r2
 3064              		.loc 1 1727 8
ARM GAS  /tmp/cc5m2BsI.s 			page 85


 3065 004c 1846     		mov	r0, r3
 3066 004e FFF7FEFF 		bl	ld_word
 3067 0052 0346     		mov	r3, r0
 3068 0054 BB81     		strh	r3, [r7, #12]	@ movhi
1728:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {
 3069              		.loc 1 1728 6
 3070 0056 FB89     		ldrh	r3, [r7, #14]
 3071 0058 002B     		cmp	r3, #0
 3072 005a 0FD0     		beq	.L187
1729:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
 3073              		.loc 1 1729 7
 3074 005c 7B69     		ldr	r3, [r7, #20]
 3075 005e FE2B     		cmp	r3, #254
 3076 0060 01D9     		bls	.L188
 3077              		.loc 1 1729 30 discriminator 1
 3078 0062 0023     		movs	r3, #0
 3079 0064 29E0     		b	.L185
 3080              	.L188:
1730:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
 3081              		.loc 1 1730 21
 3082 0066 BB89     		ldrh	r3, [r7, #12]	@ movhi
 3083 0068 FB81     		strh	r3, [r7, #14]	@ movhi
 3084              		.loc 1 1730 12
 3085 006a 7B69     		ldr	r3, [r7, #20]
 3086 006c 5A1C     		adds	r2, r3, #1
 3087 006e 7A61     		str	r2, [r7, #20]
 3088              		.loc 1 1730 10
 3089 0070 5B00     		lsls	r3, r3, #1
 3090 0072 7A68     		ldr	r2, [r7, #4]
 3091 0074 1344     		add	r3, r3, r2
 3092              		.loc 1 1730 16
 3093 0076 FA89     		ldrh	r2, [r7, #14]	@ movhi
 3094 0078 1A80     		strh	r2, [r3]	@ movhi
 3095 007a 06E0     		b	.L189
 3096              	.L187:
1731:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1732:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
 3097              		.loc 1 1732 7
 3098 007c BB89     		ldrh	r3, [r7, #12]
 3099 007e 4FF6FF72 		movw	r2, #65535
 3100 0082 9342     		cmp	r3, r2
 3101 0084 01D0     		beq	.L189
 3102              		.loc 1 1732 29 discriminator 1
 3103 0086 0023     		movs	r3, #0
 3104 0088 17E0     		b	.L185
 3105              	.L189:
1726:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 3106              		.loc 1 1726 31 discriminator 2
 3107 008a 3B69     		ldr	r3, [r7, #16]
 3108 008c 0133     		adds	r3, r3, #1
 3109 008e 3B61     		str	r3, [r7, #16]
 3110              	.L186:
1726:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = ld_word(dir + LfnOfs[s]);		/* Pick an LFN character */
 3111              		.loc 1 1726 2 discriminator 1
 3112 0090 3B69     		ldr	r3, [r7, #16]
 3113 0092 0C2B     		cmp	r3, #12
 3114 0094 D3D9     		bls	.L190
ARM GAS  /tmp/cc5m2BsI.s 			page 86


1733:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1734:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1735:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1736:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
 3115              		.loc 1 1736 9
 3116 0096 3B68     		ldr	r3, [r7]
 3117 0098 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3118              		.loc 1 1736 20
 3119 009a 03F04003 		and	r3, r3, #64
 3120              		.loc 1 1736 5
 3121 009e 002B     		cmp	r3, #0
 3122 00a0 0AD0     		beq	.L191
1737:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
 3123              		.loc 1 1737 6
 3124 00a2 7B69     		ldr	r3, [r7, #20]
 3125 00a4 FE2B     		cmp	r3, #254
 3126 00a6 01D9     		bls	.L192
 3127              		.loc 1 1737 29 discriminator 1
 3128 00a8 0023     		movs	r3, #0
 3129 00aa 06E0     		b	.L185
 3130              	.L192:
1738:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
 3131              		.loc 1 1738 9
 3132 00ac 7B69     		ldr	r3, [r7, #20]
 3133 00ae 5B00     		lsls	r3, r3, #1
 3134 00b0 7A68     		ldr	r2, [r7, #4]
 3135 00b2 1344     		add	r3, r3, r2
 3136              		.loc 1 1738 13
 3137 00b4 0022     		movs	r2, #0
 3138 00b6 1A80     		strh	r2, [r3]	@ movhi
 3139              	.L191:
1739:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1740:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1741:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;		/* The part of LFN is valid */
 3140              		.loc 1 1741 9
 3141 00b8 0123     		movs	r3, #1
 3142              	.L185:
1742:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 3143              		.loc 1 1742 1
 3144 00ba 1846     		mov	r0, r3
 3145 00bc 1837     		adds	r7, r7, #24
 3146              		.cfi_def_cfa_offset 8
 3147 00be BD46     		mov	sp, r7
 3148              		.cfi_def_cfa_register 13
 3149              		@ sp needed
 3150 00c0 80BD     		pop	{r7, pc}
 3151              	.L194:
 3152 00c2 00BF     		.align	2
 3153              	.L193:
 3154 00c4 00000000 		.word	LfnOfs
 3155              		.cfi_endproc
 3156              	.LFE343:
 3158              		.section	.text.put_lfn,"ax",%progbits
 3159              		.align	1
 3160              		.syntax unified
 3161              		.thumb
 3162              		.thumb_func
ARM GAS  /tmp/cc5m2BsI.s 			page 87


 3163              		.fpu fpv5-d16
 3165              	put_lfn:
 3166              	.LFB344:
1743:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1744:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1745:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1746:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1747:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1748:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create an entry of LFN entries */
1749:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------*/
1750:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1751:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void put_lfn (
1752:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to the LFN */
1753:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,			/* Pointer to the LFN entry to be created */
1754:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,			/* LFN order (1-20) */
1755:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum			/* Checksum of the corresponding SFN */
1756:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1757:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 3167              		.loc 1 1757 1
 3168              		.cfi_startproc
 3169              		@ args = 0, pretend = 0, frame = 32
 3170              		@ frame_needed = 1, uses_anonymous_args = 0
 3171 0000 80B5     		push	{r7, lr}
 3172              		.cfi_def_cfa_offset 8
 3173              		.cfi_offset 7, -8
 3174              		.cfi_offset 14, -4
 3175 0002 88B0     		sub	sp, sp, #32
 3176              		.cfi_def_cfa_offset 40
 3177 0004 00AF     		add	r7, sp, #0
 3178              		.cfi_def_cfa_register 7
 3179 0006 F860     		str	r0, [r7, #12]
 3180 0008 B960     		str	r1, [r7, #8]
 3181 000a 1146     		mov	r1, r2
 3182 000c 1A46     		mov	r2, r3
 3183 000e 0B46     		mov	r3, r1
 3184 0010 FB71     		strb	r3, [r7, #7]
 3185 0012 1346     		mov	r3, r2
 3186 0014 BB71     		strb	r3, [r7, #6]
1758:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1759:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1760:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1762:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set checksum */
 3187              		.loc 1 1762 5
 3188 0016 BB68     		ldr	r3, [r7, #8]
 3189 0018 0D33     		adds	r3, r3, #13
 3190              		.loc 1 1762 19
 3191 001a BA79     		ldrb	r2, [r7, #6]
 3192 001c 1A70     		strb	r2, [r3]
1763:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
 3193              		.loc 1 1763 5
 3194 001e BB68     		ldr	r3, [r7, #8]
 3195 0020 0B33     		adds	r3, r3, #11
 3196              		.loc 1 1763 17
 3197 0022 0F22     		movs	r2, #15
 3198 0024 1A70     		strb	r2, [r3]
1764:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
ARM GAS  /tmp/cc5m2BsI.s 			page 88


 3199              		.loc 1 1764 5
 3200 0026 BB68     		ldr	r3, [r7, #8]
 3201 0028 0C33     		adds	r3, r3, #12
 3202              		.loc 1 1764 17
 3203 002a 0022     		movs	r2, #0
 3204 002c 1A70     		strb	r2, [r3]
1765:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dir + LDIR_FstClusLO, 0);
 3205              		.loc 1 1765 2
 3206 002e BB68     		ldr	r3, [r7, #8]
 3207 0030 1A33     		adds	r3, r3, #26
 3208 0032 0021     		movs	r1, #0
 3209 0034 1846     		mov	r0, r3
 3210 0036 FFF7FEFF 		bl	st_word
1766:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN working buffer */
 3211              		.loc 1 1767 11
 3212 003a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3213 003c 5A1E     		subs	r2, r3, #1
 3214              		.loc 1 1767 16
 3215 003e 1346     		mov	r3, r2
 3216 0040 5B00     		lsls	r3, r3, #1
 3217 0042 1344     		add	r3, r3, r2
 3218 0044 9B00     		lsls	r3, r3, #2
 3219 0046 1344     		add	r3, r3, r2
 3220              		.loc 1 1767 4
 3221 0048 FB61     		str	r3, [r7, #28]
1768:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
 3222              		.loc 1 1768 9
 3223 004a 0023     		movs	r3, #0
 3224 004c FB82     		strh	r3, [r7, #22]	@ movhi
 3225              		.loc 1 1768 4
 3226 004e 0023     		movs	r3, #0
 3227 0050 BB61     		str	r3, [r7, #24]
 3228              	.L198:
1769:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1770:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfn[i++];	/* Get an effective character */
 3229              		.loc 1 1770 6
 3230 0052 FB8A     		ldrh	r3, [r7, #22]
 3231 0054 4FF6FF72 		movw	r2, #65535
 3232 0058 9342     		cmp	r3, r2
 3233 005a 07D0     		beq	.L196
 3234              		.loc 1 1770 31 discriminator 1
 3235 005c FB69     		ldr	r3, [r7, #28]
 3236 005e 5A1C     		adds	r2, r3, #1
 3237 0060 FA61     		str	r2, [r7, #28]
 3238              		.loc 1 1770 29 discriminator 1
 3239 0062 5B00     		lsls	r3, r3, #1
 3240 0064 FA68     		ldr	r2, [r7, #12]
 3241 0066 1344     		add	r3, r3, r2
 3242              		.loc 1 1770 24 discriminator 1
 3243 0068 1B88     		ldrh	r3, [r3]	@ movhi
 3244 006a FB82     		strh	r3, [r7, #22]	@ movhi
 3245              	.L196:
1771:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(dir + LfnOfs[s], wc);		/* Put it */
 3246              		.loc 1 1771 23
 3247 006c 174A     		ldr	r2, .L201
 3248 006e BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/cc5m2BsI.s 			page 89


 3249 0070 1344     		add	r3, r3, r2
 3250 0072 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3251 0074 1A46     		mov	r2, r3
 3252              		.loc 1 1771 3
 3253 0076 BB68     		ldr	r3, [r7, #8]
 3254 0078 1344     		add	r3, r3, r2
 3255 007a FA8A     		ldrh	r2, [r7, #22]
 3256 007c 1146     		mov	r1, r2
 3257 007e 1846     		mov	r0, r3
 3258 0080 FFF7FEFF 		bl	st_word
1772:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc == 0) wc = 0xFFFF;		/* Padding characters for left locations */
 3259              		.loc 1 1772 6
 3260 0084 FB8A     		ldrh	r3, [r7, #22]
 3261 0086 002B     		cmp	r3, #0
 3262 0088 02D1     		bne	.L197
 3263              		.loc 1 1772 19 discriminator 1
 3264 008a 4FF6FF73 		movw	r3, #65535
 3265 008e FB82     		strh	r3, [r7, #22]	@ movhi
 3266              	.L197:
1773:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
 3267              		.loc 1 1773 2
 3268 0090 BB69     		ldr	r3, [r7, #24]
 3269 0092 0133     		adds	r3, r3, #1
 3270 0094 BB61     		str	r3, [r7, #24]
 3271 0096 BB69     		ldr	r3, [r7, #24]
 3272 0098 0C2B     		cmp	r3, #12
 3273 009a DAD9     		bls	.L198
1774:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfn[i]) ord |= LLEF;	/* Last LFN part is the start of LFN sequence */
 3274              		.loc 1 1774 5
 3275 009c FB8A     		ldrh	r3, [r7, #22]
 3276 009e 4FF6FF72 		movw	r2, #65535
 3277 00a2 9342     		cmp	r3, r2
 3278 00a4 06D0     		beq	.L199
 3279              		.loc 1 1774 26 discriminator 2
 3280 00a6 FB69     		ldr	r3, [r7, #28]
 3281 00a8 5B00     		lsls	r3, r3, #1
 3282 00aa FA68     		ldr	r2, [r7, #12]
 3283 00ac 1344     		add	r3, r3, r2
 3284 00ae 1B88     		ldrh	r3, [r3]
 3285              		.loc 1 1774 19 discriminator 2
 3286 00b0 002B     		cmp	r3, #0
 3287 00b2 03D1     		bne	.L200
 3288              	.L199:
 3289              		.loc 1 1774 35 discriminator 3
 3290 00b4 FB79     		ldrb	r3, [r7, #7]
 3291 00b6 43F04003 		orr	r3, r3, #64
 3292 00ba FB71     		strb	r3, [r7, #7]
 3293              	.L200:
1775:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
 3294              		.loc 1 1775 16
 3295 00bc BB68     		ldr	r3, [r7, #8]
 3296 00be FA79     		ldrb	r2, [r7, #7]
 3297 00c0 1A70     		strb	r2, [r3]
1776:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 3298              		.loc 1 1776 1
 3299 00c2 00BF     		nop
 3300 00c4 2037     		adds	r7, r7, #32
ARM GAS  /tmp/cc5m2BsI.s 			page 90


 3301              		.cfi_def_cfa_offset 8
 3302 00c6 BD46     		mov	sp, r7
 3303              		.cfi_def_cfa_register 13
 3304              		@ sp needed
 3305 00c8 80BD     		pop	{r7, pc}
 3306              	.L202:
 3307 00ca 00BF     		.align	2
 3308              	.L201:
 3309 00cc 00000000 		.word	LfnOfs
 3310              		.cfi_endproc
 3311              	.LFE344:
 3313              		.section	.text.gen_numname,"ax",%progbits
 3314              		.align	1
 3315              		.syntax unified
 3316              		.thumb
 3317              		.thumb_func
 3318              		.fpu fpv5-d16
 3320              	gen_numname:
 3321              	.LFB345:
1777:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1778:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
1779:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1780:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1781:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1782:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1783:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && !_FS_READONLY
1784:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1785:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Create a Numbered SFN                                        */
1786:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1787:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1788:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1789:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1790:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1791:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
1792:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1793:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1794:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1795:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 3322              		.loc 1 1795 1
 3323              		.cfi_startproc
 3324              		@ args = 0, pretend = 0, frame = 48
 3325              		@ frame_needed = 1, uses_anonymous_args = 0
 3326 0000 80B5     		push	{r7, lr}
 3327              		.cfi_def_cfa_offset 8
 3328              		.cfi_offset 7, -8
 3329              		.cfi_offset 14, -4
 3330 0002 8CB0     		sub	sp, sp, #48
 3331              		.cfi_def_cfa_offset 56
 3332 0004 00AF     		add	r7, sp, #0
 3333              		.cfi_def_cfa_register 7
 3334 0006 F860     		str	r0, [r7, #12]
 3335 0008 B960     		str	r1, [r7, #8]
 3336 000a 7A60     		str	r2, [r7, #4]
 3337 000c 3B60     		str	r3, [r7]
1796:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
1797:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
1798:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
ARM GAS  /tmp/cc5m2BsI.s 			page 91


1799:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
1800:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1801:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1802:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
 3338              		.loc 1 1802 2
 3339 000e 0B22     		movs	r2, #11
 3340 0010 B968     		ldr	r1, [r7, #8]
 3341 0012 F868     		ldr	r0, [r7, #12]
 3342 0014 FFF7FEFF 		bl	mem_cpy
1803:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1804:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* In case of many collisions, generate a hash number instead of sequential number 
 3343              		.loc 1 1804 5
 3344 0018 3B68     		ldr	r3, [r7]
 3345 001a 052B     		cmp	r3, #5
 3346 001c 29D9     		bls	.L204
1805:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
 3347              		.loc 1 1805 6
 3348 001e 3B68     		ldr	r3, [r7]
 3349 0020 FB61     		str	r3, [r7, #28]
1806:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
 3350              		.loc 1 1806 9
 3351 0022 20E0     		b	.L205
 3352              	.L209:
1807:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
 3353              		.loc 1 1807 13
 3354 0024 7B68     		ldr	r3, [r7, #4]
 3355 0026 9A1C     		adds	r2, r3, #2
 3356 0028 7A60     		str	r2, [r7, #4]
 3357              		.loc 1 1807 7
 3358 002a 1B88     		ldrh	r3, [r3]	@ movhi
 3359 002c 7B84     		strh	r3, [r7, #34]	@ movhi
1808:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
 3360              		.loc 1 1808 11
 3361 002e 0023     		movs	r3, #0
 3362 0030 BB62     		str	r3, [r7, #40]
 3363              		.loc 1 1808 4
 3364 0032 15E0     		b	.L206
 3365              	.L208:
1809:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 3366              		.loc 1 1809 14
 3367 0034 FB69     		ldr	r3, [r7, #28]
 3368 0036 5A00     		lsls	r2, r3, #1
 3369              		.loc 1 1809 26
 3370 0038 7B8C     		ldrh	r3, [r7, #34]
 3371 003a 03F00103 		and	r3, r3, #1
 3372              		.loc 1 1809 8
 3373 003e 1344     		add	r3, r3, r2
 3374 0040 FB61     		str	r3, [r7, #28]
1810:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
 3375              		.loc 1 1810 8
 3376 0042 7B8C     		ldrh	r3, [r7, #34]
 3377 0044 5B08     		lsrs	r3, r3, #1
 3378 0046 7B84     		strh	r3, [r7, #34]	@ movhi
1811:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
 3379              		.loc 1 1811 12
 3380 0048 FB69     		ldr	r3, [r7, #28]
 3381 004a 03F48033 		and	r3, r3, #65536
ARM GAS  /tmp/cc5m2BsI.s 			page 92


 3382              		.loc 1 1811 8
 3383 004e 002B     		cmp	r3, #0
 3384 0050 03D0     		beq	.L207
 3385              		.loc 1 1811 26 discriminator 1
 3386 0052 FA69     		ldr	r2, [r7, #28]
 3387 0054 314B     		ldr	r3, .L218
 3388 0056 5340     		eors	r3, r3, r2
 3389 0058 FB61     		str	r3, [r7, #28]
 3390              	.L207:
1808:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 3391              		.loc 1 1808 25 discriminator 2
 3392 005a BB6A     		ldr	r3, [r7, #40]
 3393 005c 0133     		adds	r3, r3, #1
 3394 005e BB62     		str	r3, [r7, #40]
 3395              	.L206:
1808:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
 3396              		.loc 1 1808 4 discriminator 1
 3397 0060 BB6A     		ldr	r3, [r7, #40]
 3398 0062 0F2B     		cmp	r3, #15
 3399 0064 E6D9     		bls	.L208
 3400              	.L205:
1806:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
 3401              		.loc 1 1806 10
 3402 0066 7B68     		ldr	r3, [r7, #4]
 3403 0068 1B88     		ldrh	r3, [r3]
1806:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
 3404              		.loc 1 1806 9
 3405 006a 002B     		cmp	r3, #0
 3406 006c DAD1     		bne	.L209
1812:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1813:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1814:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
 3407              		.loc 1 1814 7
 3408 006e FB69     		ldr	r3, [r7, #28]
 3409 0070 3B60     		str	r3, [r7]
 3410              	.L204:
1815:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1816:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1817:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1818:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
 3411              		.loc 1 1818 4
 3412 0072 0723     		movs	r3, #7
 3413 0074 BB62     		str	r3, [r7, #40]
 3414              	.L211:
1819:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1820:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)((seq % 16) + '0');
 3415              		.loc 1 1820 7
 3416 0076 3B68     		ldr	r3, [r7]
 3417 0078 DBB2     		uxtb	r3, r3
 3418 007a 03F00F03 		and	r3, r3, #15
 3419 007e DBB2     		uxtb	r3, r3
 3420              		.loc 1 1820 5
 3421 0080 3033     		adds	r3, r3, #48
 3422 0082 87F82F30 		strb	r3, [r7, #47]
1821:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
 3423              		.loc 1 1821 6
 3424 0086 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 93


 3425 008a 392B     		cmp	r3, #57
 3426 008c 04D9     		bls	.L210
 3427              		.loc 1 1821 18 discriminator 1
 3428 008e 97F82F30 		ldrb	r3, [r7, #47]
 3429 0092 0733     		adds	r3, r3, #7
 3430 0094 87F82F30 		strb	r3, [r7, #47]
 3431              	.L210:
1822:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
 3432              		.loc 1 1822 7
 3433 0098 BB6A     		ldr	r3, [r7, #40]
 3434 009a 5A1E     		subs	r2, r3, #1
 3435 009c BA62     		str	r2, [r7, #40]
 3436              		.loc 1 1822 11
 3437 009e 07F13002 		add	r2, r7, #48
 3438 00a2 1344     		add	r3, r3, r2
 3439 00a4 97F82F20 		ldrb	r2, [r7, #47]
 3440 00a8 03F81C2C 		strb	r2, [r3, #-28]
1823:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
 3441              		.loc 1 1823 7
 3442 00ac 3B68     		ldr	r3, [r7]
 3443 00ae 1B09     		lsrs	r3, r3, #4
 3444 00b0 3B60     		str	r3, [r7]
1824:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
 3445              		.loc 1 1824 2
 3446 00b2 3B68     		ldr	r3, [r7]
 3447 00b4 002B     		cmp	r3, #0
 3448 00b6 DED1     		bne	.L211
1825:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
 3449              		.loc 1 1825 8
 3450 00b8 07F11402 		add	r2, r7, #20
 3451 00bc BB6A     		ldr	r3, [r7, #40]
 3452 00be 1344     		add	r3, r3, r2
 3453 00c0 7E22     		movs	r2, #126
 3454 00c2 1A70     		strb	r2, [r3]
1826:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1827:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1828:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
 3455              		.loc 1 1828 9
 3456 00c4 0023     		movs	r3, #0
 3457 00c6 7B62     		str	r3, [r7, #36]
 3458              		.loc 1 1828 2
 3459 00c8 02E0     		b	.L212
 3460              	.L214:
 3461              		.loc 1 1828 39 discriminator 2
 3462 00ca 7B6A     		ldr	r3, [r7, #36]
 3463 00cc 0133     		adds	r3, r3, #1
 3464 00ce 7B62     		str	r3, [r7, #36]
 3465              	.L212:
 3466              		.loc 1 1828 2 discriminator 1
 3467 00d0 7A6A     		ldr	r2, [r7, #36]
 3468 00d2 BB6A     		ldr	r3, [r7, #40]
 3469 00d4 9A42     		cmp	r2, r3
 3470 00d6 05D2     		bcs	.L217
 3471              		.loc 1 1828 26 discriminator 3
 3472 00d8 FA68     		ldr	r2, [r7, #12]
 3473 00da 7B6A     		ldr	r3, [r7, #36]
 3474 00dc 1344     		add	r3, r3, r2
ARM GAS  /tmp/cc5m2BsI.s 			page 94


 3475 00de 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3476              		.loc 1 1828 20 discriminator 3
 3477 00e0 202B     		cmp	r3, #32
 3478 00e2 F2D1     		bne	.L214
 3479              	.L217:
1829:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
1830:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1831:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1832:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1833:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1834:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1835:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
 3480              		.loc 1 1835 12
 3481 00e4 BB6A     		ldr	r3, [r7, #40]
 3482 00e6 072B     		cmp	r3, #7
 3483 00e8 08D8     		bhi	.L215
 3484              		.loc 1 1835 28 discriminator 1
 3485 00ea BB6A     		ldr	r3, [r7, #40]
 3486 00ec 5A1C     		adds	r2, r3, #1
 3487 00ee BA62     		str	r2, [r7, #40]
 3488              		.loc 1 1835 12 discriminator 1
 3489 00f0 07F13002 		add	r2, r7, #48
 3490 00f4 1344     		add	r3, r3, r2
 3491 00f6 13F81C1C 		ldrb	r1, [r3, #-28]	@ zero_extendqisi2
 3492 00fa 00E0     		b	.L216
 3493              	.L215:
 3494              		.loc 1 1835 12 is_stmt 0 discriminator 2
 3495 00fc 2021     		movs	r1, #32
 3496              	.L216:
 3497              		.loc 1 1835 8 is_stmt 1 discriminator 4
 3498 00fe 7B6A     		ldr	r3, [r7, #36]
 3499 0100 5A1C     		adds	r2, r3, #1
 3500 0102 7A62     		str	r2, [r7, #36]
 3501              		.loc 1 1835 6 discriminator 4
 3502 0104 FA68     		ldr	r2, [r7, #12]
 3503 0106 1344     		add	r3, r3, r2
 3504              		.loc 1 1835 12 discriminator 4
 3505 0108 0A46     		mov	r2, r1
 3506 010a 1A70     		strb	r2, [r3]
1836:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
 3507              		.loc 1 1836 2 discriminator 4
 3508 010c 7B6A     		ldr	r3, [r7, #36]
 3509 010e 072B     		cmp	r3, #7
 3510 0110 E8D9     		bls	.L217
1837:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 3511              		.loc 1 1837 1
 3512 0112 00BF     		nop
 3513 0114 00BF     		nop
 3514 0116 3037     		adds	r7, r7, #48
 3515              		.cfi_def_cfa_offset 8
 3516 0118 BD46     		mov	sp, r7
 3517              		.cfi_def_cfa_register 13
 3518              		@ sp needed
 3519 011a 80BD     		pop	{r7, pc}
 3520              	.L219:
 3521              		.align	2
 3522              	.L218:
ARM GAS  /tmp/cc5m2BsI.s 			page 95


 3523 011c 21100100 		.word	69665
 3524              		.cfi_endproc
 3525              	.LFE345:
 3527              		.section	.text.sum_sfn,"ax",%progbits
 3528              		.align	1
 3529              		.syntax unified
 3530              		.thumb
 3531              		.thumb_func
 3532              		.fpu fpv5-d16
 3534              	sum_sfn:
 3535              	.LFB346:
1838:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 && !_FS_READONLY */
1839:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1840:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1841:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1842:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
1843:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1844:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT-LFN: Calculate checksum of an SFN entry                           */
1845:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1846:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1847:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1848:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
1849:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1850:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1851:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 3536              		.loc 1 1851 1
 3537              		.cfi_startproc
 3538              		@ args = 0, pretend = 0, frame = 16
 3539              		@ frame_needed = 1, uses_anonymous_args = 0
 3540              		@ link register save eliminated.
 3541 0000 80B4     		push	{r7}
 3542              		.cfi_def_cfa_offset 4
 3543              		.cfi_offset 7, -4
 3544 0002 85B0     		sub	sp, sp, #20
 3545              		.cfi_def_cfa_offset 24
 3546 0004 00AF     		add	r7, sp, #0
 3547              		.cfi_def_cfa_register 7
 3548 0006 7860     		str	r0, [r7, #4]
1852:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
 3549              		.loc 1 1852 7
 3550 0008 0023     		movs	r3, #0
 3551 000a FB73     		strb	r3, [r7, #15]
1853:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
 3552              		.loc 1 1853 7
 3553 000c 0B23     		movs	r3, #11
 3554 000e BB60     		str	r3, [r7, #8]
 3555              	.L221:
1854:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1855:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1856:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = (sum >> 1) + (sum << 7) + *dir++;
 3556              		.loc 1 1856 20 discriminator 1
 3557 0010 FB7B     		ldrb	r3, [r7, #15]
 3558 0012 DAB2     		uxtb	r2, r3
 3559 0014 5208     		lsrs	r2, r2, #1
 3560 0016 DB01     		lsls	r3, r3, #7
 3561 0018 1343     		orrs	r3, r3, r2
 3562 001a DAB2     		uxtb	r2, r3
ARM GAS  /tmp/cc5m2BsI.s 			page 96


 3563              		.loc 1 1856 39 discriminator 1
 3564 001c 7B68     		ldr	r3, [r7, #4]
 3565 001e 591C     		adds	r1, r3, #1
 3566 0020 7960     		str	r1, [r7, #4]
 3567              		.loc 1 1856 35 discriminator 1
 3568 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3569              		.loc 1 1856 7 discriminator 1
 3570 0024 1344     		add	r3, r3, r2
 3571 0026 FB73     		strb	r3, [r7, #15]
1857:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--n);
 3572              		.loc 1 1857 2 discriminator 1
 3573 0028 BB68     		ldr	r3, [r7, #8]
 3574 002a 013B     		subs	r3, r3, #1
 3575 002c BB60     		str	r3, [r7, #8]
 3576 002e BB68     		ldr	r3, [r7, #8]
 3577 0030 002B     		cmp	r3, #0
 3578 0032 EDD1     		bne	.L221
1858:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
 3579              		.loc 1 1858 9
 3580 0034 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1859:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 3581              		.loc 1 1859 1
 3582 0036 1846     		mov	r0, r3
 3583 0038 1437     		adds	r7, r7, #20
 3584              		.cfi_def_cfa_offset 4
 3585 003a BD46     		mov	sp, r7
 3586              		.cfi_def_cfa_register 13
 3587              		@ sp needed
 3588 003c 5DF8047B 		ldr	r7, [sp], #4
 3589              		.cfi_restore 7
 3590              		.cfi_def_cfa_offset 0
 3591 0040 7047     		bx	lr
 3592              		.cfi_endproc
 3593              	.LFE346:
 3595              		.section	.text.dir_read,"ax",%progbits
 3596              		.align	1
 3597              		.syntax unified
 3598              		.thumb
 3599              		.thumb_func
 3600              		.fpu fpv5-d16
 3602              	dir_read:
 3603              	.LFB347:
1860:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1861:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_LFN != 0 */
1862:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1865:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
1866:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1867:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Checksum                                                       */
1868:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1869:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1870:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1871:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** WORD xdir_sum (			/* Get checksum of the directoly block */
1872:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Directory entry block to be calculated */
1873:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1874:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
ARM GAS  /tmp/cc5m2BsI.s 			page 97


1875:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, szblk;
1876:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum;
1877:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1878:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1879:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	szblk = (dir[XDIR_NumSec] + 1) * SZDIRE;
1880:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = sum = 0; i < szblk; i++) {
1881:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == XDIR_SetSum) {	/* Skip sum field */
1882:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			i++;
1883:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1884:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + dir[i];
1885:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1886:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1887:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1888:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
1889:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1890:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1891:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1892:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1893:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** WORD xname_sum (		/* Get check sum (to be used as hash) of the name */
1894:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* name	/* File name to be calculated */
1895:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1896:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
1897:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
1898:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD sum = 0;
1899:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1900:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while ((chr = *name++) != 0) {
1902:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = ff_wtoupper(chr);		/* File name needs to be ignored case */
1903:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr & 0xFF);
1904:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = ((sum & 1) ? 0x8000 : 0) + (sum >> 1) + (chr >> 8);
1905:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1906:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1907:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
1908:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1909:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1910:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _USE_MKFS
1911:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1912:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** DWORD xsum32 (
1913:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE  dat,	/* Data to be sumed */
1914:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sum	/* Previous value */
1915:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1916:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
1917:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	sum = ((sum & 1) ? 0x80000000 : 0) + (sum >> 1) + dat;
1918:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1919:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
1920:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1921:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1922:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1923:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1924:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1925:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get object information from a directory block */
1926:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------*/
1927:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1928:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1929:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void get_xdir_info (
1930:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block 85+C0+C1s */
1931:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Buffer to store the extracted file information */
ARM GAS  /tmp/cc5m2BsI.s 			page 98


1932:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1933:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
1934:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT di, si;
1935:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
1936:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1937:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nc;
1938:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1939:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1940:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get file name */
1941:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	di = 0;
1942:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1943:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2; di < dirb[XDIR_NumName]; si += 2, di++) {
1944:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1945:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ld_word(dirb + si);					/* Get a character */
1946:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) { di = 0; break; }	/* Buffer overflow --> inaccessible object name */
1947:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di] = w;						/* Store it */
1948:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1949:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
1950:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = SZDIRE * 2, nc = 0; nc < dirb[XDIR_NumName]; si += 2, nc++) {
1951:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((si % SZDIRE) == 0) si += 2;		/* Skip entry type field */
1952:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(ld_word(dirb + si), 0);	/* Get a character and Unicode -> OEM */
1953:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {				/* Is it a double byte char? (always false at SBCS cfg) */
1954:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[di++] = (char)(w >> 8);	/* Put 1st byte of the DBC */
1955:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1956:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == 0 || di >= _MAX_LFN) { di = 0; break; }	/* Invalid char or buffer overflow --> inaccessi
1957:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[di++] = (char)w;
1958:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1959:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1960:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) fno->fname[di++] = '?';	/* Inaccessible object name? */
1961:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[di] = 0;						/* Terminate file name */
1962:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1963:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[0] = 0;							/* No SFN */
1964:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dirb[XDIR_Attr];					/* Attribute */
1965:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = (fno->fattrib & AM_DIR) ? 0 : ld_qword(dirb + XDIR_FileSize);	/* Size */
1966:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = ld_word(dirb + XDIR_ModTime + 0);	/* Time */
1967:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fdate = ld_word(dirb + XDIR_ModTime + 2);	/* Date */
1968:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
1969:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1970:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1971:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1972:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1973:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1974:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Get a directry entry block */
1975:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------*/
1976:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
1978:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_xdir (	/* FR_INT_ERR: invalid entry block */
1979:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the reading direcotry object pointing the 85 entry */
1980:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
1981:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
1982:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1983:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, sz_ent;
1984:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the on-memory direcotry entry block 85+C0+C1s */
1985:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1986:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1987:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load 85 entry */
1988:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
ARM GAS  /tmp/cc5m2BsI.s 			page 99


1989:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1990:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0x85) return FR_INT_ERR;
1991:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + 0, dp->dir, SZDIRE);
1992:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_ent = (dirb[XDIR_NumSec] + 1) * SZDIRE;
1993:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_ent < 3 * SZDIRE || sz_ent > 19 * SZDIRE) return FR_INT_ERR;
1994:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C0 entry */
1996:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_next(dp, 0);
1997:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1998:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(dp->obj.fs, dp->sect);
1999:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
2000:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->dir[XDIR_Type] != 0xC0) return FR_INT_ERR;
2001:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dirb + SZDIRE, dp->dir, SZDIRE);
2002:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (MAXDIRB(dirb[XDIR_NumName]) > sz_ent) return FR_INT_ERR;
2003:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2004:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Load C1 entries */
2005:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SZDIRE * 2;	/* C1 offset */
2006:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2007:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2008:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2009:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2010:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2011:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->dir[XDIR_Type] != 0xC1) return FR_INT_ERR;
2012:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < MAXDIRB(_MAX_LFN)) mem_cpy(dirb + i, dp->dir, SZDIRE);
2013:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while ((i += SZDIRE) < sz_ent);
2014:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2015:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Sanity check (do it when accessible object name) */
2016:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i <= MAXDIRB(_MAX_LFN)) {
2017:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (xdir_sum(dirb) != ld_word(dirb + XDIR_SetSum)) return FR_INT_ERR;
2018:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2019:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2020:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
2021:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2022:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2023:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY || _FS_RPATH != 0
2024:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2025:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Load the object's directory entry block */
2026:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------*/
2027:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2028:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT load_obj_dir (
2029:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Blank directory object to be used to access containing direcotry */
2030:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const _FDID* obj	/* Object with its containing directory information */
2031:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2032:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
2033:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2034:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2035:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Open object containing directory */
2036:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.fs = obj->fs;
2037:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.sclust = obj->c_scl;
2038:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.stat = (BYTE)obj->c_size;
2039:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->obj.objsize = obj->c_size & 0xFFFFFF00;
2040:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->blk_ofs = obj->c_ofs;
2041:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2042:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);	/* Goto object's entry block */
2043:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2044:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_xdir(dp);		/* Load the object's entry block */
2045:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cc5m2BsI.s 			page 100


2046:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2047:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
2048:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2049:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2050:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2051:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2052:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2053:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Store the directory block to the media */
2054:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------*/
2055:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2056:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT store_xdir (
2057:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Pointer to the direcotry object */
2058:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2059:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
2060:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2061:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent;
2062:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb = dp->obj.fs->dirbuf;	/* Pointer to the direcotry entry block 85+C0+C1s */
2063:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2064:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create set sum */
2065:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_SetSum, xdir_sum(dirb));
2066:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = dirb[XDIR_NumSec] + 1;
2067:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2068:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Store the set of directory to the volume */
2069:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->blk_ofs);
2070:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while (res == FR_OK) {
2071:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->obj.fs, dp->sect);
2072:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
2073:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(dp->dir, dirb, SZDIRE);
2074:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.fs->wflag = 1;
2075:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (--nent == 0) break;
2076:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb += SZDIRE;
2077:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);
2078:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2079:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return (res == FR_OK || res == FR_DISK_ERR) ? res : FR_INT_ERR;
2080:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
2081:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2082:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2083:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2084:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2085:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* exFAT: Create a new directory enrty block */
2086:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-------------------------------------------*/
2087:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2088:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2089:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void create_xdir (
2090:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dirb,			/* Pointer to the direcotry entry block buffer */
2091:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn	/* Pointer to the nul terminated file name */
2092:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2093:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
2094:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2095:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE nb, nc;
2096:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2097:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2098:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2099:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create 85+C0 entry */
2100:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dirb, 0, 2 * SZDIRE);
2101:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type] = 0x85;
2102:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_Type + SZDIRE] = 0xC0;
ARM GAS  /tmp/cc5m2BsI.s 			page 101


2103:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create C1 entries */
2105:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	nc = 0; nb = 1; chr = 1; i = SZDIRE * 2;
2106:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2107:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dirb[i++] = 0xC1; dirb[i++] = 0;	/* Entry type C1 */
2108:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill name field */
2109:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chr && (chr = lfn[nc]) != 0) nc++;	/* Get a character if exist */
2110:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirb + i, chr); 		/* Store it */
2111:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while ((i += 2) % SZDIRE != 0);
2112:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		nb++;
2113:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (lfn[nc]);	/* Fill next entry if any char follows */
2114:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2115:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumName] = nc;	/* Set name length */
2116:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dirb[XDIR_NumSec] = nb;		/* Set block length */
2117:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(dirb + XDIR_NameHash, xname_sum(lfn));	/* Set name hash */
2118:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
2119:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
2121:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
2122:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2123:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2125:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 || _USE_LABEL || _FS_EXFAT
2126:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2127:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
2128:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2129:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2130:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2131:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
2132:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
2133:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
2134:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2135:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 3604              		.loc 1 2135 1
 3605              		.cfi_startproc
 3606              		@ args = 0, pretend = 0, frame = 24
 3607              		@ frame_needed = 1, uses_anonymous_args = 0
 3608 0000 80B5     		push	{r7, lr}
 3609              		.cfi_def_cfa_offset 8
 3610              		.cfi_offset 7, -8
 3611              		.cfi_offset 14, -4
 3612 0002 86B0     		sub	sp, sp, #24
 3613              		.cfi_def_cfa_offset 32
 3614 0004 00AF     		add	r7, sp, #0
 3615              		.cfi_def_cfa_register 7
 3616 0006 7860     		str	r0, [r7, #4]
 3617 0008 3960     		str	r1, [r7]
2136:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_NO_FILE;
 3618              		.loc 1 2136 10
 3619 000a 0423     		movs	r3, #4
 3620 000c FB75     		strb	r3, [r7, #23]
2137:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3621              		.loc 1 2137 9
 3622 000e 7B68     		ldr	r3, [r7, #4]
 3623 0010 1B68     		ldr	r3, [r3]
 3624 0012 3B61     		str	r3, [r7, #16]
2138:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c;
ARM GAS  /tmp/cc5m2BsI.s 			page 102


2139:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2140:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
 3625              		.loc 1 2140 7
 3626 0014 FF23     		movs	r3, #255
 3627 0016 7B75     		strb	r3, [r7, #21]
 3628              		.loc 1 2140 19
 3629 0018 FF23     		movs	r3, #255
 3630 001a 3B75     		strb	r3, [r7, #20]
2141:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2142:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2143:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
 3631              		.loc 1 2143 8
 3632 001c 81E0     		b	.L224
 3633              	.L237:
2144:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 3634              		.loc 1 2144 9
 3635 001e 7B68     		ldr	r3, [r7, #4]
 3636 0020 9B69     		ldr	r3, [r3, #24]
 3637 0022 1946     		mov	r1, r3
 3638 0024 3869     		ldr	r0, [r7, #16]
 3639 0026 FFF7FEFF 		bl	move_window
 3640 002a 0346     		mov	r3, r0
 3641 002c FB75     		strb	r3, [r7, #23]
2145:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 3642              		.loc 1 2145 6
 3643 002e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3644 0030 002B     		cmp	r3, #0
 3645 0032 7CD1     		bne	.L240
2146:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 3646              		.loc 1 2146 9
 3647 0034 7B68     		ldr	r3, [r7, #4]
 3648 0036 DB69     		ldr	r3, [r3, #28]
 3649              		.loc 1 2146 5
 3650 0038 1B78     		ldrb	r3, [r3]
 3651 003a BB75     		strb	r3, [r7, #22]
2147:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) {
 3652              		.loc 1 2147 6
 3653 003c BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3654 003e 002B     		cmp	r3, #0
 3655 0040 02D1     		bne	.L227
2148:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_NO_FILE; break; /* Reached to end of the directory */
 3656              		.loc 1 2148 8
 3657 0042 0423     		movs	r3, #4
 3658 0044 FB75     		strb	r3, [r7, #23]
 3659              		.loc 1 2148 4
 3660 0046 77E0     		b	.L226
 3661              	.L227:
2149:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2150:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2151:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2152:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_USE_LABEL && vol) {
2153:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x83) break;	/* Volume label entry? */
2154:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2155:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c == 0x85) {		/* Start of the file entry block? */
2156:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->blk_ofs = dp->dptr;	/* Get location of the block */
2157:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_xdir(dp);	/* Load the entry block */
2158:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
ARM GAS  /tmp/cc5m2BsI.s 			page 103


2159:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->obj.attr = fs->dirbuf[XDIR_Attr] & AM_MASK;	/* Get attribute */
2160:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2161:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
2162:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2163:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2164:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else
2165:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2166:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		{	/* On the FAT12/16/32 volume */
2167:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;	/* Get attribute */
 3662              		.loc 1 2167 25
 3663 0048 7B68     		ldr	r3, [r7, #4]
 3664 004a DB69     		ldr	r3, [r3, #28]
 3665              		.loc 1 2167 30
 3666 004c 0B33     		adds	r3, r3, #11
 3667 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3668              		.loc 1 2167 21
 3669 0050 03F03F03 		and	r3, r3, #63
 3670 0054 FB73     		strb	r3, [r7, #15]
 3671              		.loc 1 2167 17
 3672 0056 7B68     		ldr	r3, [r7, #4]
 3673 0058 FA7B     		ldrb	r2, [r7, #15]
 3674 005a 9A71     		strb	r2, [r3, #6]
2168:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2169:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == DDEM || c == '.' || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry without valid 
 3675              		.loc 1 2169 7
 3676 005c BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3677 005e E52B     		cmp	r3, #229
 3678 0060 0ED0     		beq	.L228
 3679              		.loc 1 2169 18 discriminator 1
 3680 0062 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3681 0064 2E2B     		cmp	r3, #46
 3682 0066 0BD0     		beq	.L228
 3683              		.loc 1 2169 42 discriminator 2
 3684 0068 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3685 006a 23F02003 		bic	r3, r3, #32
 3686              		.loc 1 2169 33 discriminator 2
 3687 006e 082B     		cmp	r3, #8
 3688 0070 0CBF     		ite	eq
 3689 0072 0123     		moveq	r3, #1
 3690 0074 0023     		movne	r3, #0
 3691 0076 DBB2     		uxtb	r3, r3
 3692 0078 1A46     		mov	r2, r3
 3693              		.loc 1 2169 30 discriminator 2
 3694 007a 3B68     		ldr	r3, [r7]
 3695 007c 9342     		cmp	r3, r2
 3696 007e 02D0     		beq	.L229
 3697              	.L228:
2170:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF;
 3698              		.loc 1 2170 9
 3699 0080 FF23     		movs	r3, #255
 3700 0082 7B75     		strb	r3, [r7, #21]
 3701 0084 44E0     		b	.L230
 3702              	.L229:
2171:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2172:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (a == AM_LFN) {			/* An LFN entry is found */
 3703              		.loc 1 2172 8
 3704 0086 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 104


 3705 0088 0F2B     		cmp	r3, #15
 3706 008a 2FD1     		bne	.L231
2173:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {			/* Is it start of an LFN sequence? */
 3707              		.loc 1 2173 12
 3708 008c BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3709 008e 03F04003 		and	r3, r3, #64
 3710              		.loc 1 2173 9
 3711 0092 002B     		cmp	r3, #0
 3712 0094 0DD0     		beq	.L232
2174:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 3713              		.loc 1 2174 15
 3714 0096 7B68     		ldr	r3, [r7, #4]
 3715 0098 DB69     		ldr	r3, [r3, #28]
 3716              		.loc 1 2174 11
 3717 009a 5B7B     		ldrb	r3, [r3, #13]
 3718 009c 3B75     		strb	r3, [r7, #20]
2175:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;
 3719              		.loc 1 2175 9
 3720 009e BB7D     		ldrb	r3, [r7, #22]
 3721 00a0 23F04003 		bic	r3, r3, #64
 3722 00a4 BB75     		strb	r3, [r7, #22]
 3723              		.loc 1 2175 29
 3724 00a6 BB7D     		ldrb	r3, [r7, #22]
 3725 00a8 7B75     		strb	r3, [r7, #21]
2176:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;
 3726              		.loc 1 2176 23
 3727 00aa 7B68     		ldr	r3, [r7, #4]
 3728 00ac 1A69     		ldr	r2, [r3, #16]
 3729              		.loc 1 2176 19
 3730 00ae 7B68     		ldr	r3, [r7, #4]
 3731 00b0 DA62     		str	r2, [r3, #44]
 3732              	.L232:
2177:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2178:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check LFN validity and capture it */
2179:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && pick_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0
 3733              		.loc 1 2179 10
 3734 00b2 BA7D     		ldrb	r2, [r7, #22]	@ zero_extendqisi2
 3735 00b4 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 3736 00b6 9A42     		cmp	r2, r3
 3737 00b8 15D1     		bne	.L233
 3738              		.loc 1 2179 34 discriminator 1
 3739 00ba 7B68     		ldr	r3, [r7, #4]
 3740 00bc DB69     		ldr	r3, [r3, #28]
 3741              		.loc 1 2179 39 discriminator 1
 3742 00be 0D33     		adds	r3, r3, #13
 3743 00c0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3744              		.loc 1 2179 22 discriminator 1
 3745 00c2 3A7D     		ldrb	r2, [r7, #20]	@ zero_extendqisi2
 3746 00c4 9A42     		cmp	r2, r3
 3747 00c6 0ED1     		bne	.L233
 3748              		.loc 1 2179 56 discriminator 3
 3749 00c8 3B69     		ldr	r3, [r7, #16]
 3750 00ca DA68     		ldr	r2, [r3, #12]
 3751 00cc 7B68     		ldr	r3, [r7, #4]
 3752 00ce DB69     		ldr	r3, [r3, #28]
 3753 00d0 1946     		mov	r1, r3
 3754 00d2 1046     		mov	r0, r2
ARM GAS  /tmp/cc5m2BsI.s 			page 105


 3755 00d4 FFF7FEFF 		bl	pick_lfn
 3756 00d8 0346     		mov	r3, r0
 3757              		.loc 1 2179 53 discriminator 3
 3758 00da 002B     		cmp	r3, #0
 3759 00dc 03D0     		beq	.L233
 3760              		.loc 1 2179 10 discriminator 5
 3761 00de 7B7D     		ldrb	r3, [r7, #21]
 3762 00e0 013B     		subs	r3, r3, #1
 3763 00e2 DBB2     		uxtb	r3, r3
 3764 00e4 00E0     		b	.L234
 3765              	.L233:
 3766              		.loc 1 2179 10 is_stmt 0 discriminator 6
 3767 00e6 FF23     		movs	r3, #255
 3768              	.L234:
 3769              		.loc 1 2179 10 discriminator 8
 3770 00e8 7B75     		strb	r3, [r7, #21]
 3771 00ea 11E0     		b	.L230
 3772              	.L231:
2180:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* An SFN entry is found */
2181:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ord || sum != sum_sfn(dp->dir)) {	/* Is there a valid LFN? */
 3773              		.loc 1 2181 9 is_stmt 1
 3774 00ec 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 3775 00ee 002B     		cmp	r3, #0
 3776 00f0 09D1     		bne	.L235
 3777              		.loc 1 2181 34 discriminator 1
 3778 00f2 7B68     		ldr	r3, [r7, #4]
 3779 00f4 DB69     		ldr	r3, [r3, #28]
 3780              		.loc 1 2181 24 discriminator 1
 3781 00f6 1846     		mov	r0, r3
 3782 00f8 FFF7FEFF 		bl	sum_sfn
 3783 00fc 0346     		mov	r3, r0
 3784 00fe 1A46     		mov	r2, r3
 3785              		.loc 1 2181 14 discriminator 1
 3786 0100 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 3787 0102 9342     		cmp	r3, r2
 3788 0104 15D0     		beq	.L241
 3789              	.L235:
2182:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = 0xFFFFFFFF;			/* It has no LFN. */
 3790              		.loc 1 2182 19
 3791 0106 7B68     		ldr	r3, [r7, #4]
 3792 0108 4FF0FF32 		mov	r2, #-1
 3793 010c DA62     		str	r2, [r3, #44]
2183:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2184:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					break;
 3794              		.loc 1 2184 6
 3795 010e 10E0     		b	.L241
 3796              	.L230:
2185:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2186:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2187:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2188:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != DDEM && c != '.' && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol) {	/* Is it a 
2189:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2190:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2191:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2192:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2193:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
 3797              		.loc 1 2193 9
ARM GAS  /tmp/cc5m2BsI.s 			page 106


 3798 0110 0021     		movs	r1, #0
 3799 0112 7868     		ldr	r0, [r7, #4]
 3800 0114 FFF7FEFF 		bl	dir_next
 3801 0118 0346     		mov	r3, r0
 3802 011a FB75     		strb	r3, [r7, #23]
2194:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 3803              		.loc 1 2194 6
 3804 011c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3805 011e 002B     		cmp	r3, #0
 3806 0120 09D1     		bne	.L242
 3807              	.L224:
2143:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 3808              		.loc 1 2143 11
 3809 0122 7B68     		ldr	r3, [r7, #4]
 3810 0124 9B69     		ldr	r3, [r3, #24]
2143:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 3811              		.loc 1 2143 8
 3812 0126 002B     		cmp	r3, #0
 3813 0128 7FF479AF 		bne	.L237
 3814 012c 04E0     		b	.L226
 3815              	.L240:
2145:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];	/* Test for the entry type */
 3816              		.loc 1 2145 3
 3817 012e 00BF     		nop
 3818 0130 02E0     		b	.L226
 3819              	.L241:
2184:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 3820              		.loc 1 2184 6
 3821 0132 00BF     		nop
 3822 0134 00E0     		b	.L226
 3823              	.L242:
 3824              		.loc 1 2194 3
 3825 0136 00BF     		nop
 3826              	.L226:
2195:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2196:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2197:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;		/* Terminate the read operation on error or EOT */
 3827              		.loc 1 2197 5
 3828 0138 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3829 013a 002B     		cmp	r3, #0
 3830 013c 02D0     		beq	.L238
 3831              		.loc 1 2197 29 discriminator 1
 3832 013e 7B68     		ldr	r3, [r7, #4]
 3833 0140 0022     		movs	r2, #0
 3834 0142 9A61     		str	r2, [r3, #24]
 3835              	.L238:
2198:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 3836              		.loc 1 2198 9
 3837 0144 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
2199:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 3838              		.loc 1 2199 1
 3839 0146 1846     		mov	r0, r3
 3840 0148 1837     		adds	r7, r7, #24
 3841              		.cfi_def_cfa_offset 8
 3842 014a BD46     		mov	sp, r7
 3843              		.cfi_def_cfa_register 13
 3844              		@ sp needed
ARM GAS  /tmp/cc5m2BsI.s 			page 107


 3845 014c 80BD     		pop	{r7, pc}
 3846              		.cfi_endproc
 3847              	.LFE347:
 3849              		.section	.text.dir_find,"ax",%progbits
 3850              		.align	1
 3851              		.syntax unified
 3852              		.thumb
 3853              		.thumb_func
 3854              		.fpu fpv5-d16
 3856              	dir_find:
 3857              	.LFB348:
2200:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
2202:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2203:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2204:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2205:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2206:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
2207:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2208:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2209:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2210:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (	/* FR_OK(0):succeeded, !=0:error */
2211:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object with the file name */
2212:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2213:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 3858              		.loc 1 2213 1
 3859              		.cfi_startproc
 3860              		@ args = 0, pretend = 0, frame = 24
 3861              		@ frame_needed = 1, uses_anonymous_args = 0
 3862 0000 80B5     		push	{r7, lr}
 3863              		.cfi_def_cfa_offset 8
 3864              		.cfi_offset 7, -8
 3865              		.cfi_offset 14, -4
 3866 0002 86B0     		sub	sp, sp, #24
 3867              		.cfi_def_cfa_offset 32
 3868 0004 00AF     		add	r7, sp, #0
 3869              		.cfi_def_cfa_register 7
 3870 0006 7860     		str	r0, [r7, #4]
2214:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2215:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 3871              		.loc 1 2215 9
 3872 0008 7B68     		ldr	r3, [r7, #4]
 3873 000a 1B68     		ldr	r3, [r3]
 3874 000c 3B61     		str	r3, [r7, #16]
2216:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c;
2217:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2218:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
2219:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2220:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2221:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
 3875              		.loc 1 2221 8
 3876 000e 0021     		movs	r1, #0
 3877 0010 7868     		ldr	r0, [r7, #4]
 3878 0012 FFF7FEFF 		bl	dir_sdi
 3879 0016 0346     		mov	r3, r0
 3880 0018 FB75     		strb	r3, [r7, #23]
2222:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
ARM GAS  /tmp/cc5m2BsI.s 			page 108


 3881              		.loc 1 2222 5
 3882 001a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3883 001c 002B     		cmp	r3, #0
 3884 001e 01D0     		beq	.L244
 3885              		.loc 1 2222 27 discriminator 1
 3886 0020 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3887 0022 A9E0     		b	.L245
 3888              	.L244:
2223:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2224:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2225:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE nc;
2226:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT di, ni;
2227:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		WORD hash = xname_sum(fs->lfnbuf);		/* Hash value of the name to find */
2228:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2229:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((res = dir_read(dp, 0)) == FR_OK) {	/* Read an item */
2230:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 255
2231:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->dirbuf[XDIR_NumName] > _MAX_LFN) continue;			/* Skip comparison if inaccessible object n
2232:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2233:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->dirbuf + XDIR_NameHash) != hash) continue;	/* Skip comparison if hash mismatched
2234:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			for (nc = fs->dirbuf[XDIR_NumName], di = SZDIRE * 2, ni = 0; nc; nc--, di += 2, ni++) {	/* Compa
2235:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((di % SZDIRE) == 0) di += 2;
2236:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ff_wtoupper(ld_word(fs->dirbuf + di)) != ff_wtoupper(fs->lfnbuf[ni])) break;
2237:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2238:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nc == 0 && !fs->lfnbuf[ni]) break;	/* Name matched? */
2239:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2240:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		return res;
2241:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2242:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2243:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2244:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2245:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 3889              		.loc 1 2245 12
 3890 0024 FF23     		movs	r3, #255
 3891 0026 3B75     		strb	r3, [r7, #20]
 3892              		.loc 1 2245 6
 3893 0028 3B7D     		ldrb	r3, [r7, #20]
 3894 002a 7B75     		strb	r3, [r7, #21]
 3895              		.loc 1 2245 32
 3896 002c 7B68     		ldr	r3, [r7, #4]
 3897 002e 4FF0FF32 		mov	r2, #-1
 3898 0032 DA62     		str	r2, [r3, #44]
 3899              	.L258:
2246:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2247:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2248:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 3900              		.loc 1 2248 9
 3901 0034 7B68     		ldr	r3, [r7, #4]
 3902 0036 9B69     		ldr	r3, [r3, #24]
 3903 0038 1946     		mov	r1, r3
 3904 003a 3869     		ldr	r0, [r7, #16]
 3905 003c FFF7FEFF 		bl	move_window
 3906 0040 0346     		mov	r3, r0
 3907 0042 FB75     		strb	r3, [r7, #23]
2249:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 3908              		.loc 1 2249 6
 3909 0044 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 3910 0046 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 109


 3911 0048 40F09080 		bne	.L259
2250:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 3912              		.loc 1 2250 9
 3913 004c 7B68     		ldr	r3, [r7, #4]
 3914 004e DB69     		ldr	r3, [r3, #28]
 3915              		.loc 1 2250 5
 3916 0050 1B78     		ldrb	r3, [r3]
 3917 0052 BB75     		strb	r3, [r7, #22]
2251:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 3918              		.loc 1 2251 6
 3919 0054 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3920 0056 002B     		cmp	r3, #0
 3921 0058 02D1     		bne	.L248
 3922              		.loc 1 2251 21 discriminator 1
 3923 005a 0423     		movs	r3, #4
 3924 005c FB75     		strb	r3, [r7, #23]
 3925              		.loc 1 2251 3 discriminator 1
 3926 005e 8AE0     		b	.L247
 3927              	.L248:
2252:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2253:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = a = dp->dir[DIR_Attr] & AM_MASK;
 3928              		.loc 1 2253 24
 3929 0060 7B68     		ldr	r3, [r7, #4]
 3930 0062 DB69     		ldr	r3, [r3, #28]
 3931              		.loc 1 2253 29
 3932 0064 0B33     		adds	r3, r3, #11
 3933 0066 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3934              		.loc 1 2253 20
 3935 0068 03F03F03 		and	r3, r3, #63
 3936 006c FB73     		strb	r3, [r7, #15]
 3937              		.loc 1 2253 16
 3938 006e 7B68     		ldr	r3, [r7, #4]
 3939 0070 FA7B     		ldrb	r2, [r7, #15]
 3940 0072 9A71     		strb	r2, [r3, #6]
2254:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
 3941              		.loc 1 2254 6
 3942 0074 BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3943 0076 E52B     		cmp	r3, #229
 3944 0078 07D0     		beq	.L249
 3945              		.loc 1 2254 24 discriminator 1
 3946 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3947 007c 03F00803 		and	r3, r3, #8
 3948              		.loc 1 2254 17 discriminator 1
 3949 0080 002B     		cmp	r3, #0
 3950 0082 09D0     		beq	.L250
 3951              		.loc 1 2254 34 discriminator 2
 3952 0084 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3953 0086 0F2B     		cmp	r3, #15
 3954 0088 06D0     		beq	.L250
 3955              	.L249:
2255:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 3956              		.loc 1 2255 8
 3957 008a FF23     		movs	r3, #255
 3958 008c 7B75     		strb	r3, [r7, #21]
 3959              		.loc 1 2255 28
 3960 008e 7B68     		ldr	r3, [r7, #4]
 3961 0090 4FF0FF32 		mov	r2, #-1
ARM GAS  /tmp/cc5m2BsI.s 			page 110


 3962 0094 DA62     		str	r2, [r3, #44]
 3963 0096 5EE0     		b	.L251
 3964              	.L250:
2256:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
2257:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
 3965              		.loc 1 2257 7
 3966 0098 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3967 009a 0F2B     		cmp	r3, #15
 3968 009c 36D1     		bne	.L252
2258:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_NOLFN)) {
 3969              		.loc 1 2258 17
 3970 009e 7B68     		ldr	r3, [r7, #4]
 3971 00a0 93F82B30 		ldrb	r3, [r3, #43]	@ zero_extendqisi2
 3972              		.loc 1 2258 26
 3973 00a4 03F04003 		and	r3, r3, #64
 3974              		.loc 1 2258 8
 3975 00a8 002B     		cmp	r3, #0
 3976 00aa 54D1     		bne	.L251
2259:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
 3977              		.loc 1 2259 12
 3978 00ac BB7D     		ldrb	r3, [r7, #22]	@ zero_extendqisi2
 3979 00ae 03F04003 		and	r3, r3, #64
 3980              		.loc 1 2259 9
 3981 00b2 002B     		cmp	r3, #0
 3982 00b4 0DD0     		beq	.L253
2260:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dp->dir[LDIR_Chksum];
 3983              		.loc 1 2260 15
 3984 00b6 7B68     		ldr	r3, [r7, #4]
 3985 00b8 DB69     		ldr	r3, [r3, #28]
 3986              		.loc 1 2260 11
 3987 00ba 5B7B     		ldrb	r3, [r3, #13]
 3988 00bc 3B75     		strb	r3, [r7, #20]
2261:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= (BYTE)~LLEF; ord = c;	/* LFN start order */
 3989              		.loc 1 2261 9
 3990 00be BB7D     		ldrb	r3, [r7, #22]
 3991 00c0 23F04003 		bic	r3, r3, #64
 3992 00c4 BB75     		strb	r3, [r7, #22]
 3993              		.loc 1 2261 29
 3994 00c6 BB7D     		ldrb	r3, [r7, #22]
 3995 00c8 7B75     		strb	r3, [r7, #21]
2262:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->blk_ofs = dp->dptr;	/* Start offset of LFN */
 3996              		.loc 1 2262 23
 3997 00ca 7B68     		ldr	r3, [r7, #4]
 3998 00cc 1A69     		ldr	r2, [r3, #16]
 3999              		.loc 1 2262 19
 4000 00ce 7B68     		ldr	r3, [r7, #4]
 4001 00d0 DA62     		str	r2, [r3, #44]
 4002              	.L253:
2263:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2264:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
2265:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dp->dir[LDIR_Chksum] && cmp_lfn(fs->lfnbuf, dp->dir)) ? ord - 1 : 0x
 4003              		.loc 1 2265 10
 4004 00d2 BA7D     		ldrb	r2, [r7, #22]	@ zero_extendqisi2
 4005 00d4 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 4006 00d6 9A42     		cmp	r2, r3
 4007 00d8 15D1     		bne	.L254
 4008              		.loc 1 2265 34 discriminator 1
ARM GAS  /tmp/cc5m2BsI.s 			page 111


 4009 00da 7B68     		ldr	r3, [r7, #4]
 4010 00dc DB69     		ldr	r3, [r3, #28]
 4011              		.loc 1 2265 39 discriminator 1
 4012 00de 0D33     		adds	r3, r3, #13
 4013 00e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4014              		.loc 1 2265 22 discriminator 1
 4015 00e2 3A7D     		ldrb	r2, [r7, #20]	@ zero_extendqisi2
 4016 00e4 9A42     		cmp	r2, r3
 4017 00e6 0ED1     		bne	.L254
 4018              		.loc 1 2265 66 discriminator 3
 4019 00e8 3B69     		ldr	r3, [r7, #16]
 4020 00ea DA68     		ldr	r2, [r3, #12]
 4021              		.loc 1 2265 56 discriminator 3
 4022 00ec 7B68     		ldr	r3, [r7, #4]
 4023 00ee DB69     		ldr	r3, [r3, #28]
 4024 00f0 1946     		mov	r1, r3
 4025 00f2 1046     		mov	r0, r2
 4026 00f4 FFF7FEFF 		bl	cmp_lfn
 4027 00f8 0346     		mov	r3, r0
 4028              		.loc 1 2265 53 discriminator 3
 4029 00fa 002B     		cmp	r3, #0
 4030 00fc 03D0     		beq	.L254
 4031              		.loc 1 2265 10 discriminator 5
 4032 00fe 7B7D     		ldrb	r3, [r7, #21]
 4033 0100 013B     		subs	r3, r3, #1
 4034 0102 DBB2     		uxtb	r3, r3
 4035 0104 00E0     		b	.L255
 4036              	.L254:
 4037              		.loc 1 2265 10 is_stmt 0 discriminator 6
 4038 0106 FF23     		movs	r3, #255
 4039              	.L255:
 4040              		.loc 1 2265 10 discriminator 8
 4041 0108 7B75     		strb	r3, [r7, #21]
 4042 010a 24E0     		b	.L251
 4043              	.L252:
2266:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2267:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
2268:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dp->dir)) break;	/* LFN matched? */
 4044              		.loc 1 2268 8 is_stmt 1
 4045 010c 7B7D     		ldrb	r3, [r7, #21]	@ zero_extendqisi2
 4046 010e 002B     		cmp	r3, #0
 4047 0110 09D1     		bne	.L256
 4048              		.loc 1 2268 34 discriminator 1
 4049 0112 7B68     		ldr	r3, [r7, #4]
 4050 0114 DB69     		ldr	r3, [r3, #28]
 4051              		.loc 1 2268 24 discriminator 1
 4052 0116 1846     		mov	r0, r3
 4053 0118 FFF7FEFF 		bl	sum_sfn
 4054 011c 0346     		mov	r3, r0
 4055 011e 1A46     		mov	r2, r3
 4056              		.loc 1 2268 14 discriminator 1
 4057 0120 3B7D     		ldrb	r3, [r7, #20]	@ zero_extendqisi2
 4058 0122 9342     		cmp	r3, r2
 4059 0124 24D0     		beq	.L260
 4060              	.L256:
2269:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
 4061              		.loc 1 2269 17
ARM GAS  /tmp/cc5m2BsI.s 			page 112


 4062 0126 7B68     		ldr	r3, [r7, #4]
 4063 0128 93F82B30 		ldrb	r3, [r3, #43]	@ zero_extendqisi2
 4064              		.loc 1 2269 26
 4065 012c 03F00103 		and	r3, r3, #1
 4066              		.loc 1 2269 8
 4067 0130 002B     		cmp	r3, #0
 4068 0132 0AD1     		bne	.L257
 4069              		.loc 1 2269 51 discriminator 1
 4070 0134 7B68     		ldr	r3, [r7, #4]
 4071 0136 D869     		ldr	r0, [r3, #28]
 4072              		.loc 1 2269 60 discriminator 1
 4073 0138 7B68     		ldr	r3, [r7, #4]
 4074 013a 2033     		adds	r3, r3, #32
 4075              		.loc 1 2269 41 discriminator 1
 4076 013c 0B22     		movs	r2, #11
 4077 013e 1946     		mov	r1, r3
 4078 0140 FFF7FEFF 		bl	mem_cmp
 4079 0144 0346     		mov	r3, r0
 4080              		.loc 1 2269 37 discriminator 1
 4081 0146 002B     		cmp	r3, #0
 4082 0148 14D0     		beq	.L261
 4083              	.L257:
2270:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 4084              		.loc 1 2270 9
 4085 014a FF23     		movs	r3, #255
 4086 014c 7B75     		strb	r3, [r7, #21]
 4087              		.loc 1 2270 29
 4088 014e 7B68     		ldr	r3, [r7, #4]
 4089 0150 4FF0FF32 		mov	r2, #-1
 4090 0154 DA62     		str	r2, [r3, #44]
 4091              	.L251:
2271:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2272:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2273:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
2274:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->obj.attr = dp->dir[DIR_Attr] & AM_MASK;
2275:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dp->dir[DIR_Attr] & AM_VOL) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* Is it a valid entry
2276:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2277:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);	/* Next entry */
 4092              		.loc 1 2277 9
 4093 0156 0021     		movs	r1, #0
 4094 0158 7868     		ldr	r0, [r7, #4]
 4095 015a FFF7FEFF 		bl	dir_next
 4096 015e 0346     		mov	r3, r0
 4097 0160 FB75     		strb	r3, [r7, #23]
2278:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4098              		.loc 1 2278 2
 4099 0162 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4100 0164 002B     		cmp	r3, #0
 4101 0166 3FF465AF 		beq	.L258
 4102 016a 04E0     		b	.L247
 4103              	.L259:
2249:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dp->dir[DIR_Name];
 4104              		.loc 1 2249 3
 4105 016c 00BF     		nop
 4106 016e 02E0     		b	.L247
 4107              	.L260:
2268:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dp->dir, dp->fn, 11)) break;	/* SFN matched? */
ARM GAS  /tmp/cc5m2BsI.s 			page 113


 4108              		.loc 1 2268 5
 4109 0170 00BF     		nop
 4110 0172 00E0     		b	.L247
 4111              	.L261:
2269:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->blk_ofs = 0xFFFFFFFF;	/* Reset LFN sequence */
 4112              		.loc 1 2269 5
 4113 0174 00BF     		nop
 4114              	.L247:
2279:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2280:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4115              		.loc 1 2280 9
 4116 0176 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4117              	.L245:
2281:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 4118              		.loc 1 2281 1
 4119 0178 1846     		mov	r0, r3
 4120 017a 1837     		adds	r7, r7, #24
 4121              		.cfi_def_cfa_offset 8
 4122 017c BD46     		mov	sp, r7
 4123              		.cfi_def_cfa_register 13
 4124              		@ sp needed
 4125 017e 80BD     		pop	{r7, pc}
 4126              		.cfi_endproc
 4127              	.LFE348:
 4129              		.section	.text.dir_register,"ax",%progbits
 4130              		.align	1
 4131              		.syntax unified
 4132              		.thumb
 4133              		.thumb_func
 4134              		.fpu fpv5-d16
 4136              	dir_register:
 4137              	.LFB349:
2282:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2283:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2284:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2285:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2286:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2287:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2288:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
2289:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2290:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2292:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:succeeded, FR_DENIED:no free entry or too many SFN collision, FR_DI
2293:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
2294:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2295:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 4138              		.loc 1 2295 1
 4139              		.cfi_startproc
 4140              		@ args = 0, pretend = 0, frame = 48
 4141              		@ frame_needed = 1, uses_anonymous_args = 0
 4142 0000 80B5     		push	{r7, lr}
 4143              		.cfi_def_cfa_offset 8
 4144              		.cfi_offset 7, -8
 4145              		.cfi_offset 14, -4
 4146 0002 8CB0     		sub	sp, sp, #48
 4147              		.cfi_def_cfa_offset 56
 4148 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 114


 4149              		.cfi_def_cfa_register 7
 4150 0006 7860     		str	r0, [r7, #4]
2296:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2297:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4151              		.loc 1 2297 9
 4152 0008 7B68     		ldr	r3, [r7, #4]
 4153 000a 1B68     		ldr	r3, [r3]
 4154 000c FB61     		str	r3, [r7, #28]
2298:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2299:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nlen, nent;
2300:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], sum;
2301:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2302:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[NSFLAG] & (NS_DOT | NS_NONAME)) return FR_INVALID_NAME;	/* Check name validity */
 4155              		.loc 1 2303 12
 4156 000e 7B68     		ldr	r3, [r7, #4]
 4157 0010 93F82B30 		ldrb	r3, [r3, #43]	@ zero_extendqisi2
 4158              		.loc 1 2303 21
 4159 0014 03F0A003 		and	r3, r3, #160
 4160              		.loc 1 2303 5
 4161 0018 002B     		cmp	r3, #0
 4162 001a 01D0     		beq	.L263
 4163              		.loc 1 2303 52 discriminator 1
 4164 001c 0623     		movs	r3, #6
 4165 001e E0E0     		b	.L280
 4166              	.L263:
2304:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (nlen = 0; fs->lfnbuf[nlen]; nlen++) ;	/* Get lfn length */
 4167              		.loc 1 2304 12
 4168 0020 0023     		movs	r3, #0
 4169 0022 7B62     		str	r3, [r7, #36]
 4170              		.loc 1 2304 2
 4171 0024 02E0     		b	.L265
 4172              	.L266:
 4173              		.loc 1 2304 39 discriminator 3
 4174 0026 7B6A     		ldr	r3, [r7, #36]
 4175 0028 0133     		adds	r3, r3, #1
 4176 002a 7B62     		str	r3, [r7, #36]
 4177              	.L265:
 4178              		.loc 1 2304 19 discriminator 1
 4179 002c FB69     		ldr	r3, [r7, #28]
 4180 002e DA68     		ldr	r2, [r3, #12]
 4181              		.loc 1 2304 27 discriminator 1
 4182 0030 7B6A     		ldr	r3, [r7, #36]
 4183 0032 5B00     		lsls	r3, r3, #1
 4184 0034 1344     		add	r3, r3, r2
 4185 0036 1B88     		ldrh	r3, [r3]
 4186              		.loc 1 2304 2 discriminator 1
 4187 0038 002B     		cmp	r3, #0
 4188 003a F4D1     		bne	.L266
2305:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2306:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2307:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2308:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2309:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2310:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (nlen + 14) / 15 + 2;	/* Number of entries to allocate (85+C0+C1s) */
2311:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_alloc(dp, nent);		/* Allocate entries */
2312:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
ARM GAS  /tmp/cc5m2BsI.s 			page 115


2313:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->blk_ofs = dp->dptr - SZDIRE * (nent - 1);	/* Set the allocated entry block offset */
2314:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.sclust != 0 && (dp->obj.stat & 4)) {	/* Has the sub-directory been stretched? */
2316:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.objsize += (DWORD)fs->csize * SS(fs);	/* Increase the directory size by cluster size */
2317:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_first_frag(&dp->obj);				/* Fill first fragment on the FAT if needed */
2318:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2319:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = fill_last_frag(&dp->obj, dp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if neede
2320:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2321:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = load_obj_dir(&dj, &dp->obj);				/* Load the object status */
2322:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2323:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_FileSize, dp->obj.objsize);		/* Update the allocation status */
2324:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_qword(fs->dirbuf + XDIR_ValidFileSize, dp->obj.objsize);
2325:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbuf[XDIR_GenFlags] = dp->obj.stat | 1;
2326:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = store_xdir(&dj);							/* Store the object status */
2327:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) return res;
2328:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2329:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2330:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		create_xdir(fs->dirbuf, fs->lfnbuf);	/* Create on-memory directory block to be written later */
2331:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2332:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2333:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2334:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* On the FAT12/16/32 volume */
2335:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, dp->fn, 12);
 4189              		.loc 1 2335 16
 4190 003c 7B68     		ldr	r3, [r7, #4]
 4191 003e 03F12001 		add	r1, r3, #32
 4192              		.loc 1 2335 2
 4193 0042 07F10C03 		add	r3, r7, #12
 4194 0046 0C22     		movs	r2, #12
 4195 0048 1846     		mov	r0, r3
 4196 004a FFF7FEFF 		bl	mem_cpy
2336:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
 4197              		.loc 1 2336 8
 4198 004e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4199              		.loc 1 2336 17
 4200 0050 03F00103 		and	r3, r3, #1
 4201              		.loc 1 2336 5
 4202 0054 002B     		cmp	r3, #0
 4203 0056 32D0     		beq	.L267
2337:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NOLFN;		/* Find only SFN */
 4204              		.loc 1 2337 18
 4205 0058 7B68     		ldr	r3, [r7, #4]
 4206 005a 4022     		movs	r2, #64
 4207 005c 83F82B20 		strb	r2, [r3, #43]
2338:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
 4208              		.loc 1 2338 10
 4209 0060 0123     		movs	r3, #1
 4210 0062 BB62     		str	r3, [r7, #40]
 4211              		.loc 1 2338 3
 4212 0064 16E0     		b	.L268
 4213              	.L271:
2339:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 4214              		.loc 1 2339 18
 4215 0066 7B68     		ldr	r3, [r7, #4]
 4216 0068 03F12000 		add	r0, r3, #32
 4217              		.loc 1 2339 30
 4218 006c FB69     		ldr	r3, [r7, #28]
ARM GAS  /tmp/cc5m2BsI.s 			page 116


 4219 006e DA68     		ldr	r2, [r3, #12]
 4220              		.loc 1 2339 4
 4221 0070 07F10C01 		add	r1, r7, #12
 4222 0074 BB6A     		ldr	r3, [r7, #40]
 4223 0076 FFF7FEFF 		bl	gen_numname
2340:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
 4224              		.loc 1 2340 10
 4225 007a 7868     		ldr	r0, [r7, #4]
 4226 007c FFF7FEFF 		bl	dir_find
 4227 0080 0346     		mov	r3, r0
 4228 0082 87F82F30 		strb	r3, [r7, #47]
2341:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4229              		.loc 1 2341 7
 4230 0086 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 4231 008a 002B     		cmp	r3, #0
 4232 008c 06D1     		bne	.L281
2338:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 4233              		.loc 1 2338 25 discriminator 2
 4234 008e BB6A     		ldr	r3, [r7, #40]
 4235 0090 0133     		adds	r3, r3, #1
 4236 0092 BB62     		str	r3, [r7, #40]
 4237              	.L268:
2338:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(dp->fn, sn, fs->lfnbuf, n);	/* Generate a numbered name */
 4238              		.loc 1 2338 3 discriminator 1
 4239 0094 BB6A     		ldr	r3, [r7, #40]
 4240 0096 632B     		cmp	r3, #99
 4241 0098 E5D9     		bls	.L271
 4242 009a 00E0     		b	.L270
 4243              	.L281:
 4244              		.loc 1 2341 4
 4245 009c 00BF     		nop
 4246              	.L270:
2342:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2343:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
 4247              		.loc 1 2343 6
 4248 009e BB6A     		ldr	r3, [r7, #40]
 4249 00a0 642B     		cmp	r3, #100
 4250 00a2 01D1     		bne	.L272
 4251              		.loc 1 2343 24 discriminator 1
 4252 00a4 0723     		movs	r3, #7
 4253 00a6 9CE0     		b	.L280
 4254              	.L272:
2344:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
 4255              		.loc 1 2344 6
 4256 00a8 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 4257 00ac 042B     		cmp	r3, #4
 4258 00ae 02D0     		beq	.L273
 4259              		.loc 1 2344 33 discriminator 1
 4260 00b0 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 4261 00b4 95E0     		b	.L280
 4262              	.L273:
2345:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = sn[NSFLAG];
 4263              		.loc 1 2345 22
 4264 00b6 FA7D     		ldrb	r2, [r7, #23]	@ zero_extendqisi2
 4265              		.loc 1 2345 18
 4266 00b8 7B68     		ldr	r3, [r7, #4]
 4267 00ba 83F82B20 		strb	r2, [r3, #43]
ARM GAS  /tmp/cc5m2BsI.s 			page 117


 4268              	.L267:
2346:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2347:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2348:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create an SFN with/without LFNs. */
2349:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	nent = (sn[NSFLAG] & NS_LFN) ? (nlen + 12) / 13 + 1 : 1;	/* Number of entries to allocate */
 4269              		.loc 1 2349 12
 4270 00be FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4271              		.loc 1 2349 21
 4272 00c0 03F00203 		and	r3, r3, #2
 4273              		.loc 1 2349 54
 4274 00c4 002B     		cmp	r3, #0
 4275 00c6 07D0     		beq	.L274
 4276              		.loc 1 2349 39 discriminator 1
 4277 00c8 7B6A     		ldr	r3, [r7, #36]
 4278 00ca 0C33     		adds	r3, r3, #12
 4279              		.loc 1 2349 45 discriminator 1
 4280 00cc 474A     		ldr	r2, .L283
 4281 00ce A2FB0323 		umull	r2, r3, r2, r3
 4282 00d2 9B08     		lsrs	r3, r3, #2
 4283              		.loc 1 2349 54 discriminator 1
 4284 00d4 0133     		adds	r3, r3, #1
 4285 00d6 00E0     		b	.L275
 4286              	.L274:
 4287              		.loc 1 2349 54 is_stmt 0 discriminator 2
 4288 00d8 0123     		movs	r3, #1
 4289              	.L275:
 4290              		.loc 1 2349 7 is_stmt 1 discriminator 4
 4291 00da 3B62     		str	r3, [r7, #32]
2350:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
 4292              		.loc 1 2350 8 discriminator 4
 4293 00dc 396A     		ldr	r1, [r7, #32]
 4294 00de 7868     		ldr	r0, [r7, #4]
 4295 00e0 FFF7FEFF 		bl	dir_alloc
 4296 00e4 0346     		mov	r3, r0
 4297 00e6 87F82F30 		strb	r3, [r7, #47]
2351:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
 4298              		.loc 1 2351 5 discriminator 4
 4299 00ea 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 4300 00ee 002B     		cmp	r3, #0
 4301 00f0 48D1     		bne	.L276
 4302              		.loc 1 2351 19 discriminator 1
 4303 00f2 3B6A     		ldr	r3, [r7, #32]
 4304 00f4 013B     		subs	r3, r3, #1
 4305 00f6 3B62     		str	r3, [r7, #32]
 4306 00f8 3B6A     		ldr	r3, [r7, #32]
 4307 00fa 002B     		cmp	r3, #0
 4308 00fc 42D0     		beq	.L276
2352:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->dptr - nent * SZDIRE);
 4309              		.loc 1 2352 23
 4310 00fe 7B68     		ldr	r3, [r7, #4]
 4311 0100 1A69     		ldr	r2, [r3, #16]
 4312              		.loc 1 2352 37
 4313 0102 3B6A     		ldr	r3, [r7, #32]
 4314 0104 5B01     		lsls	r3, r3, #5
 4315              		.loc 1 2352 9
 4316 0106 D31A     		subs	r3, r2, r3
 4317 0108 1946     		mov	r1, r3
ARM GAS  /tmp/cc5m2BsI.s 			page 118


 4318 010a 7868     		ldr	r0, [r7, #4]
 4319 010c FFF7FEFF 		bl	dir_sdi
 4320 0110 0346     		mov	r3, r0
 4321 0112 87F82F30 		strb	r3, [r7, #47]
2353:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4322              		.loc 1 2353 6
 4323 0116 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 4324 011a 002B     		cmp	r3, #0
 4325 011c 32D1     		bne	.L276
2354:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Checksum value of the SFN tied to the LFN */
 4326              		.loc 1 2354 20
 4327 011e 7B68     		ldr	r3, [r7, #4]
 4328 0120 2033     		adds	r3, r3, #32
 4329              		.loc 1 2354 10
 4330 0122 1846     		mov	r0, r3
 4331 0124 FFF7FEFF 		bl	sum_sfn
 4332 0128 0346     		mov	r3, r0
 4333 012a FB76     		strb	r3, [r7, #27]
 4334              	.L278:
2355:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
2356:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dp->sect);
 4335              		.loc 1 2356 11
 4336 012c 7B68     		ldr	r3, [r7, #4]
 4337 012e 9B69     		ldr	r3, [r3, #24]
 4338 0130 1946     		mov	r1, r3
 4339 0132 F869     		ldr	r0, [r7, #28]
 4340 0134 FFF7FEFF 		bl	move_window
 4341 0138 0346     		mov	r3, r0
 4342 013a 87F82F30 		strb	r3, [r7, #47]
2357:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
 4343              		.loc 1 2357 8
 4344 013e 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 4345 0142 002B     		cmp	r3, #0
 4346 0144 1DD1     		bne	.L282
2358:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
 4347              		.loc 1 2358 15
 4348 0146 FB69     		ldr	r3, [r7, #28]
 4349 0148 D868     		ldr	r0, [r3, #12]
 4350              		.loc 1 2358 5
 4351 014a 7B68     		ldr	r3, [r7, #4]
 4352 014c D969     		ldr	r1, [r3, #28]
 4353 014e 3B6A     		ldr	r3, [r7, #32]
 4354 0150 DAB2     		uxtb	r2, r3
 4355 0152 FB7E     		ldrb	r3, [r7, #27]	@ zero_extendqisi2
 4356 0154 FFF7FEFF 		bl	put_lfn
2359:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
 4357              		.loc 1 2359 15
 4358 0158 FB69     		ldr	r3, [r7, #28]
 4359 015a 0122     		movs	r2, #1
 4360 015c DA70     		strb	r2, [r3, #3]
2360:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
 4361              		.loc 1 2360 11
 4362 015e 0021     		movs	r1, #0
 4363 0160 7868     		ldr	r0, [r7, #4]
 4364 0162 FFF7FEFF 		bl	dir_next
 4365 0166 0346     		mov	r3, r0
 4366 0168 87F82F30 		strb	r3, [r7, #47]
ARM GAS  /tmp/cc5m2BsI.s 			page 119


2361:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
 4367              		.loc 1 2361 4
 4368 016c 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 4369 0170 002B     		cmp	r3, #0
 4370 0172 07D1     		bne	.L276
 4371              		.loc 1 2361 26 discriminator 1
 4372 0174 3B6A     		ldr	r3, [r7, #32]
 4373 0176 013B     		subs	r3, r3, #1
 4374 0178 3B62     		str	r3, [r7, #32]
 4375 017a 3B6A     		ldr	r3, [r7, #32]
 4376 017c 002B     		cmp	r3, #0
 4377 017e D5D1     		bne	.L278
 4378 0180 00E0     		b	.L276
 4379              	.L282:
2357:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				put_lfn(fs->lfnbuf, dp->dir, (BYTE)nent, sum);
 4380              		.loc 1 2357 5
 4381 0182 00BF     		nop
 4382              	.L276:
2362:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2363:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2364:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2365:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
2366:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
2367:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2368:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2369:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2370:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set SFN entry */
2371:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4383              		.loc 1 2371 5
 4384 0184 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 4385 0188 002B     		cmp	r3, #0
 4386 018a 28D1     		bne	.L279
2372:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, dp->sect);
 4387              		.loc 1 2372 9
 4388 018c 7B68     		ldr	r3, [r7, #4]
 4389 018e 9B69     		ldr	r3, [r3, #24]
 4390 0190 1946     		mov	r1, r3
 4391 0192 F869     		ldr	r0, [r7, #28]
 4392 0194 FFF7FEFF 		bl	move_window
 4393 0198 0346     		mov	r3, r0
 4394 019a 87F82F30 		strb	r3, [r7, #47]
2373:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4395              		.loc 1 2373 6
 4396 019e 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 4397 01a2 002B     		cmp	r3, #0
 4398 01a4 1BD1     		bne	.L279
2374:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZDIRE);	/* Clean the entry */
 4399              		.loc 1 2374 14
 4400 01a6 7B68     		ldr	r3, [r7, #4]
 4401 01a8 DB69     		ldr	r3, [r3, #28]
 4402              		.loc 1 2374 4
 4403 01aa 2022     		movs	r2, #32
 4404 01ac 0021     		movs	r1, #0
 4405 01ae 1846     		mov	r0, r3
 4406 01b0 FFF7FEFF 		bl	mem_set
2375:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir + DIR_Name, dp->fn, 11);	/* Put SFN */
 4407              		.loc 1 2375 20
ARM GAS  /tmp/cc5m2BsI.s 			page 120


 4408 01b4 7B68     		ldr	r3, [r7, #4]
 4409 01b6 D869     		ldr	r0, [r3, #28]
 4410              		.loc 1 2375 34
 4411 01b8 7B68     		ldr	r3, [r7, #4]
 4412 01ba 2033     		adds	r3, r3, #32
 4413              		.loc 1 2375 4
 4414 01bc 0B22     		movs	r2, #11
 4415 01be 1946     		mov	r1, r3
 4416 01c0 FFF7FEFF 		bl	mem_cpy
2376:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2377:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
 4417              		.loc 1 2377 31
 4418 01c4 7B68     		ldr	r3, [r7, #4]
 4419 01c6 93F82B20 		ldrb	r2, [r3, #43]	@ zero_extendqisi2
 4420              		.loc 1 2377 6
 4421 01ca 7B68     		ldr	r3, [r7, #4]
 4422 01cc DB69     		ldr	r3, [r3, #28]
 4423              		.loc 1 2377 11
 4424 01ce 0C33     		adds	r3, r3, #12
 4425              		.loc 1 2377 40
 4426 01d0 02F01802 		and	r2, r2, #24
 4427 01d4 D2B2     		uxtb	r2, r2
 4428              		.loc 1 2377 23
 4429 01d6 1A70     		strb	r2, [r3]
2378:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2379:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 4430              		.loc 1 2379 14
 4431 01d8 FB69     		ldr	r3, [r7, #28]
 4432 01da 0122     		movs	r2, #1
 4433 01dc DA70     		strb	r2, [r3, #3]
 4434              	.L279:
2380:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2381:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2382:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2383:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4435              		.loc 1 2383 9
 4436 01de 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 4437              	.L280:
2384:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 4438              		.loc 1 2384 1 discriminator 1
 4439 01e2 1846     		mov	r0, r3
 4440 01e4 3037     		adds	r7, r7, #48
 4441              		.cfi_def_cfa_offset 8
 4442 01e6 BD46     		mov	sp, r7
 4443              		.cfi_def_cfa_register 13
 4444              		@ sp needed
 4445 01e8 80BD     		pop	{r7, pc}
 4446              	.L284:
 4447 01ea 00BF     		.align	2
 4448              	.L283:
 4449 01ec 4FECC44E 		.word	1321528399
 4450              		.cfi_endproc
 4451              	.LFE349:
 4453              		.section	.text.dir_remove,"ax",%progbits
 4454              		.align	1
 4455              		.syntax unified
 4456              		.thumb
ARM GAS  /tmp/cc5m2BsI.s 			page 121


 4457              		.thumb_func
 4458              		.fpu fpv5-d16
 4460              	dir_remove:
 4461              	.LFB350:
2385:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2386:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2387:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2388:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2389:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2390:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE == 0
2391:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2392:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
2393:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2394:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2395:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2396:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK:Succeeded, FR_DISK_ERR:A disk error */
2397:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
2398:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2399:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 4462              		.loc 1 2399 1
 4463              		.cfi_startproc
 4464              		@ args = 0, pretend = 0, frame = 24
 4465              		@ frame_needed = 1, uses_anonymous_args = 0
 4466 0000 80B5     		push	{r7, lr}
 4467              		.cfi_def_cfa_offset 8
 4468              		.cfi_offset 7, -8
 4469              		.cfi_offset 14, -4
 4470 0002 86B0     		sub	sp, sp, #24
 4471              		.cfi_def_cfa_offset 32
 4472 0004 00AF     		add	r7, sp, #0
 4473              		.cfi_def_cfa_register 7
 4474 0006 7860     		str	r0, [r7, #4]
2400:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2401:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4475              		.loc 1 2401 9
 4476 0008 7B68     		ldr	r3, [r7, #4]
 4477 000a 1B68     		ldr	r3, [r3]
 4478 000c 3B61     		str	r3, [r7, #16]
2402:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2403:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD last = dp->dptr;
 4479              		.loc 1 2403 8
 4480 000e 7B68     		ldr	r3, [r7, #4]
 4481 0010 1B69     		ldr	r3, [r3, #16]
 4482 0012 FB60     		str	r3, [r7, #12]
2404:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2405:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = (dp->blk_ofs == 0xFFFFFFFF) ? FR_OK : dir_sdi(dp, dp->blk_ofs);	/* Goto top of the entry blo
 4483              		.loc 1 2405 11
 4484 0014 7B68     		ldr	r3, [r7, #4]
 4485 0016 DB6A     		ldr	r3, [r3, #44]
 4486              		.loc 1 2405 44
 4487 0018 B3F1FF3F 		cmp	r3, #-1
 4488 001c 07D0     		beq	.L286
 4489              		.loc 1 2405 46 discriminator 1
 4490 001e 7B68     		ldr	r3, [r7, #4]
 4491 0020 DB6A     		ldr	r3, [r3, #44]
 4492 0022 1946     		mov	r1, r3
 4493 0024 7868     		ldr	r0, [r7, #4]
ARM GAS  /tmp/cc5m2BsI.s 			page 122


 4494 0026 FFF7FEFF 		bl	dir_sdi
 4495 002a 0346     		mov	r3, r0
 4496 002c 00E0     		b	.L287
 4497              	.L286:
 4498              		.loc 1 2405 44 discriminator 2
 4499 002e 0023     		movs	r3, #0
 4500              	.L287:
 4501              		.loc 1 2405 6 discriminator 4
 4502 0030 FB75     		strb	r3, [r7, #23]
2406:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4503              		.loc 1 2406 5 discriminator 4
 4504 0032 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4505 0034 002B     		cmp	r3, #0
 4506 0036 28D1     		bne	.L288
 4507              	.L292:
2407:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
2408:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, dp->sect);
 4508              		.loc 1 2408 10
 4509 0038 7B68     		ldr	r3, [r7, #4]
 4510 003a 9B69     		ldr	r3, [r3, #24]
 4511 003c 1946     		mov	r1, r3
 4512 003e 3869     		ldr	r0, [r7, #16]
 4513 0040 FFF7FEFF 		bl	move_window
 4514 0044 0346     		mov	r3, r0
 4515 0046 FB75     		strb	r3, [r7, #23]
2409:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4516              		.loc 1 2409 7
 4517 0048 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4518 004a 002B     		cmp	r3, #0
 4519 004c 15D1     		bne	.L294
2410:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
2411:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2412:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[XDIR_Type] &= 0x7F;
2413:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* On the FAT12/16/32 volume */
2414:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->dir[DIR_Name] = DDEM;
 4520              		.loc 1 2414 7
 4521 004e 7B68     		ldr	r3, [r7, #4]
 4522 0050 DB69     		ldr	r3, [r3, #28]
 4523              		.loc 1 2414 23
 4524 0052 E522     		movs	r2, #229
 4525 0054 1A70     		strb	r2, [r3]
2415:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2416:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 4526              		.loc 1 2416 14
 4527 0056 3B69     		ldr	r3, [r7, #16]
 4528 0058 0122     		movs	r2, #1
 4529 005a DA70     		strb	r2, [r3, #3]
2417:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dptr >= last) break;	/* If reached last entry then all entries of the object has been de
 4530              		.loc 1 2417 10
 4531 005c 7B68     		ldr	r3, [r7, #4]
 4532 005e 1B69     		ldr	r3, [r3, #16]
 4533              		.loc 1 2417 7
 4534 0060 FA68     		ldr	r2, [r7, #12]
 4535 0062 9A42     		cmp	r2, r3
 4536 0064 0BD9     		bls	.L295
2418:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
 4537              		.loc 1 2418 10
ARM GAS  /tmp/cc5m2BsI.s 			page 123


 4538 0066 0021     		movs	r1, #0
 4539 0068 7868     		ldr	r0, [r7, #4]
 4540 006a FFF7FEFF 		bl	dir_next
 4541 006e 0346     		mov	r3, r0
 4542 0070 FB75     		strb	r3, [r7, #23]
2419:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4543              		.loc 1 2419 3
 4544 0072 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4545 0074 002B     		cmp	r3, #0
 4546 0076 DFD0     		beq	.L292
 4547 0078 02E0     		b	.L290
 4548              	.L294:
2409:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Mark an entry 'deleted' */
 4549              		.loc 1 2409 4
 4550 007a 00BF     		nop
 4551 007c 00E0     		b	.L290
 4552              	.L295:
2417:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);	/* Next entry */
 4553              		.loc 1 2417 4
 4554 007e 00BF     		nop
 4555              	.L290:
2420:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
 4556              		.loc 1 2420 6
 4557 0080 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4558 0082 042B     		cmp	r3, #4
 4559 0084 01D1     		bne	.L288
 4560              		.loc 1 2420 30 discriminator 1
 4561 0086 0223     		movs	r3, #2
 4562 0088 FB75     		strb	r3, [r7, #23]
 4563              	.L288:
2421:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2422:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
2423:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2424:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = move_window(fs, dp->sect);
2425:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2426:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir[DIR_Name] = DDEM;
2427:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
2428:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2429:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2431:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4564              		.loc 1 2431 9
 4565 008a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
2432:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 4566              		.loc 1 2432 1
 4567 008c 1846     		mov	r0, r3
 4568 008e 1837     		adds	r7, r7, #24
 4569              		.cfi_def_cfa_offset 8
 4570 0090 BD46     		mov	sp, r7
 4571              		.cfi_def_cfa_register 13
 4572              		@ sp needed
 4573 0092 80BD     		pop	{r7, pc}
 4574              		.cfi_endproc
 4575              	.LFE350:
 4577              		.section	.text.get_fileinfo,"ax",%progbits
 4578              		.align	1
 4579              		.syntax unified
ARM GAS  /tmp/cc5m2BsI.s 			page 124


 4580              		.thumb
 4581              		.thumb_func
 4582              		.fpu fpv5-d16
 4584              	get_fileinfo:
 4585              	.LFB351:
2433:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY && _FS_MINIMIZE == 0 */
2435:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2436:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
2439:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2440:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
2441:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2442:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2443:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2444:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
2445:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2446:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
2447:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 4586              		.loc 1 2448 1
 4587              		.cfi_startproc
 4588              		@ args = 0, pretend = 0, frame = 32
 4589              		@ frame_needed = 1, uses_anonymous_args = 0
 4590 0000 80B5     		push	{r7, lr}
 4591              		.cfi_def_cfa_offset 8
 4592              		.cfi_offset 7, -8
 4593              		.cfi_offset 14, -4
 4594 0002 88B0     		sub	sp, sp, #32
 4595              		.cfi_def_cfa_offset 40
 4596 0004 00AF     		add	r7, sp, #0
 4597              		.cfi_def_cfa_register 7
 4598 0006 7860     		str	r0, [r7, #4]
 4599 0008 3960     		str	r1, [r7]
2449:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
2450:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c;
2451:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
2452:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
2453:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, lfv;
2454:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = dp->obj.fs;
 4600              		.loc 1 2454 9
 4601 000a 7B68     		ldr	r3, [r7, #4]
 4602 000c 1B68     		ldr	r3, [r3]
 4603 000e 3B61     		str	r3, [r7, #16]
2455:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2456:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2458:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[0] = 0;		/* Invaidate file info */
 4604              		.loc 1 2458 16
 4605 0010 3B68     		ldr	r3, [r7]
 4606 0012 0022     		movs	r2, #0
 4607 0014 9A75     		strb	r2, [r3, #22]
2459:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp->sect) return;	/* Exit if read pointer has reached end of directory */
 4608              		.loc 1 2459 9
 4609 0016 7B68     		ldr	r3, [r7, #4]
 4610 0018 9B69     		ldr	r3, [r3, #24]
ARM GAS  /tmp/cc5m2BsI.s 			page 125


 4611              		.loc 1 2459 5
 4612 001a 002B     		cmp	r3, #0
 4613 001c 00F0C980 		beq	.L316
2460:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2462:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2463:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
2464:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		get_xdir_info(fs->dirbuf, fno);
2465:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		return;
2466:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2467:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2468:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
2469:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->blk_ofs != 0xFFFFFFFF) {	/* Get LFN if available */
 4614              		.loc 1 2469 9
 4615 0020 7B68     		ldr	r3, [r7, #4]
 4616 0022 DB6A     		ldr	r3, [r3, #44]
 4617              		.loc 1 2469 6
 4618 0024 B3F1FF3F 		cmp	r3, #-1
 4619 0028 32D0     		beq	.L299
2470:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			i = j = 0;
 4620              		.loc 1 2470 10
 4621 002a 0023     		movs	r3, #0
 4622 002c BB61     		str	r3, [r7, #24]
 4623              		.loc 1 2470 6
 4624 002e BB69     		ldr	r3, [r7, #24]
 4625 0030 FB61     		str	r3, [r7, #28]
2471:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = fs->lfnbuf[j++]) != 0) {	/* Get an LFN character */
 4626              		.loc 1 2471 10
 4627 0032 1BE0     		b	.L300
 4628              	.L304:
2472:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2473:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
 4629              		.loc 1 2473 9
 4630 0034 FB89     		ldrh	r3, [r7, #14]
 4631 0036 0021     		movs	r1, #0
 4632 0038 1846     		mov	r0, r3
 4633 003a FFF7FEFF 		bl	ff_convert
 4634 003e 0346     		mov	r3, r0
 4635 0040 FB81     		strh	r3, [r7, #14]	@ movhi
2474:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0) { i = 0; break; }	/* No LFN if it could not be converted */
 4636              		.loc 1 2474 8
 4637 0042 FB89     		ldrh	r3, [r7, #14]
 4638 0044 002B     		cmp	r3, #0
 4639 0046 02D1     		bne	.L301
 4640              		.loc 1 2474 21 discriminator 1
 4641 0048 0023     		movs	r3, #0
 4642 004a FB61     		str	r3, [r7, #28]
 4643              		.loc 1 2474 5 discriminator 1
 4644 004c 1AE0     		b	.L302
 4645              	.L301:
2475:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100) {	/* Put 1st byte if it is a DBC (always false at SBCS cfg) */
2476:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fno->fname[i++] = (char)(w >> 8);
2477:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2478:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2479:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= _MAX_LFN) { i = 0; break; }	/* No LFN if buffer overflow */
 4646              		.loc 1 2479 8
 4647 004e FB69     		ldr	r3, [r7, #28]
ARM GAS  /tmp/cc5m2BsI.s 			page 126


 4648 0050 FE2B     		cmp	r3, #254
 4649 0052 02D9     		bls	.L303
 4650              		.loc 1 2479 28 discriminator 1
 4651 0054 0023     		movs	r3, #0
 4652 0056 FB61     		str	r3, [r7, #28]
 4653              		.loc 1 2479 5 discriminator 1
 4654 0058 14E0     		b	.L302
 4655              	.L303:
2480:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fno->fname[i++] = (TCHAR)w;
 4656              		.loc 1 2480 17
 4657 005a FB69     		ldr	r3, [r7, #28]
 4658 005c 5A1C     		adds	r2, r3, #1
 4659 005e FA61     		str	r2, [r7, #28]
 4660              		.loc 1 2480 23
 4661 0060 FA89     		ldrh	r2, [r7, #14]	@ movhi
 4662 0062 D1B2     		uxtb	r1, r2
 4663              		.loc 1 2480 21
 4664 0064 3A68     		ldr	r2, [r7]
 4665 0066 1344     		add	r3, r3, r2
 4666 0068 0A46     		mov	r2, r1
 4667 006a 9A75     		strb	r2, [r3, #22]
 4668              	.L300:
2471:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 4669              		.loc 1 2471 18
 4670 006c 3B69     		ldr	r3, [r7, #16]
 4671 006e DA68     		ldr	r2, [r3, #12]
2471:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 4672              		.loc 1 2471 28
 4673 0070 BB69     		ldr	r3, [r7, #24]
 4674 0072 591C     		adds	r1, r3, #1
 4675 0074 B961     		str	r1, [r7, #24]
2471:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 4676              		.loc 1 2471 26
 4677 0076 5B00     		lsls	r3, r3, #1
 4678 0078 1344     		add	r3, r3, r2
2471:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 4679              		.loc 1 2471 14
 4680 007a 1B88     		ldrh	r3, [r3]	@ movhi
 4681 007c FB81     		strh	r3, [r7, #14]	@ movhi
2471:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
 4682              		.loc 1 2471 10
 4683 007e FB89     		ldrh	r3, [r7, #14]
 4684 0080 002B     		cmp	r3, #0
 4685 0082 D7D1     		bne	.L304
 4686              	.L302:
2481:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2482:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[i] = 0;	/* Terminate the LFN */
 4687              		.loc 1 2482 18
 4688 0084 3A68     		ldr	r2, [r7]
 4689 0086 FB69     		ldr	r3, [r7, #28]
 4690 0088 1344     		add	r3, r3, r2
 4691 008a 1633     		adds	r3, r3, #22
 4692 008c 0022     		movs	r2, #0
 4693 008e 1A70     		strb	r2, [r3]
 4694              	.L299:
2483:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2484:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cc5m2BsI.s 			page 127


2485:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
 4695              		.loc 1 2486 8
 4696 0090 0023     		movs	r3, #0
 4697 0092 BB61     		str	r3, [r7, #24]
 4698              		.loc 1 2486 4
 4699 0094 BB69     		ldr	r3, [r7, #24]
 4700 0096 FB61     		str	r3, [r7, #28]
2487:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	lfv = fno->fname[i];	/* LFN is exist if non-zero */
 4701              		.loc 1 2487 18
 4702 0098 3A68     		ldr	r2, [r7]
 4703 009a FB69     		ldr	r3, [r7, #28]
 4704 009c 1344     		add	r3, r3, r2
 4705 009e 1633     		adds	r3, r3, #22
 4706 00a0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4707              		.loc 1 2487 6
 4708 00a2 BB81     		strh	r3, [r7, #12]	@ movhi
2488:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
 4709              		.loc 1 2488 8
 4710 00a4 4CE0     		b	.L305
 4711              	.L314:
2489:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 4712              		.loc 1 2489 16
 4713 00a6 7B68     		ldr	r3, [r7, #4]
 4714 00a8 DA69     		ldr	r2, [r3, #28]
 4715              		.loc 1 2489 23
 4716 00aa FB69     		ldr	r3, [r7, #28]
 4717 00ac 591C     		adds	r1, r3, #1
 4718 00ae F961     		str	r1, [r7, #28]
 4719              		.loc 1 2489 21
 4720 00b0 1344     		add	r3, r3, r2
 4721              		.loc 1 2489 5
 4722 00b2 1B78     		ldrb	r3, [r3]
 4723 00b4 FB75     		strb	r3, [r7, #23]
2490:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
 4724              		.loc 1 2490 6
 4725 00b6 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4726 00b8 202B     		cmp	r3, #32
 4727 00ba 00D1     		bne	.L306
 4728              		.loc 1 2490 3 discriminator 1
 4729 00bc 40E0     		b	.L305
 4730              	.L306:
2491:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 4731              		.loc 1 2491 6
 4732 00be FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4733 00c0 052B     		cmp	r3, #5
 4734 00c2 01D1     		bne	.L307
 4735              		.loc 1 2491 21 discriminator 1
 4736 00c4 E523     		movs	r3, #229
 4737 00c6 FB75     		strb	r3, [r7, #23]
 4738              	.L307:
2492:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) {						/* Insert a . if extension is exist */
 4739              		.loc 1 2492 6
 4740 00c8 FB69     		ldr	r3, [r7, #28]
 4741 00ca 092B     		cmp	r3, #9
 4742 00cc 0FD1     		bne	.L308
2493:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!lfv) fno->fname[j] = '.';
ARM GAS  /tmp/cc5m2BsI.s 			page 128


 4743              		.loc 1 2493 7
 4744 00ce BB89     		ldrh	r3, [r7, #12]
 4745 00d0 002B     		cmp	r3, #0
 4746 00d2 05D1     		bne	.L309
 4747              		.loc 1 2493 28 discriminator 1
 4748 00d4 3A68     		ldr	r2, [r7]
 4749 00d6 BB69     		ldr	r3, [r7, #24]
 4750 00d8 1344     		add	r3, r3, r2
 4751 00da 1633     		adds	r3, r3, #22
 4752 00dc 2E22     		movs	r2, #46
 4753 00de 1A70     		strb	r2, [r3]
 4754              	.L309:
2494:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->altname[j++] = '.';
 4755              		.loc 1 2494 18
 4756 00e0 BB69     		ldr	r3, [r7, #24]
 4757 00e2 5A1C     		adds	r2, r3, #1
 4758 00e4 BA61     		str	r2, [r7, #24]
 4759              		.loc 1 2494 22
 4760 00e6 3A68     		ldr	r2, [r7]
 4761 00e8 1344     		add	r3, r3, r2
 4762 00ea 2E22     		movs	r2, #46
 4763 00ec 5A72     		strb	r2, [r3, #9]
 4764              	.L308:
2495:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2496:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
2497:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dp->dir[i])) {
2498:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			c = c << 8 | dp->dir[i++];
2499:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2500:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
2501:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
2502:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2503:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->altname[j] = c;
 4765              		.loc 1 2503 19
 4766 00ee 3A68     		ldr	r2, [r7]
 4767 00f0 BB69     		ldr	r3, [r7, #24]
 4768 00f2 1344     		add	r3, r3, r2
 4769 00f4 0933     		adds	r3, r3, #9
 4770 00f6 FA7D     		ldrb	r2, [r7, #23]
 4771 00f8 1A70     		strb	r2, [r3]
2504:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!lfv) {
 4772              		.loc 1 2504 6
 4773 00fa BB89     		ldrh	r3, [r7, #12]
 4774 00fc 002B     		cmp	r3, #0
 4775 00fe 1CD1     		bne	.L310
2505:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dp->dir[DIR_NTres] & ((i >= 9) ? NS_EXT : NS_BODY))) {
 4776              		.loc 1 2505 7
 4777 0100 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4778 0102 402B     		cmp	r3, #64
 4779 0104 13D9     		bls	.L311
 4780              		.loc 1 2505 8 discriminator 1
 4781 0106 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 4782 0108 5A2B     		cmp	r3, #90
 4783 010a 10D8     		bhi	.L311
 4784              		.loc 1 2505 25 discriminator 2
 4785 010c 7B68     		ldr	r3, [r7, #4]
 4786 010e DB69     		ldr	r3, [r3, #28]
 4787              		.loc 1 2505 30 discriminator 2
ARM GAS  /tmp/cc5m2BsI.s 			page 129


 4788 0110 0C33     		adds	r3, r3, #12
 4789 0112 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4790 0114 1A46     		mov	r2, r3
 4791              		.loc 1 2505 63 discriminator 2
 4792 0116 FB69     		ldr	r3, [r7, #28]
 4793 0118 082B     		cmp	r3, #8
 4794 011a 01D9     		bls	.L312
 4795              		.loc 1 2505 63 is_stmt 0 discriminator 3
 4796 011c 1023     		movs	r3, #16
 4797 011e 00E0     		b	.L313
 4798              	.L312:
 4799              		.loc 1 2505 63 discriminator 4
 4800 0120 0823     		movs	r3, #8
 4801              	.L313:
 4802              		.loc 1 2505 42 is_stmt 1 discriminator 6
 4803 0122 1340     		ands	r3, r3, r2
 4804              		.loc 1 2505 19 discriminator 6
 4805 0124 002B     		cmp	r3, #0
 4806 0126 02D0     		beq	.L311
2506:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
 4807              		.loc 1 2506 7
 4808 0128 FB7D     		ldrb	r3, [r7, #23]
 4809 012a 2033     		adds	r3, r3, #32
 4810 012c FB75     		strb	r3, [r7, #23]
 4811              	.L311:
2507:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2508:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fno->fname[j] = c;
 4812              		.loc 1 2508 18
 4813 012e 3A68     		ldr	r2, [r7]
 4814 0130 BB69     		ldr	r3, [r7, #24]
 4815 0132 1344     		add	r3, r3, r2
 4816 0134 1633     		adds	r3, r3, #22
 4817 0136 FA7D     		ldrb	r2, [r7, #23]
 4818 0138 1A70     		strb	r2, [r3]
 4819              	.L310:
2509:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2510:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		j++;
 4820              		.loc 1 2510 4
 4821 013a BB69     		ldr	r3, [r7, #24]
 4822 013c 0133     		adds	r3, r3, #1
 4823 013e BB61     		str	r3, [r7, #24]
 4824              	.L305:
2488:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
 4825              		.loc 1 2488 8
 4826 0140 FB69     		ldr	r3, [r7, #28]
 4827 0142 0A2B     		cmp	r3, #10
 4828 0144 AFD9     		bls	.L314
2511:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2512:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!lfv) {
 4829              		.loc 1 2512 5
 4830 0146 BB89     		ldrh	r3, [r7, #12]
 4831 0148 002B     		cmp	r3, #0
 4832 014a 0DD1     		bne	.L315
2513:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j] = 0;
 4833              		.loc 1 2513 17
 4834 014c 3A68     		ldr	r2, [r7]
 4835 014e BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/cc5m2BsI.s 			page 130


 4836 0150 1344     		add	r3, r3, r2
 4837 0152 1633     		adds	r3, r3, #22
 4838 0154 0022     		movs	r2, #0
 4839 0156 1A70     		strb	r2, [r3]
2514:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->dir[DIR_NTres]) j = 0;	/* Altname is no longer needed if neither LFN nor case info is ex
 4840              		.loc 1 2514 10
 4841 0158 7B68     		ldr	r3, [r7, #4]
 4842 015a DB69     		ldr	r3, [r3, #28]
 4843              		.loc 1 2514 15
 4844 015c 0C33     		adds	r3, r3, #12
 4845 015e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4846              		.loc 1 2514 6
 4847 0160 002B     		cmp	r3, #0
 4848 0162 01D1     		bne	.L315
 4849              		.loc 1 2514 30 discriminator 1
 4850 0164 0023     		movs	r3, #0
 4851 0166 BB61     		str	r3, [r7, #24]
 4852              	.L315:
2515:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2516:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->altname[j] = 0;	/* Terminate the SFN */
 4853              		.loc 1 2516 18
 4854 0168 3A68     		ldr	r2, [r7]
 4855 016a BB69     		ldr	r3, [r7, #24]
 4856 016c 1344     		add	r3, r3, r2
 4857 016e 0933     		adds	r3, r3, #9
 4858 0170 0022     		movs	r2, #0
 4859 0172 1A70     		strb	r2, [r3]
2517:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2519:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	i = j = 0;
2520:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while (i < 11) {		/* Copy name body and extension */
2521:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (TCHAR)dp->dir[i++];
2522:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == ' ') continue;				/* Skip padding spaces */
2523:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
2524:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 9) fno->fname[j++] = '.';	/* Insert a . if extension is exist */
2525:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fname[j++] = c;
2526:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2527:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fname[j] = 0;
2528:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2529:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2530:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fattrib = dp->dir[DIR_Attr];				/* Attribute */
 4860              		.loc 1 2530 19
 4861 0174 7B68     		ldr	r3, [r7, #4]
 4862 0176 DB69     		ldr	r3, [r3, #28]
 4863              		.loc 1 2530 15
 4864 0178 DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
 4865 017a 3B68     		ldr	r3, [r7]
 4866 017c 1A72     		strb	r2, [r3, #8]
2531:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->fsize = ld_dword(dp->dir + DIR_FileSize);	/* Size */
 4867              		.loc 1 2531 26
 4868 017e 7B68     		ldr	r3, [r7, #4]
 4869 0180 DB69     		ldr	r3, [r3, #28]
 4870              		.loc 1 2531 32
 4871 0182 1C33     		adds	r3, r3, #28
 4872              		.loc 1 2531 15
 4873 0184 1846     		mov	r0, r3
 4874 0186 FFF7FEFF 		bl	ld_dword
ARM GAS  /tmp/cc5m2BsI.s 			page 131


 4875 018a 0246     		mov	r2, r0
 4876              		.loc 1 2531 13
 4877 018c 3B68     		ldr	r3, [r7]
 4878 018e 1A60     		str	r2, [r3]
2532:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	tm = ld_dword(dp->dir + DIR_ModTime);			/* Timestamp */
 4879              		.loc 1 2532 18
 4880 0190 7B68     		ldr	r3, [r7, #4]
 4881 0192 DB69     		ldr	r3, [r3, #28]
 4882              		.loc 1 2532 24
 4883 0194 1633     		adds	r3, r3, #22
 4884              		.loc 1 2532 7
 4885 0196 1846     		mov	r0, r3
 4886 0198 FFF7FEFF 		bl	ld_dword
 4887 019c B860     		str	r0, [r7, #8]
2533:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fno->ftime = (WORD)tm; fno->fdate = (WORD)(tm >> 16);
 4888              		.loc 1 2533 15
 4889 019e BB68     		ldr	r3, [r7, #8]
 4890 01a0 9AB2     		uxth	r2, r3
 4891              		.loc 1 2533 13
 4892 01a2 3B68     		ldr	r3, [r7]
 4893 01a4 DA80     		strh	r2, [r3, #6]	@ movhi
 4894              		.loc 1 2533 48
 4895 01a6 BB68     		ldr	r3, [r7, #8]
 4896 01a8 1B0C     		lsrs	r3, r3, #16
 4897              		.loc 1 2533 38
 4898 01aa 9AB2     		uxth	r2, r3
 4899              		.loc 1 2533 36
 4900 01ac 3B68     		ldr	r3, [r7]
 4901 01ae 9A80     		strh	r2, [r3, #4]	@ movhi
 4902 01b0 00E0     		b	.L296
 4903              	.L316:
2459:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 4904              		.loc 1 2459 17
 4905 01b2 00BF     		nop
 4906              	.L296:
2534:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 4907              		.loc 1 2534 1
 4908 01b4 2037     		adds	r7, r7, #32
 4909              		.cfi_def_cfa_offset 8
 4910 01b6 BD46     		mov	sp, r7
 4911              		.cfi_def_cfa_register 13
 4912              		@ sp needed
 4913 01b8 80BD     		pop	{r7, pc}
 4914              		.cfi_endproc
 4915              	.LFE351:
 4917              		.section	.rodata
 4918              		.align	2
 4919              	.LC0:
 4920 0000 222A3A3C 		.ascii	"\"*:<>?|\177\000"
 4920      3E3F7C7F 
 4920      00
 4921 0009 000000   		.align	2
 4922              	.LC1:
 4923 000c 2B2C3B3D 		.ascii	"+,;=[]\000"
 4923      5B5D00
 4924              		.section	.text.create_name,"ax",%progbits
 4925              		.align	1
ARM GAS  /tmp/cc5m2BsI.s 			page 132


 4926              		.syntax unified
 4927              		.thumb
 4928              		.thumb_func
 4929              		.fpu fpv5-d16
 4931              	create_name:
 4932              	.LFB352:
2535:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
2537:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2538:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2539:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
2541:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2542:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
2543:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2544:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2545:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2546:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
2547:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
2548:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2549:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
2550:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2551:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
2552:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2553:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
2554:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
2555:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2556:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
2557:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
2558:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr)) {		/* Get DBC 2nd byte if needed */
2559:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
2560:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2561:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2562:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
2563:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
2564:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
2565:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2566:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
2567:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2568:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2569:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2570:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* 0:not matched, 1:matched */
2571:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
2572:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
2573:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
2574:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
2575:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2576:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
2577:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
2578:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
2579:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
2580:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2581:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2582:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
2583:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
2584:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2585:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
ARM GAS  /tmp/cc5m2BsI.s 			page 133


2586:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2587:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
2588:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
2589:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2590:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
2591:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
2592:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
2593:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
2594:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
2595:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
2596:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
2597:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
2599:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
2600:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
2601:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc == 0) return 1;	/* Branch matched? (matched at end of both strings) */
2602:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2603:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
2604:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
2605:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2606:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
2607:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
2608:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2609:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
2610:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2611:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2612:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2613:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2614:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a top segment and create the object name in directory form       */
2615:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2616:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2617:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2618:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (	/* FR_OK: successful, FR_INVALID_NAME: could not create */
2619:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
2620:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
2621:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2622:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 4933              		.loc 1 2622 1
 4934              		.cfi_startproc
 4935              		@ args = 0, pretend = 0, frame = 40
 4936              		@ frame_needed = 1, uses_anonymous_args = 0
 4937 0000 80B5     		push	{r7, lr}
 4938              		.cfi_def_cfa_offset 8
 4939              		.cfi_offset 7, -8
 4940              		.cfi_offset 14, -4
 4941 0002 8AB0     		sub	sp, sp, #40
 4942              		.cfi_def_cfa_offset 48
 4943 0004 00AF     		add	r7, sp, #0
 4944              		.cfi_def_cfa_register 7
 4945 0006 7860     		str	r0, [r7, #4]
 4946 0008 3960     		str	r1, [r7]
2623:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0	/* LFN configuration */
2624:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
2625:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
2626:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
2627:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
2628:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 134


2629:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
2630:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; lfn = dp->obj.fs->lfnbuf; si = di = 0;
 4947              		.loc 1 2630 4
 4948 000a 3B68     		ldr	r3, [r7]
 4949 000c 1B68     		ldr	r3, [r3]
 4950 000e 3B61     		str	r3, [r7, #16]
 4951              		.loc 1 2630 26
 4952 0010 7B68     		ldr	r3, [r7, #4]
 4953 0012 1B68     		ldr	r3, [r3]
 4954              		.loc 1 2630 17
 4955 0014 DB68     		ldr	r3, [r3, #12]
 4956 0016 FB60     		str	r3, [r7, #12]
 4957              		.loc 1 2630 47
 4958 0018 0023     		movs	r3, #0
 4959 001a 7B61     		str	r3, [r7, #20]
 4960              		.loc 1 2630 42
 4961 001c 7B69     		ldr	r3, [r7, #20]
 4962 001e BB61     		str	r3, [r7, #24]
 4963              	.L328:
2631:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2632:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
 4964              		.loc 1 2632 11
 4965 0020 BB69     		ldr	r3, [r7, #24]
 4966 0022 5A1C     		adds	r2, r3, #1
 4967 0024 BA61     		str	r2, [r7, #24]
 4968              		.loc 1 2632 8
 4969 0026 3A69     		ldr	r2, [r7, #16]
 4970 0028 1344     		add	r3, r3, r2
 4971 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4972              		.loc 1 2632 5
 4973 002c BB84     		strh	r3, [r7, #36]	@ movhi
2633:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 4974              		.loc 1 2633 6
 4975 002e BB8C     		ldrh	r3, [r7, #36]
 4976 0030 1F2B     		cmp	r3, #31
 4977 0032 40D9     		bls	.L365
2634:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
 4978              		.loc 1 2634 6
 4979 0034 BB8C     		ldrh	r3, [r7, #36]
 4980 0036 2F2B     		cmp	r3, #47
 4981 0038 06D0     		beq	.L322
 4982              		.loc 1 2634 16 discriminator 1
 4983 003a BB8C     		ldrh	r3, [r7, #36]
 4984 003c 5C2B     		cmp	r3, #92
 4985 003e 10D1     		bne	.L321
2635:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
 4986              		.loc 1 2635 10
 4987 0040 02E0     		b	.L322
 4988              	.L323:
 4989              		.loc 1 2635 44 discriminator 4
 4990 0042 BB69     		ldr	r3, [r7, #24]
 4991 0044 0133     		adds	r3, r3, #1
 4992 0046 BB61     		str	r3, [r7, #24]
 4993              	.L322:
 4994              		.loc 1 2635 12 discriminator 1
 4995 0048 3A69     		ldr	r2, [r7, #16]
 4996 004a BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/cc5m2BsI.s 			page 135


 4997 004c 1344     		add	r3, r3, r2
 4998 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 4999              		.loc 1 2635 10 discriminator 1
 5000 0050 2F2B     		cmp	r3, #47
 5001 0052 F6D0     		beq	.L323
 5002              		.loc 1 2635 28 discriminator 3
 5003 0054 3A69     		ldr	r2, [r7, #16]
 5004 0056 BB69     		ldr	r3, [r7, #24]
 5005 0058 1344     		add	r3, r3, r2
 5006 005a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5007              		.loc 1 2635 24 discriminator 3
 5008 005c 5C2B     		cmp	r3, #92
 5009 005e F0D0     		beq	.L323
2636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5010              		.loc 1 2636 4
 5011 0060 2AE0     		b	.L319
 5012              	.L321:
2637:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2638:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN) return FR_INVALID_NAME;	/* Reject too long name */
 5013              		.loc 1 2638 6
 5014 0062 7B69     		ldr	r3, [r7, #20]
 5015 0064 FE2B     		cmp	r3, #254
 5016 0066 01D9     		bls	.L324
 5017              		.loc 1 2638 30 discriminator 1
 5018 0068 0623     		movs	r3, #6
 5019 006a 7DE1     		b	.L325
 5020              	.L324:
2639:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
2640:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
 5021              		.loc 1 2640 5
 5022 006c BB8C     		ldrh	r3, [r7, #36]	@ movhi
 5023 006e DBB2     		uxtb	r3, r3
 5024 0070 BB84     		strh	r3, [r7, #36]	@ movhi
2641:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
2642:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
2643:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
2644:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b)) return FR_INVALID_NAME;	/* Reject invalid sequence */
2645:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
 5025              		.loc 1 2646 7
 5026 0072 BB8C     		ldrh	r3, [r7, #36]
 5027 0074 0121     		movs	r1, #1
 5028 0076 1846     		mov	r0, r3
 5029 0078 FFF7FEFF 		bl	ff_convert
 5030 007c 0346     		mov	r3, r0
 5031 007e BB84     		strh	r3, [r7, #36]	@ movhi
2647:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
 5032              		.loc 1 2647 6
 5033 0080 BB8C     		ldrh	r3, [r7, #36]
 5034 0082 002B     		cmp	r3, #0
 5035 0084 01D1     		bne	.L326
 5036              		.loc 1 2647 18 discriminator 1
 5037 0086 0623     		movs	r3, #6
 5038 0088 6EE1     		b	.L325
 5039              	.L326:
2648:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2649:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) return FR_INVALID_NAME;	/* Reject illegal characters
ARM GAS  /tmp/cc5m2BsI.s 			page 136


 5040              		.loc 1 2649 6
 5041 008a BB8C     		ldrh	r3, [r7, #36]
 5042 008c 7F2B     		cmp	r3, #127
 5043 008e 09D8     		bhi	.L327
 5044              		.loc 1 2649 19 discriminator 1
 5045 0090 BB8C     		ldrh	r3, [r7, #36]
 5046 0092 1946     		mov	r1, r3
 5047 0094 8D48     		ldr	r0, .L369
 5048 0096 FFF7FEFF 		bl	chk_chr
 5049 009a 0346     		mov	r3, r0
 5050              		.loc 1 2649 16 discriminator 1
 5051 009c 002B     		cmp	r3, #0
 5052 009e 01D0     		beq	.L327
 5053              		.loc 1 2649 55 discriminator 2
 5054 00a0 0623     		movs	r3, #6
 5055 00a2 61E1     		b	.L325
 5056              	.L327:
2650:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
 5057              		.loc 1 2650 9
 5058 00a4 7B69     		ldr	r3, [r7, #20]
 5059 00a6 5A1C     		adds	r2, r3, #1
 5060 00a8 7A61     		str	r2, [r7, #20]
 5061              		.loc 1 2650 6
 5062 00aa 5B00     		lsls	r3, r3, #1
 5063 00ac FA68     		ldr	r2, [r7, #12]
 5064 00ae 1344     		add	r3, r3, r2
 5065              		.loc 1 2650 13
 5066 00b0 BA8C     		ldrh	r2, [r7, #36]	@ movhi
 5067 00b2 1A80     		strh	r2, [r3]	@ movhi
2632:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ') break;				/* Break if end of the path name */
 5068              		.loc 1 2632 5
 5069 00b4 B4E7     		b	.L328
 5070              	.L365:
2633:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == '/' || w == '\\') {	/* Break if a separator is found */
 5071              		.loc 1 2633 3
 5072 00b6 00BF     		nop
 5073              	.L319:
2651:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2652:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
 5074              		.loc 1 2652 10
 5075 00b8 3A69     		ldr	r2, [r7, #16]
 5076 00ba BB69     		ldr	r3, [r7, #24]
 5077 00bc 1A44     		add	r2, r2, r3
 5078              		.loc 1 2652 8
 5079 00be 3B68     		ldr	r3, [r7]
 5080 00c0 1A60     		str	r2, [r3]
2653:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
 5081              		.loc 1 2653 5
 5082 00c2 BB8C     		ldrh	r3, [r7, #36]
 5083 00c4 1F2B     		cmp	r3, #31
 5084 00c6 01D8     		bhi	.L329
 5085              		.loc 1 2653 5 is_stmt 0 discriminator 1
 5086 00c8 0423     		movs	r3, #4
 5087 00ca 00E0     		b	.L330
 5088              	.L329:
 5089              		.loc 1 2653 5 discriminator 2
 5090 00cc 0023     		movs	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 137


 5091              	.L330:
 5092              		.loc 1 2653 5 discriminator 4
 5093 00ce 87F82730 		strb	r3, [r7, #39]
2654:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2655:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') ||
2656:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {	/* Is this segment a dot name? */
2657:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
2658:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)		/* Create dot name for SFN entry */
2659:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
2660:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
2661:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2662:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2663:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2664:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Snip off trailing spaces and dots if exist */
 5094              		.loc 1 2664 8 is_stmt 1 discriminator 4
 5095 00d2 11E0     		b	.L331
 5096              	.L334:
2665:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
 5097              		.loc 1 2665 10
 5098 00d4 7A69     		ldr	r2, [r7, #20]
 5099 00d6 6FF00043 		mvn	r3, #-2147483648
 5100 00da 1344     		add	r3, r3, r2
 5101 00dc 5B00     		lsls	r3, r3, #1
 5102 00de FA68     		ldr	r2, [r7, #12]
 5103 00e0 1344     		add	r3, r3, r2
 5104              		.loc 1 2665 5
 5105 00e2 1B88     		ldrh	r3, [r3]	@ movhi
 5106 00e4 BB84     		strh	r3, [r7, #36]	@ movhi
2666:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
 5107              		.loc 1 2666 6
 5108 00e6 BB8C     		ldrh	r3, [r7, #36]
 5109 00e8 202B     		cmp	r3, #32
 5110 00ea 02D0     		beq	.L332
 5111              		.loc 1 2666 16 discriminator 1
 5112 00ec BB8C     		ldrh	r3, [r7, #36]
 5113 00ee 2E2B     		cmp	r3, #46
 5114 00f0 06D1     		bne	.L366
 5115              	.L332:
2667:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
 5116              		.loc 1 2667 5
 5117 00f2 7B69     		ldr	r3, [r7, #20]
 5118 00f4 013B     		subs	r3, r3, #1
 5119 00f6 7B61     		str	r3, [r7, #20]
 5120              	.L331:
2664:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
 5121              		.loc 1 2664 8
 5122 00f8 7B69     		ldr	r3, [r7, #20]
 5123 00fa 002B     		cmp	r3, #0
 5124 00fc EAD1     		bne	.L334
 5125 00fe 00E0     		b	.L333
 5126              	.L366:
2666:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
 5127              		.loc 1 2666 3
 5128 0100 00BF     		nop
 5129              	.L333:
2668:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2669:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
ARM GAS  /tmp/cc5m2BsI.s 			page 138


 5130              		.loc 1 2669 5
 5131 0102 7B69     		ldr	r3, [r7, #20]
 5132 0104 5B00     		lsls	r3, r3, #1
 5133 0106 FA68     		ldr	r2, [r7, #12]
 5134 0108 1344     		add	r3, r3, r2
 5135              		.loc 1 2669 10
 5136 010a 0022     		movs	r2, #0
 5137 010c 1A80     		strh	r2, [r3]	@ movhi
2670:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (di == 0) return FR_INVALID_NAME;	/* Reject nul name */
 5138              		.loc 1 2670 5
 5139 010e 7B69     		ldr	r3, [r7, #20]
 5140 0110 002B     		cmp	r3, #0
 5141 0112 01D1     		bne	.L335
 5142              		.loc 1 2670 22 discriminator 1
 5143 0114 0623     		movs	r3, #6
 5144 0116 27E1     		b	.L325
 5145              	.L335:
2671:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2672:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
2673:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
 5146              		.loc 1 2673 12
 5147 0118 7B68     		ldr	r3, [r7, #4]
 5148 011a 2033     		adds	r3, r3, #32
 5149              		.loc 1 2673 2
 5150 011c 0B22     		movs	r2, #11
 5151 011e 2021     		movs	r1, #32
 5152 0120 1846     		mov	r0, r3
 5153 0122 FFF7FEFF 		bl	mem_set
2674:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
 5154              		.loc 1 2674 10
 5155 0126 0023     		movs	r3, #0
 5156 0128 BB61     		str	r3, [r7, #24]
 5157              		.loc 1 2674 2
 5158 012a 02E0     		b	.L336
 5159              	.L337:
 5160              		.loc 1 2674 51 discriminator 5
 5161 012c BB69     		ldr	r3, [r7, #24]
 5162 012e 0133     		adds	r3, r3, #1
 5163 0130 BB61     		str	r3, [r7, #24]
 5164              	.L336:
 5165              		.loc 1 2674 18 discriminator 1
 5166 0132 BB69     		ldr	r3, [r7, #24]
 5167 0134 5B00     		lsls	r3, r3, #1
 5168 0136 FA68     		ldr	r2, [r7, #12]
 5169 0138 1344     		add	r3, r3, r2
 5170 013a 1B88     		ldrh	r3, [r3]
 5171              		.loc 1 2674 2 discriminator 1
 5172 013c 202B     		cmp	r3, #32
 5173 013e F5D0     		beq	.L337
 5174              		.loc 1 2674 36 discriminator 4
 5175 0140 BB69     		ldr	r3, [r7, #24]
 5176 0142 5B00     		lsls	r3, r3, #1
 5177 0144 FA68     		ldr	r2, [r7, #12]
 5178 0146 1344     		add	r3, r3, r2
 5179 0148 1B88     		ldrh	r3, [r3]
 5180              		.loc 1 2674 30 discriminator 4
 5181 014a 2E2B     		cmp	r3, #46
ARM GAS  /tmp/cc5m2BsI.s 			page 139


 5182 014c EED0     		beq	.L337
2675:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
 5183              		.loc 1 2675 5
 5184 014e BB69     		ldr	r3, [r7, #24]
 5185 0150 002B     		cmp	r3, #0
 5186 0152 09D0     		beq	.L339
 5187              		.loc 1 2675 13 discriminator 1
 5188 0154 97F82730 		ldrb	r3, [r7, #39]
 5189 0158 43F00303 		orr	r3, r3, #3
 5190 015c 87F82730 		strb	r3, [r7, #39]
2676:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
 5191              		.loc 1 2676 8 discriminator 1
 5192 0160 02E0     		b	.L339
 5193              	.L341:
 5194              		.loc 1 2676 37 discriminator 3
 5195 0162 7B69     		ldr	r3, [r7, #20]
 5196 0164 013B     		subs	r3, r3, #1
 5197 0166 7B61     		str	r3, [r7, #20]
 5198              	.L339:
 5199              		.loc 1 2676 8 discriminator 1
 5200 0168 7B69     		ldr	r3, [r7, #20]
 5201 016a 002B     		cmp	r3, #0
 5202 016c 09D0     		beq	.L340
 5203              		.loc 1 2676 18 discriminator 2
 5204 016e 7A69     		ldr	r2, [r7, #20]
 5205 0170 6FF00043 		mvn	r3, #-2147483648
 5206 0174 1344     		add	r3, r3, r2
 5207 0176 5B00     		lsls	r3, r3, #1
 5208 0178 FA68     		ldr	r2, [r7, #12]
 5209 017a 1344     		add	r3, r3, r2
 5210 017c 1B88     		ldrh	r3, [r3]
 5211              		.loc 1 2676 12 discriminator 2
 5212 017e 2E2B     		cmp	r3, #46
 5213 0180 EFD1     		bne	.L341
 5214              	.L340:
2677:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2678:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	i = b = 0; ni = 8;
 5215              		.loc 1 2678 8
 5216 0182 0023     		movs	r3, #0
 5217 0184 87F82630 		strb	r3, [r7, #38]
 5218              		.loc 1 2678 4
 5219 0188 0023     		movs	r3, #0
 5220 018a 3B62     		str	r3, [r7, #32]
 5221              		.loc 1 2678 16
 5222 018c 0823     		movs	r3, #8
 5223 018e FB61     		str	r3, [r7, #28]
 5224              	.L358:
2679:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2680:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
 5225              		.loc 1 2680 13
 5226 0190 BB69     		ldr	r3, [r7, #24]
 5227 0192 5A1C     		adds	r2, r3, #1
 5228 0194 BA61     		str	r2, [r7, #24]
 5229              		.loc 1 2680 10
 5230 0196 5B00     		lsls	r3, r3, #1
 5231 0198 FA68     		ldr	r2, [r7, #12]
 5232 019a 1344     		add	r3, r3, r2
ARM GAS  /tmp/cc5m2BsI.s 			page 140


 5233              		.loc 1 2680 5
 5234 019c 1B88     		ldrh	r3, [r3]	@ movhi
 5235 019e BB84     		strh	r3, [r7, #36]	@ movhi
2681:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5236              		.loc 1 2681 6
 5237 01a0 BB8C     		ldrh	r3, [r7, #36]
 5238 01a2 002B     		cmp	r3, #0
 5239 01a4 00F09080 		beq	.L367
2682:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
 5240              		.loc 1 2682 6
 5241 01a8 BB8C     		ldrh	r3, [r7, #36]
 5242 01aa 202B     		cmp	r3, #32
 5243 01ac 06D0     		beq	.L344
 5244              		.loc 1 2682 16 discriminator 1
 5245 01ae BB8C     		ldrh	r3, [r7, #36]
 5246 01b0 2E2B     		cmp	r3, #46
 5247 01b2 0AD1     		bne	.L345
 5248              		.loc 1 2682 29 discriminator 2
 5249 01b4 BA69     		ldr	r2, [r7, #24]
 5250 01b6 7B69     		ldr	r3, [r7, #20]
 5251 01b8 9A42     		cmp	r2, r3
 5252 01ba 06D0     		beq	.L345
 5253              	.L344:
2683:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
 5254              		.loc 1 2683 7
 5255 01bc 97F82730 		ldrb	r3, [r7, #39]
 5256 01c0 43F00303 		orr	r3, r3, #3
 5257 01c4 87F82730 		strb	r3, [r7, #39]
 5258              		.loc 1 2683 4
 5259 01c8 7DE0     		b	.L346
 5260              	.L345:
2684:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2685:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2686:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
 5261              		.loc 1 2686 6
 5262 01ca 3A6A     		ldr	r2, [r7, #32]
 5263 01cc FB69     		ldr	r3, [r7, #28]
 5264 01ce 9A42     		cmp	r2, r3
 5265 01d0 03D2     		bcs	.L347
 5266              		.loc 1 2686 15 discriminator 1
 5267 01d2 BA69     		ldr	r2, [r7, #24]
 5268 01d4 7B69     		ldr	r3, [r7, #20]
 5269 01d6 9A42     		cmp	r2, r3
 5270 01d8 23D1     		bne	.L348
 5271              	.L347:
2687:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
 5272              		.loc 1 2687 7
 5273 01da FB69     		ldr	r3, [r7, #28]
 5274 01dc 0B2B     		cmp	r3, #11
 5275 01de 06D1     		bne	.L349
2688:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
 5276              		.loc 1 2688 8
 5277 01e0 97F82730 		ldrb	r3, [r7, #39]
 5278 01e4 43F00303 		orr	r3, r3, #3
 5279 01e8 87F82730 		strb	r3, [r7, #39]
 5280              		.loc 1 2688 5
 5281 01ec 75E0     		b	.L343
ARM GAS  /tmp/cc5m2BsI.s 			page 141


 5282              	.L349:
2689:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2690:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
 5283              		.loc 1 2690 7
 5284 01ee BA69     		ldr	r2, [r7, #24]
 5285 01f0 7B69     		ldr	r3, [r7, #20]
 5286 01f2 9A42     		cmp	r2, r3
 5287 01f4 05D0     		beq	.L350
 5288              		.loc 1 2690 21 discriminator 1
 5289 01f6 97F82730 		ldrb	r3, [r7, #39]
 5290 01fa 43F00303 		orr	r3, r3, #3
 5291 01fe 87F82730 		strb	r3, [r7, #39]
 5292              	.L350:
2691:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
 5293              		.loc 1 2691 7
 5294 0202 BA69     		ldr	r2, [r7, #24]
 5295 0204 7B69     		ldr	r3, [r7, #20]
 5296 0206 9A42     		cmp	r2, r3
 5297 0208 66D8     		bhi	.L368
2692:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
 5298              		.loc 1 2692 7
 5299 020a 7B69     		ldr	r3, [r7, #20]
 5300 020c BB61     		str	r3, [r7, #24]
 5301              		.loc 1 2692 15
 5302 020e 0823     		movs	r3, #8
 5303 0210 3B62     		str	r3, [r7, #32]
 5304              		.loc 1 2692 23
 5305 0212 0B23     		movs	r3, #11
 5306 0214 FB61     		str	r3, [r7, #28]
2693:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 5307              		.loc 1 2693 6
 5308 0216 97F82630 		ldrb	r3, [r7, #38]
 5309 021a 9B00     		lsls	r3, r3, #2
 5310 021c 87F82630 		strb	r3, [r7, #38]
 5311              		.loc 1 2693 4
 5312 0220 51E0     		b	.L346
 5313              	.L348:
2694:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2695:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2696:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
 5314              		.loc 1 2696 6
 5315 0222 BB8C     		ldrh	r3, [r7, #36]
 5316 0224 7F2B     		cmp	r3, #127
 5317 0226 14D9     		bls	.L352
2697:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2698:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
 5318              		.loc 1 2698 8
 5319 0228 BB8C     		ldrh	r3, [r7, #36]
 5320 022a 0021     		movs	r1, #0
 5321 022c 1846     		mov	r0, r3
 5322 022e FFF7FEFF 		bl	ff_convert
 5323 0232 0346     		mov	r3, r0
 5324 0234 BB84     		strh	r3, [r7, #36]	@ movhi
2699:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
 5325              		.loc 1 2699 7
 5326 0236 BB8C     		ldrh	r3, [r7, #36]
 5327 0238 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 142


 5328 023a 04D0     		beq	.L353
 5329              		.loc 1 2699 23 discriminator 1
 5330 023c BB8C     		ldrh	r3, [r7, #36]
 5331 023e 803B     		subs	r3, r3, #128
 5332              		.loc 1 2699 20 discriminator 1
 5333 0240 234A     		ldr	r2, .L369+4
 5334 0242 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 5335              		.loc 1 2699 13 discriminator 1
 5336 0244 BB84     		strh	r3, [r7, #36]	@ movhi
 5337              	.L353:
2700:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
2701:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2702:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2703:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
 5338              		.loc 1 2703 7
 5339 0246 97F82730 		ldrb	r3, [r7, #39]
 5340 024a 43F00203 		orr	r3, r3, #2
 5341 024e 87F82730 		strb	r3, [r7, #39]
 5342              	.L352:
2704:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2705:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2706:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* Is this DBC? (always false at SBCS cfg) */
2707:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2708:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2709:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2710:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2711:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2712:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
 5343              		.loc 1 2712 7
 5344 0252 BB8C     		ldrh	r3, [r7, #36]
 5345 0254 002B     		cmp	r3, #0
 5346 0256 07D0     		beq	.L354
 5347              		.loc 1 2712 14 discriminator 1
 5348 0258 BB8C     		ldrh	r3, [r7, #36]
 5349 025a 1946     		mov	r1, r3
 5350 025c 1D48     		ldr	r0, .L369+8
 5351 025e FFF7FEFF 		bl	chk_chr
 5352 0262 0346     		mov	r3, r0
 5353              		.loc 1 2712 11 discriminator 1
 5354 0264 002B     		cmp	r3, #0
 5355 0266 08D0     		beq	.L355
 5356              	.L354:
2713:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
 5357              		.loc 1 2713 7
 5358 0268 5F23     		movs	r3, #95
 5359 026a BB84     		strh	r3, [r7, #36]	@ movhi
 5360              		.loc 1 2713 17
 5361 026c 97F82730 		ldrb	r3, [r7, #39]
 5362 0270 43F00303 		orr	r3, r3, #3
 5363 0274 87F82730 		strb	r3, [r7, #39]
 5364 0278 1BE0     		b	.L356
 5365              	.L355:
2714:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2715:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
 5366              		.loc 1 2715 8
 5367 027a BB8C     		ldrh	r3, [r7, #36]
 5368 027c 402B     		cmp	r3, #64
ARM GAS  /tmp/cc5m2BsI.s 			page 143


 5369 027e 09D9     		bls	.L357
 5370              		.loc 1 2715 9 discriminator 1
 5371 0280 BB8C     		ldrh	r3, [r7, #36]
 5372 0282 5A2B     		cmp	r3, #90
 5373 0284 06D8     		bhi	.L357
2716:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
 5374              		.loc 1 2716 8
 5375 0286 97F82630 		ldrb	r3, [r7, #38]
 5376 028a 43F00203 		orr	r3, r3, #2
 5377 028e 87F82630 		strb	r3, [r7, #38]
 5378 0292 0EE0     		b	.L356
 5379              	.L357:
2717:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2718:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
 5380              		.loc 1 2718 9
 5381 0294 BB8C     		ldrh	r3, [r7, #36]
 5382 0296 602B     		cmp	r3, #96
 5383 0298 0BD9     		bls	.L356
 5384              		.loc 1 2718 10 discriminator 1
 5385 029a BB8C     		ldrh	r3, [r7, #36]
 5386 029c 7A2B     		cmp	r3, #122
 5387 029e 08D8     		bhi	.L356
2719:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
 5388              		.loc 1 2719 9
 5389 02a0 97F82630 		ldrb	r3, [r7, #38]
 5390 02a4 43F00103 		orr	r3, r3, #1
 5391 02a8 87F82630 		strb	r3, [r7, #38]
 5392              		.loc 1 2719 17
 5393 02ac BB8C     		ldrh	r3, [r7, #36]	@ movhi
 5394 02ae 203B     		subs	r3, r3, #32
 5395 02b0 BB84     		strh	r3, [r7, #36]	@ movhi
 5396              	.L356:
2720:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2721:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2722:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2723:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2724:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
 5397              		.loc 1 2724 11
 5398 02b2 3B6A     		ldr	r3, [r7, #32]
 5399 02b4 5A1C     		adds	r2, r3, #1
 5400 02b6 3A62     		str	r2, [r7, #32]
 5401              		.loc 1 2724 17
 5402 02b8 BA8C     		ldrh	r2, [r7, #36]	@ movhi
 5403 02ba D1B2     		uxtb	r1, r2
 5404              		.loc 1 2724 15
 5405 02bc 7A68     		ldr	r2, [r7, #4]
 5406 02be 1344     		add	r3, r3, r2
 5407 02c0 0A46     		mov	r2, r1
 5408 02c2 83F82020 		strb	r2, [r3, #32]
 5409              	.L346:
2680:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
 5410              		.loc 1 2680 5
 5411 02c6 63E7     		b	.L358
 5412              	.L367:
2681:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
 5413              		.loc 1 2681 3
 5414 02c8 00BF     		nop
ARM GAS  /tmp/cc5m2BsI.s 			page 144


 5415 02ca 06E0     		b	.L343
 5416              	.L370:
 5417              		.align	2
 5418              	.L369:
 5419 02cc 00000000 		.word	.LC0
 5420 02d0 00000000 		.word	ExCvt
 5421 02d4 0C000000 		.word	.LC1
 5422              	.L368:
2691:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
 5423              		.loc 1 2691 4
 5424 02d8 00BF     		nop
 5425              	.L343:
2725:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2726:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2727:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with DDEM, replace it
 5426              		.loc 1 2727 12
 5427 02da 7B68     		ldr	r3, [r7, #4]
 5428 02dc 93F82030 		ldrb	r3, [r3, #32]	@ zero_extendqisi2
 5429              		.loc 1 2727 5
 5430 02e0 E52B     		cmp	r3, #229
 5431 02e2 03D1     		bne	.L359
 5432              		.loc 1 2727 35 discriminator 1
 5433 02e4 7B68     		ldr	r3, [r7, #4]
 5434 02e6 0522     		movs	r2, #5
 5435 02e8 83F82020 		strb	r2, [r3, #32]
 5436              	.L359:
2728:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2729:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
 5437              		.loc 1 2729 5
 5438 02ec FB69     		ldr	r3, [r7, #28]
 5439 02ee 082B     		cmp	r3, #8
 5440 02f0 04D1     		bne	.L360
 5441              		.loc 1 2729 17 discriminator 1
 5442 02f2 97F82630 		ldrb	r3, [r7, #38]
 5443 02f6 9B00     		lsls	r3, r3, #2
 5444 02f8 87F82630 		strb	r3, [r7, #38]
 5445              	.L360:
2730:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03) cf |= NS_LFN;	/* Create LFN entry when there are com
 5446              		.loc 1 2730 9
 5447 02fc 97F82630 		ldrb	r3, [r7, #38]	@ zero_extendqisi2
 5448 0300 03F00C03 		and	r3, r3, #12
 5449              		.loc 1 2730 5
 5450 0304 0C2B     		cmp	r3, #12
 5451 0306 05D0     		beq	.L361
 5452              		.loc 1 2730 31 discriminator 2
 5453 0308 97F82630 		ldrb	r3, [r7, #38]	@ zero_extendqisi2
 5454 030c 03F00303 		and	r3, r3, #3
 5455              		.loc 1 2730 25 discriminator 2
 5456 0310 032B     		cmp	r3, #3
 5457 0312 05D1     		bne	.L362
 5458              	.L361:
 5459              		.loc 1 2730 51 discriminator 3
 5460 0314 97F82730 		ldrb	r3, [r7, #39]
 5461 0318 43F00203 		orr	r3, r3, #2
 5462 031c 87F82730 		strb	r3, [r7, #39]
 5463              	.L362:
2731:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
ARM GAS  /tmp/cc5m2BsI.s 			page 145


 5464              		.loc 1 2731 11
 5465 0320 97F82730 		ldrb	r3, [r7, #39]	@ zero_extendqisi2
 5466 0324 03F00203 		and	r3, r3, #2
 5467              		.loc 1 2731 5
 5468 0328 002B     		cmp	r3, #0
 5469 032a 17D1     		bne	.L363
2732:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
 5470              		.loc 1 2732 10
 5471 032c 97F82630 		ldrb	r3, [r7, #38]	@ zero_extendqisi2
 5472 0330 03F00303 		and	r3, r3, #3
 5473              		.loc 1 2732 6
 5474 0334 012B     		cmp	r3, #1
 5475 0336 05D1     		bne	.L364
 5476              		.loc 1 2732 30 discriminator 1
 5477 0338 97F82730 		ldrb	r3, [r7, #39]
 5478 033c 43F01003 		orr	r3, r3, #16
 5479 0340 87F82730 		strb	r3, [r7, #39]
 5480              	.L364:
2733:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
 5481              		.loc 1 2733 10
 5482 0344 97F82630 		ldrb	r3, [r7, #38]	@ zero_extendqisi2
 5483 0348 03F00C03 		and	r3, r3, #12
 5484              		.loc 1 2733 6
 5485 034c 042B     		cmp	r3, #4
 5486 034e 05D1     		bne	.L363
 5487              		.loc 1 2733 30 discriminator 1
 5488 0350 97F82730 		ldrb	r3, [r7, #39]
 5489 0354 43F00803 		orr	r3, r3, #8
 5490 0358 87F82730 		strb	r3, [r7, #39]
 5491              	.L363:
2734:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2735:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2736:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
 5492              		.loc 1 2736 17
 5493 035c 7B68     		ldr	r3, [r7, #4]
 5494 035e 97F82720 		ldrb	r2, [r7, #39]
 5495 0362 83F82B20 		strb	r2, [r3, #43]
2737:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2738:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 5496              		.loc 1 2738 9
 5497 0366 0023     		movs	r3, #0
 5498              	.L325:
2739:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2740:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2741:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* _USE_LFN != 0 : Non-LFN configuration */
2742:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, d, *sfn;
2743:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
2744:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
2745:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2746:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2747:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	p = *path; sfn = dp->fn;
2748:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
2749:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = 0; ni = 8;
2750:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2751:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2752:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2753:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
ARM GAS  /tmp/cc5m2BsI.s 			page 146


2754:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2755:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2756:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2757:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2758:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = p + si;								/* Return pointer to the next segment */
2759:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of the path
2760:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2761:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2762:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2763:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2764:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2765:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ') break; 			/* Break if end of the path name */
2766:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '/' || c == '\\') {	/* Break if a separator is found */
2767:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			while (p[si] == '/' || p[si] == '\\') si++;	/* Skip duplicated separator if exist */
2768:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
2769:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2770:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {		/* End of body or over size? */
2771:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11 || c != '.') return FR_INVALID_NAME;	/* Over size or invalid dot */
2772:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;				/* Goto extension */
2773:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
2774:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2775:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
2776:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2777:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2778:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
2779:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2780:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII only cfg) */
2781:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2782:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2783:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2784:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false at SBCS cfg.) */
2785:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2786:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1) return FR_INVALID_NAME;	/* Reject invalid DBC */
2787:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2788:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2789:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2790:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c)) return FR_INVALID_NAME;	/* Reject illegal chrs for SFN */
2791:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(c)) c -= 0x20;	/* To upper */
2792:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2793:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2794:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2795:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = p + si;						/* Return pointer to the next segment */
2796:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == 0) return FR_INVALID_NAME;	/* Reject nul string */
2797:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2798:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* If the first character collides with DDEM, replace it with 
2799:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of the path */
2800:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2801:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2802:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LFN != 0 */
2803:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 5499              		.loc 1 2803 1
 5500 0368 1846     		mov	r0, r3
 5501 036a 2837     		adds	r7, r7, #40
 5502              		.cfi_def_cfa_offset 8
 5503 036c BD46     		mov	sp, r7
 5504              		.cfi_def_cfa_register 13
 5505              		@ sp needed
ARM GAS  /tmp/cc5m2BsI.s 			page 147


 5506 036e 80BD     		pop	{r7, pc}
 5507              		.cfi_endproc
 5508              	.LFE352:
 5510              		.section	.text.follow_path,"ax",%progbits
 5511              		.align	1
 5512              		.syntax unified
 5513              		.thumb
 5514              		.thumb_func
 5515              		.fpu fpv5-d16
 5517              	follow_path:
 5518              	.LFB353:
2804:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2805:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2806:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2807:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2808:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2809:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2810:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2811:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2812:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2813:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2814:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2815:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2816:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2817:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 5519              		.loc 1 2817 1
 5520              		.cfi_startproc
 5521              		@ args = 0, pretend = 0, frame = 24
 5522              		@ frame_needed = 1, uses_anonymous_args = 0
 5523 0000 80B5     		push	{r7, lr}
 5524              		.cfi_def_cfa_offset 8
 5525              		.cfi_offset 7, -8
 5526              		.cfi_offset 14, -4
 5527 0002 86B0     		sub	sp, sp, #24
 5528              		.cfi_def_cfa_offset 32
 5529 0004 00AF     		add	r7, sp, #0
 5530              		.cfi_def_cfa_register 7
 5531 0006 7860     		str	r0, [r7, #4]
 5532 0008 3960     		str	r1, [r7]
2818:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2819:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns;
2820:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj = &dp->obj;
 5533              		.loc 1 2820 9
 5534 000a 7B68     		ldr	r3, [r7, #4]
 5535 000c 3B61     		str	r3, [r7, #16]
2821:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs = obj->fs;
 5536              		.loc 1 2821 9
 5537 000e 3B69     		ldr	r3, [r7, #16]
 5538 0010 1B68     		ldr	r3, [r3]
 5539 0012 FB60     		str	r3, [r7, #12]
2822:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2823:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2824:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2825:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path != '/' && *path != '\\') {	/* Without heading separator */
2826:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = fs->cdir;				/* Start from current directory */
2827:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
2828:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc5m2BsI.s 			page 148


2829:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	{										/* With heading separator */
2830:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*path == '/' || *path == '\\') path++;	/* Strip heading separator */
 5540              		.loc 1 2830 9
 5541 0014 02E0     		b	.L372
 5542              	.L373:
 5543              		.loc 1 2830 45 discriminator 4
 5544 0016 3B68     		ldr	r3, [r7]
 5545 0018 0133     		adds	r3, r3, #1
 5546 001a 3B60     		str	r3, [r7]
 5547              	.L372:
 5548              		.loc 1 2830 10 discriminator 1
 5549 001c 3B68     		ldr	r3, [r7]
 5550 001e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5551              		.loc 1 2830 9 discriminator 1
 5552 0020 2F2B     		cmp	r3, #47
 5553 0022 F8D0     		beq	.L373
 5554              		.loc 1 2830 26 discriminator 3
 5555 0024 3B68     		ldr	r3, [r7]
 5556 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5557              		.loc 1 2830 23 discriminator 3
 5558 0028 5C2B     		cmp	r3, #92
 5559 002a F4D0     		beq	.L373
2831:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->sclust = 0;					/* Start from root directory */
 5560              		.loc 1 2831 15
 5561 002c 3B69     		ldr	r3, [r7, #16]
 5562 002e 0022     		movs	r2, #0
 5563 0030 9A60     		str	r2, [r3, #8]
2832:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2833:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2834:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	obj->n_frag = 0;	/* Invalidate last fragment counter of the object */
2835:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
2836:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT && obj->sclust) {	/* Retrieve the sub-directory status if needed */
2837:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		DIR dj;
2838:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2839:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_scl = fs->cdc_scl;
2840:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_size = fs->cdc_size;
2841:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->c_ofs = fs->cdc_ofs;
2842:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = load_obj_dir(&dj, obj);
2843:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) return res;
2844:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->objsize = ld_dword(fs->dirbuf + XDIR_FileSize);
2845:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2846:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2847:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2848:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2849:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2850:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
 5564              		.loc 1 2850 12
 5565 0032 3B68     		ldr	r3, [r7]
 5566 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5567              		.loc 1 2850 5
 5568 0036 1F2B     		cmp	r3, #31
 5569 0038 0AD8     		bhi	.L374
2851:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[NSFLAG] = NS_NONAME;
 5570              		.loc 1 2851 18
 5571 003a 7B68     		ldr	r3, [r7, #4]
 5572 003c 8022     		movs	r2, #128
 5573 003e 83F82B20 		strb	r2, [r3, #43]
ARM GAS  /tmp/cc5m2BsI.s 			page 149


2852:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 5574              		.loc 1 2852 9
 5575 0042 0021     		movs	r1, #0
 5576 0044 7868     		ldr	r0, [r7, #4]
 5577 0046 FFF7FEFF 		bl	dir_sdi
 5578 004a 0346     		mov	r3, r0
 5579 004c FB75     		strb	r3, [r7, #23]
 5580 004e 43E0     		b	.L375
 5581              	.L374:
2853:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2854:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2855:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2856:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 5582              		.loc 1 2856 10
 5583 0050 3B46     		mov	r3, r7
 5584 0052 1946     		mov	r1, r3
 5585 0054 7868     		ldr	r0, [r7, #4]
 5586 0056 FFF7FEFF 		bl	create_name
 5587 005a 0346     		mov	r3, r0
 5588 005c FB75     		strb	r3, [r7, #23]
2857:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 5589              		.loc 1 2857 7
 5590 005e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5591 0060 002B     		cmp	r3, #0
 5592 0062 34D1     		bne	.L382
2858:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 5593              		.loc 1 2858 10
 5594 0064 7868     		ldr	r0, [r7, #4]
 5595 0066 FFF7FEFF 		bl	dir_find
 5596 006a 0346     		mov	r3, r0
 5597 006c FB75     		strb	r3, [r7, #23]
2859:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 5598              		.loc 1 2859 7
 5599 006e 7B68     		ldr	r3, [r7, #4]
 5600 0070 93F82B30 		ldrb	r3, [r3, #43]
 5601 0074 FB72     		strb	r3, [r7, #11]
2860:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 5602              		.loc 1 2860 7
 5603 0076 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5604 0078 002B     		cmp	r3, #0
 5605 007a 0AD0     		beq	.L377
2861:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 5606              		.loc 1 2861 8
 5607 007c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 5608 007e 042B     		cmp	r3, #4
 5609 0080 27D1     		bne	.L383
2862:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, stay there */
2863:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2864:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fn[NSFLAG] = NS_NONAME;
2865:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;
2866:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2867:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
 5610              		.loc 1 2867 16
 5611 0082 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 5612 0084 03F00403 		and	r3, r3, #4
 5613              		.loc 1 2867 10
 5614 0088 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 150


 5615 008a 22D1     		bne	.L383
 5616              		.loc 1 2867 32 discriminator 1
 5617 008c 0523     		movs	r3, #5
 5618 008e FB75     		strb	r3, [r7, #23]
2868:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2869:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2870:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
 5619              		.loc 1 2870 5 discriminator 1
 5620 0090 1FE0     		b	.L383
 5621              	.L377:
2871:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2872:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
 5622              		.loc 1 2872 11
 5623 0092 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 5624 0094 03F00403 		and	r3, r3, #4
 5625              		.loc 1 2872 7
 5626 0098 002B     		cmp	r3, #0
 5627 009a 1CD1     		bne	.L384
2873:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
2874:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(obj->attr & AM_DIR)) {		/* It is not a sub-directory and cannot follow */
 5628              		.loc 1 2874 13
 5629 009c 3B69     		ldr	r3, [r7, #16]
 5630 009e 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 5631              		.loc 1 2874 20
 5632 00a0 03F01003 		and	r3, r3, #16
 5633              		.loc 1 2874 7
 5634 00a4 002B     		cmp	r3, #0
 5635 00a6 02D1     		bne	.L380
2875:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 5636              		.loc 1 2875 9
 5637 00a8 0523     		movs	r3, #5
 5638 00aa FB75     		strb	r3, [r7, #23]
 5639              		.loc 1 2875 5
 5640 00ac 14E0     		b	.L375
 5641              	.L380:
2876:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2877:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2878:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {		/* Save containing directory information for next dir */
2879:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_scl = obj->sclust;
2880:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
2881:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->c_ofs = dp->blk_ofs;
2882:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Open next directory */
2883:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
2884:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
2885:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
2886:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2887:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			{
2888:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->sclust = ld_clust(fs, fs->win + dp->dptr % SS(fs));	/* Open next directory */
 5642              		.loc 1 2888 32
 5643 00ae FB68     		ldr	r3, [r7, #12]
 5644 00b0 03F13402 		add	r2, r3, #52
 5645              		.loc 1 2888 44
 5646 00b4 7B68     		ldr	r3, [r7, #4]
 5647 00b6 1B69     		ldr	r3, [r3, #16]
 5648              		.loc 1 2888 51
 5649 00b8 C3F30803 		ubfx	r3, r3, #0, #9
 5650              		.loc 1 2888 19
ARM GAS  /tmp/cc5m2BsI.s 			page 151


 5651 00bc 1344     		add	r3, r3, r2
 5652 00be 1946     		mov	r1, r3
 5653 00c0 F868     		ldr	r0, [r7, #12]
 5654 00c2 FFF7FEFF 		bl	ld_clust
 5655 00c6 0246     		mov	r2, r0
 5656              		.loc 1 2888 17
 5657 00c8 3B69     		ldr	r3, [r7, #16]
 5658 00ca 9A60     		str	r2, [r3, #8]
2856:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 5659              		.loc 1 2856 8
 5660 00cc C0E7     		b	.L374
 5661              	.L382:
2857:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the segment name */
 5662              		.loc 1 2857 4
 5663 00ce 00BF     		nop
 5664 00d0 02E0     		b	.L375
 5665              	.L383:
2870:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5666              		.loc 1 2870 5
 5667 00d2 00BF     		nop
 5668 00d4 00E0     		b	.L375
 5669              	.L384:
2872:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get into the sub-directory */
 5670              		.loc 1 2872 4
 5671 00d6 00BF     		nop
 5672              	.L375:
2889:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2890:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2891:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2892:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2893:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 5673              		.loc 1 2893 9
 5674 00d8 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
2894:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 5675              		.loc 1 2894 1
 5676 00da 1846     		mov	r0, r3
 5677 00dc 1837     		adds	r7, r7, #24
 5678              		.cfi_def_cfa_offset 8
 5679 00de BD46     		mov	sp, r7
 5680              		.cfi_def_cfa_register 13
 5681              		@ sp needed
 5682 00e0 80BD     		pop	{r7, pc}
 5683              		.cfi_endproc
 5684              	.LFE353:
 5686              		.section	.text.get_ldnumber,"ax",%progbits
 5687              		.align	1
 5688              		.syntax unified
 5689              		.thumb
 5690              		.thumb_func
 5691              		.fpu fpv5-d16
 5693              	get_ldnumber:
 5694              	.LFB354:
2895:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2896:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2897:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2898:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2899:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc5m2BsI.s 			page 152


2900:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2901:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2902:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2903:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2904:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2905:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2906:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2907:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 5695              		.loc 1 2907 1
 5696              		.cfi_startproc
 5697              		@ args = 0, pretend = 0, frame = 24
 5698              		@ frame_needed = 1, uses_anonymous_args = 0
 5699              		@ link register save eliminated.
 5700 0000 80B4     		push	{r7}
 5701              		.cfi_def_cfa_offset 4
 5702              		.cfi_offset 7, -4
 5703 0002 87B0     		sub	sp, sp, #28
 5704              		.cfi_def_cfa_offset 32
 5705 0004 00AF     		add	r7, sp, #0
 5706              		.cfi_def_cfa_register 7
 5707 0006 7860     		str	r0, [r7, #4]
2908:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
2909:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2910:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 5708              		.loc 1 2910 6
 5709 0008 4FF0FF33 		mov	r3, #-1
 5710 000c 3B61     		str	r3, [r7, #16]
2911:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2912:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const volid[] = {_VOLUME_STRS};
2913:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2914:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2915:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2916:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2917:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2919:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 5711              		.loc 1 2919 6
 5712 000e 7B68     		ldr	r3, [r7, #4]
 5713 0010 1B68     		ldr	r3, [r3]
 5714              		.loc 1 2919 5
 5715 0012 002B     		cmp	r3, #0
 5716 0014 31D0     		beq	.L386
2920:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 5717              		.loc 1 2920 11
 5718 0016 7B68     		ldr	r3, [r7, #4]
 5719 0018 1B68     		ldr	r3, [r3]
 5720 001a 7B61     		str	r3, [r7, #20]
 5721              		.loc 1 2920 3
 5722 001c 02E0     		b	.L387
 5723              	.L389:
 5724              		.loc 1 2920 73 discriminator 4
 5725 001e 7B69     		ldr	r3, [r7, #20]
 5726 0020 0133     		adds	r3, r3, #1
 5727 0022 7B61     		str	r3, [r7, #20]
 5728              	.L387:
 5729              		.loc 1 2920 26 discriminator 1
 5730 0024 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/cc5m2BsI.s 			page 153


 5731 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5732              		.loc 1 2920 3 discriminator 1
 5733 0028 1F2B     		cmp	r3, #31
 5734 002a 03D9     		bls	.L388
 5735              		.loc 1 2920 59 discriminator 3
 5736 002c 7B69     		ldr	r3, [r7, #20]
 5737 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5738              		.loc 1 2920 56 discriminator 3
 5739 0030 3A2B     		cmp	r3, #58
 5740 0032 F4D1     		bne	.L389
 5741              	.L388:
2921:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 5742              		.loc 1 2921 7
 5743 0034 7B69     		ldr	r3, [r7, #20]
 5744 0036 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5745              		.loc 1 2921 6
 5746 0038 3A2B     		cmp	r3, #58
 5747 003a 1CD1     		bne	.L390
2922:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
 5748              		.loc 1 2922 7
 5749 003c 7B68     		ldr	r3, [r7, #4]
 5750 003e 1B68     		ldr	r3, [r3]
 5751 0040 FB60     		str	r3, [r7, #12]
2923:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0';
 5752              		.loc 1 2923 11
 5753 0042 FB68     		ldr	r3, [r7, #12]
 5754 0044 5A1C     		adds	r2, r3, #1
 5755 0046 FA60     		str	r2, [r7, #12]
 5756              		.loc 1 2923 8
 5757 0048 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 5758              		.loc 1 2923 14
 5759 004a 303B     		subs	r3, r3, #48
 5760              		.loc 1 2923 6
 5761 004c BB60     		str	r3, [r7, #8]
2924:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 5762              		.loc 1 2924 7
 5763 004e BB68     		ldr	r3, [r7, #8]
 5764 0050 092B     		cmp	r3, #9
 5765 0052 0ED8     		bhi	.L391
 5766              		.loc 1 2924 15 discriminator 1
 5767 0054 FA68     		ldr	r2, [r7, #12]
 5768 0056 7B69     		ldr	r3, [r7, #20]
 5769 0058 9A42     		cmp	r2, r3
 5770 005a 0AD1     		bne	.L391
2925:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 5771              		.loc 1 2925 8
 5772 005c BB68     		ldr	r3, [r7, #8]
 5773 005e 012B     		cmp	r3, #1
 5774 0060 07D8     		bhi	.L391
2926:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 5775              		.loc 1 2926 10
 5776 0062 BB68     		ldr	r3, [r7, #8]
 5777 0064 3B61     		str	r3, [r7, #16]
2927:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
 5778              		.loc 1 2927 12
 5779 0066 7B69     		ldr	r3, [r7, #20]
 5780 0068 0133     		adds	r3, r3, #1
ARM GAS  /tmp/cc5m2BsI.s 			page 154


 5781 006a 7B61     		str	r3, [r7, #20]
 5782 006c 7B68     		ldr	r3, [r7, #4]
 5783 006e 7A69     		ldr	r2, [r7, #20]
 5784 0070 1A60     		str	r2, [r3]
 5785              	.L391:
2928:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2929:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2930:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2931:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2932:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2933:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2934:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = volid[i]; tp = *path;
2935:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2936:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2937:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2938:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2939:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2940:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2941:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2942:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2943:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2944:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2945:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2946:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
 5786              		.loc 1 2946 11
 5787 0072 3B69     		ldr	r3, [r7, #16]
 5788 0074 02E0     		b	.L392
 5789              	.L390:
2947:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2948:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0 && _VOLUMES >= 2
2949:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2950:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
2951:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 5790              		.loc 1 2951 7
 5791 0076 0023     		movs	r3, #0
 5792 0078 3B61     		str	r3, [r7, #16]
 5793              	.L386:
2952:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2953:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2954:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
 5794              		.loc 1 2954 9
 5795 007a 3B69     		ldr	r3, [r7, #16]
 5796              	.L392:
2955:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 5797              		.loc 1 2955 1
 5798 007c 1846     		mov	r0, r3
 5799 007e 1C37     		adds	r7, r7, #28
 5800              		.cfi_def_cfa_offset 4
 5801 0080 BD46     		mov	sp, r7
 5802              		.cfi_def_cfa_register 13
 5803              		@ sp needed
 5804 0082 5DF8047B 		ldr	r7, [sp], #4
 5805              		.cfi_restore 7
 5806              		.cfi_def_cfa_offset 0
 5807 0086 7047     		bx	lr
 5808              		.cfi_endproc
 5809              	.LFE354:
ARM GAS  /tmp/cc5m2BsI.s 			page 155


 5811              		.section	.text.check_fs,"ax",%progbits
 5812              		.align	1
 5813              		.syntax unified
 5814              		.thumb
 5815              		.thumb_func
 5816              		.fpu fpv5-d16
 5818              	check_fs:
 5819              	.LFB355:
2956:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2957:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2958:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2959:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2961:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2962:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2963:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2964:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2965:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT, 1:exFAT, 2:Valid BS but not FAT, 3:Not a BS, 4:Disk error */
2966:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2967:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to load and check if it is an FAT-VBR or not */
2968:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2969:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 5820              		.loc 1 2969 1
 5821              		.cfi_startproc
 5822              		@ args = 0, pretend = 0, frame = 8
 5823              		@ frame_needed = 1, uses_anonymous_args = 0
 5824 0000 80B5     		push	{r7, lr}
 5825              		.cfi_def_cfa_offset 8
 5826              		.cfi_offset 7, -8
 5827              		.cfi_offset 14, -4
 5828 0002 82B0     		sub	sp, sp, #8
 5829              		.cfi_def_cfa_offset 16
 5830 0004 00AF     		add	r7, sp, #0
 5831              		.cfi_def_cfa_register 7
 5832 0006 7860     		str	r0, [r7, #4]
 5833 0008 3960     		str	r1, [r7]
2970:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;		/* Invaidate window */
 5834              		.loc 1 2970 12
 5835 000a 7B68     		ldr	r3, [r7, #4]
 5836 000c 0022     		movs	r2, #0
 5837 000e DA70     		strb	r2, [r3, #3]
 5838              		.loc 1 2970 29
 5839 0010 7B68     		ldr	r3, [r7, #4]
 5840 0012 4FF0FF32 		mov	r2, #-1
 5841 0016 1A63     		str	r2, [r3, #48]
2971:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK) return 4;	/* Load boot record */
 5842              		.loc 1 2971 6
 5843 0018 3968     		ldr	r1, [r7]
 5844 001a 7868     		ldr	r0, [r7, #4]
 5845 001c FFF7FEFF 		bl	move_window
 5846 0020 0346     		mov	r3, r0
 5847              		.loc 1 2971 5
 5848 0022 002B     		cmp	r3, #0
 5849 0024 01D0     		beq	.L394
 5850              		.loc 1 2971 45 discriminator 1
 5851 0026 0423     		movs	r3, #4
 5852 0028 38E0     		b	.L395
ARM GAS  /tmp/cc5m2BsI.s 			page 156


 5853              	.L394:
2972:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2973:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ld_word(fs->win + BS_55AA) != 0xAA55) return 3;	/* Check boot record signature (always placed 
 5854              		.loc 1 2973 14
 5855 002a 7B68     		ldr	r3, [r7, #4]
 5856 002c 3433     		adds	r3, r3, #52
 5857              		.loc 1 2973 6
 5858 002e 03F5FF73 		add	r3, r3, #510
 5859 0032 1846     		mov	r0, r3
 5860 0034 FFF7FEFF 		bl	ld_word
 5861 0038 0346     		mov	r3, r0
 5862 003a 1A46     		mov	r2, r3
 5863              		.loc 1 2973 5
 5864 003c 4AF65523 		movw	r3, #43605
 5865 0040 9A42     		cmp	r2, r3
 5866 0042 01D0     		beq	.L396
 5867              		.loc 1 2973 51 discriminator 1
 5868 0044 0323     		movs	r3, #3
 5869 0046 29E0     		b	.L395
 5870              	.L396:
2974:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->win[BS_JmpBoot] == 0xE9 || (fs->win[BS_JmpBoot] == 0xEB && fs->win[BS_JmpBoot + 2] == 0x90
 5871              		.loc 1 2975 13
 5872 0048 7B68     		ldr	r3, [r7, #4]
 5873 004a 93F83430 		ldrb	r3, [r3, #52]	@ zero_extendqisi2
 5874              		.loc 1 2975 5
 5875 004e E92B     		cmp	r3, #233
 5876 0050 09D0     		beq	.L397
 5877              		.loc 1 2975 45 discriminator 1
 5878 0052 7B68     		ldr	r3, [r7, #4]
 5879 0054 93F83430 		ldrb	r3, [r3, #52]	@ zero_extendqisi2
 5880              		.loc 1 2975 34 discriminator 1
 5881 0058 EB2B     		cmp	r3, #235
 5882 005a 1ED1     		bne	.L398
 5883              		.loc 1 2975 76 discriminator 2
 5884 005c 7B68     		ldr	r3, [r7, #4]
 5885 005e 93F83630 		ldrb	r3, [r3, #54]	@ zero_extendqisi2
 5886              		.loc 1 2975 66 discriminator 2
 5887 0062 902B     		cmp	r3, #144
 5888 0064 19D1     		bne	.L398
 5889              	.L397:
2976:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((ld_dword(fs->win + BS_FilSysType) & 0xFFFFFF) == 0x544146) return 0;	/* Check "FAT" string *
 5890              		.loc 1 2976 17
 5891 0066 7B68     		ldr	r3, [r7, #4]
 5892 0068 3433     		adds	r3, r3, #52
 5893              		.loc 1 2976 8
 5894 006a 3633     		adds	r3, r3, #54
 5895 006c 1846     		mov	r0, r3
 5896 006e FFF7FEFF 		bl	ld_dword
 5897 0072 0346     		mov	r3, r0
 5898              		.loc 1 2976 42
 5899 0074 23F07F43 		bic	r3, r3, #-16777216
 5900              		.loc 1 2976 6
 5901 0078 0A4A     		ldr	r2, .L400
 5902 007a 9342     		cmp	r3, r2
 5903 007c 01D1     		bne	.L399
 5904              		.loc 1 2976 74 discriminator 1
ARM GAS  /tmp/cc5m2BsI.s 			page 157


 5905 007e 0023     		movs	r3, #0
 5906 0080 0CE0     		b	.L395
 5907              	.L399:
2977:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_dword(fs->win + BS_FilSysType32) == 0x33544146) return 0;			/* Check "FAT3" string */
 5908              		.loc 1 2977 16
 5909 0082 7B68     		ldr	r3, [r7, #4]
 5910 0084 3433     		adds	r3, r3, #52
 5911              		.loc 1 2977 7
 5912 0086 5233     		adds	r3, r3, #82
 5913 0088 1846     		mov	r0, r3
 5914 008a FFF7FEFF 		bl	ld_dword
 5915 008e 0346     		mov	r3, r0
 5916              		.loc 1 2977 6
 5917 0090 054A     		ldr	r2, .L400+4
 5918 0092 9342     		cmp	r3, r2
 5919 0094 01D1     		bne	.L398
 5920              		.loc 1 2977 65 discriminator 1
 5921 0096 0023     		movs	r3, #0
 5922 0098 00E0     		b	.L395
 5923              	.L398:
2978:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2979:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
2980:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!mem_cmp(fs->win + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11)) return 1;
2981:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2982:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return 2;
 5924              		.loc 1 2982 9
 5925 009a 0223     		movs	r3, #2
 5926              	.L395:
2983:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 5927              		.loc 1 2983 1
 5928 009c 1846     		mov	r0, r3
 5929 009e 0837     		adds	r7, r7, #8
 5930              		.cfi_def_cfa_offset 8
 5931 00a0 BD46     		mov	sp, r7
 5932              		.cfi_def_cfa_register 13
 5933              		@ sp needed
 5934 00a2 80BD     		pop	{r7, pc}
 5935              	.L401:
 5936              		.align	2
 5937              	.L400:
 5938 00a4 46415400 		.word	5521734
 5939 00a8 46415433 		.word	861159750
 5940              		.cfi_endproc
 5941              	.LFE355:
 5943              		.section	.text.find_volume,"ax",%progbits
 5944              		.align	1
 5945              		.syntax unified
 5946              		.thumb
 5947              		.thumb_func
 5948              		.fpu fpv5-d16
 5950              	find_volume:
 5951              	.LFB356:
2984:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2987:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2988:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc5m2BsI.s 			page 158


2989:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2990:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2991:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
2992:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
2993:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2994:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2995:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2996:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* !=0: Check write protection for write access */
2997:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
2998:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 5952              		.loc 1 2998 1
 5953              		.cfi_startproc
 5954              		@ args = 0, pretend = 0, frame = 88
 5955              		@ frame_needed = 1, uses_anonymous_args = 0
 5956 0000 80B5     		push	{r7, lr}
 5957              		.cfi_def_cfa_offset 8
 5958              		.cfi_offset 7, -8
 5959              		.cfi_offset 14, -4
 5960 0002 96B0     		sub	sp, sp, #88
 5961              		.cfi_def_cfa_offset 96
 5962 0004 00AF     		add	r7, sp, #0
 5963              		.cfi_def_cfa_register 7
 5964 0006 F860     		str	r0, [r7, #12]
 5965 0008 B960     		str	r1, [r7, #8]
 5966 000a 1346     		mov	r3, r2
 5967 000c FB71     		strb	r3, [r7, #7]
2999:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
3000:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3001:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
3002:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
3003:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
3004:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3005:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3006:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3007:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3008:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3009:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
 5968              		.loc 1 3009 7
 5969 000e BB68     		ldr	r3, [r7, #8]
 5970 0010 0022     		movs	r2, #0
 5971 0012 1A60     		str	r2, [r3]
3010:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 5972              		.loc 1 3010 8
 5973 0014 F868     		ldr	r0, [r7, #12]
 5974 0016 FFF7FEFF 		bl	get_ldnumber
 5975 001a F863     		str	r0, [r7, #60]
3011:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5976              		.loc 1 3011 5
 5977 001c FB6B     		ldr	r3, [r7, #60]
 5978 001e 002B     		cmp	r3, #0
 5979 0020 01DA     		bge	.L403
 5980              		.loc 1 3011 22 discriminator 1
 5981 0022 0B23     		movs	r3, #11
 5982 0024 2FE2     		b	.L442
 5983              	.L403:
3012:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3013:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
ARM GAS  /tmp/cc5m2BsI.s 			page 159


3014:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
 5984              		.loc 1 3014 5
 5985 0026 A24A     		ldr	r2, .L443
 5986 0028 FB6B     		ldr	r3, [r7, #60]
 5987 002a 52F82330 		ldr	r3, [r2, r3, lsl #2]
 5988 002e BB63     		str	r3, [r7, #56]
3015:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 5989              		.loc 1 3015 5
 5990 0030 BB6B     		ldr	r3, [r7, #56]
 5991 0032 002B     		cmp	r3, #0
 5992 0034 01D1     		bne	.L405
 5993              		.loc 1 3015 18 discriminator 1
 5994 0036 0C23     		movs	r3, #12
 5995 0038 25E2     		b	.L442
 5996              	.L405:
3016:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
3018:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
 5997              		.loc 1 3018 7
 5998 003a BB68     		ldr	r3, [r7, #8]
 5999 003c BA6B     		ldr	r2, [r7, #56]
 6000 003e 1A60     		str	r2, [r3]
3019:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3020:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= (BYTE)~FA_READ;				/* Desired access mode, write access or not */
 6001              		.loc 1 3020 7
 6002 0040 FB79     		ldrb	r3, [r7, #7]
 6003 0042 23F00103 		bic	r3, r3, #1
 6004 0046 FB71     		strb	r3, [r7, #7]
3021:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
 6005              		.loc 1 3021 8
 6006 0048 BB6B     		ldr	r3, [r7, #56]
 6007 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 6008              		.loc 1 3021 5
 6009 004c 002B     		cmp	r3, #0
 6010 004e 1AD0     		beq	.L406
3022:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 6011              		.loc 1 3022 10
 6012 0050 BB6B     		ldr	r3, [r7, #56]
 6013 0052 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6014 0054 1846     		mov	r0, r3
 6015 0056 FFF7FEFF 		bl	disk_status
 6016 005a 0346     		mov	r3, r0
 6017 005c 87F83730 		strb	r3, [r7, #55]
3023:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 6018              		.loc 1 3023 14
 6019 0060 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 6020 0064 03F00103 		and	r3, r3, #1
 6021              		.loc 1 3023 6
 6022 0068 002B     		cmp	r3, #0
 6023 006a 0CD1     		bne	.L406
3024:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && mode && (stat & STA_PROTECT)) {	/* Check write protection if needed */
 6024              		.loc 1 3024 7
 6025 006c FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6026 006e 002B     		cmp	r3, #0
 6027 0070 07D0     		beq	.L407
 6028              		.loc 1 3024 39 discriminator 1
 6029 0072 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 160


 6030 0076 03F00403 		and	r3, r3, #4
 6031              		.loc 1 3024 30 discriminator 1
 6032 007a 002B     		cmp	r3, #0
 6033 007c 01D0     		beq	.L407
3025:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 6034              		.loc 1 3025 12
 6035 007e 0A23     		movs	r3, #10
 6036 0080 01E2     		b	.L442
 6037              	.L407:
3026:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3027:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
 6038              		.loc 1 3027 11
 6039 0082 0023     		movs	r3, #0
 6040 0084 FFE1     		b	.L442
 6041              	.L406:
3028:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3029:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3030:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3031:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
3032:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
3033:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3034:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
 6042              		.loc 1 3034 14
 6043 0086 BB6B     		ldr	r3, [r7, #56]
 6044 0088 0022     		movs	r2, #0
 6045 008a 1A70     		strb	r2, [r3]
3035:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 6046              		.loc 1 3035 12
 6047 008c FB6B     		ldr	r3, [r7, #60]
 6048 008e DAB2     		uxtb	r2, r3
 6049              		.loc 1 3035 10
 6050 0090 BB6B     		ldr	r3, [r7, #56]
 6051 0092 5A70     		strb	r2, [r3, #1]
3036:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 6052              		.loc 1 3036 9
 6053 0094 BB6B     		ldr	r3, [r7, #56]
 6054 0096 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6055 0098 1846     		mov	r0, r3
 6056 009a FFF7FEFF 		bl	disk_initialize
 6057 009e 0346     		mov	r3, r0
 6058 00a0 87F83730 		strb	r3, [r7, #55]
3037:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) { 			/* Check if the initialization succeeded */
 6059              		.loc 1 3037 11
 6060 00a4 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 6061 00a8 03F00103 		and	r3, r3, #1
 6062              		.loc 1 3037 5
 6063 00ac 002B     		cmp	r3, #0
 6064 00ae 01D0     		beq	.L408
3038:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 6065              		.loc 1 3038 10
 6066 00b0 0323     		movs	r3, #3
 6067 00b2 E8E1     		b	.L442
 6068              	.L408:
3039:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3040:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && mode && (stat & STA_PROTECT)) { /* Check disk write protection if needed */
 6069              		.loc 1 3040 5
 6070 00b4 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 161


 6071 00b6 002B     		cmp	r3, #0
 6072 00b8 07D0     		beq	.L409
 6073              		.loc 1 3040 37 discriminator 1
 6074 00ba 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 6075 00be 03F00403 		and	r3, r3, #4
 6076              		.loc 1 3040 28 discriminator 1
 6077 00c2 002B     		cmp	r3, #0
 6078 00c4 01D0     		beq	.L409
3041:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 6079              		.loc 1 3041 10
 6080 00c6 0A23     		movs	r3, #10
 6081 00c8 DDE1     		b	.L442
 6082              	.L409:
3042:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3043:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS					/* Get sector size (multiple sector size cfg only) */
3044:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK) return FR_DISK_ERR;
3045:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (SS(fs) > _MAX_SS || SS(fs) < _MIN_SS || (SS(fs) & (SS(fs) - 1))) return FR_DISK_ERR;
3046:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3047:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3048:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning rules, FDISK and SFD. */
3049:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
 6083              		.loc 1 3049 8
 6084 00ca 0023     		movs	r3, #0
 6085 00cc 3B65     		str	r3, [r7, #80]
3050:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);			/* Load sector 0 and check if it is an FAT-VBR as SFD */
 6086              		.loc 1 3050 8
 6087 00ce 396D     		ldr	r1, [r7, #80]
 6088 00d0 B86B     		ldr	r0, [r7, #56]
 6089 00d2 FFF7FEFF 		bl	check_fs
 6090 00d6 0346     		mov	r3, r0
 6091 00d8 87F85730 		strb	r3, [r7, #87]
3051:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 2 || (fmt < 2 && LD2PT(vol) != 0)) {	/* Not an FAT-VBR or forced partition number */
 6092              		.loc 1 3051 5
 6093 00dc 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 6094 00e0 022B     		cmp	r3, #2
 6095 00e2 4BD1     		bne	.L410
3052:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 6096              		.loc 1 3052 10
 6097 00e4 0023     		movs	r3, #0
 6098 00e6 3B64     		str	r3, [r7, #64]
 6099              		.loc 1 3052 3
 6100 00e8 1FE0     		b	.L411
 6101              	.L414:
3053:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win + (MBR_Table + i * SZ_PTE);
 6102              		.loc 1 3053 9
 6103 00ea BB6B     		ldr	r3, [r7, #56]
 6104 00ec 03F13402 		add	r2, r3, #52
 6105              		.loc 1 3053 34
 6106 00f0 3B6C     		ldr	r3, [r7, #64]
 6107 00f2 1B01     		lsls	r3, r3, #4
 6108              		.loc 1 3053 30
 6109 00f4 03F5DF73 		add	r3, r3, #446
 6110              		.loc 1 3053 7
 6111 00f8 1344     		add	r3, r3, r2
 6112 00fa 3B63     		str	r3, [r7, #48]
3054:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[PTE_System] ? ld_dword(pt + PTE_StLba) : 0;
 6113              		.loc 1 3054 14
ARM GAS  /tmp/cc5m2BsI.s 			page 162


 6114 00fc 3B6B     		ldr	r3, [r7, #48]
 6115 00fe 0433     		adds	r3, r3, #4
 6116 0100 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 6117              		.loc 1 3054 54
 6118 0102 002B     		cmp	r3, #0
 6119 0104 06D0     		beq	.L412
 6120              		.loc 1 3054 41 discriminator 1
 6121 0106 3B6B     		ldr	r3, [r7, #48]
 6122 0108 0833     		adds	r3, r3, #8
 6123              		.loc 1 3054 29 discriminator 1
 6124 010a 1846     		mov	r0, r3
 6125 010c FFF7FEFF 		bl	ld_dword
 6126 0110 0246     		mov	r2, r0
 6127 0112 00E0     		b	.L413
 6128              	.L412:
 6129              		.loc 1 3054 54 discriminator 2
 6130 0114 0022     		movs	r2, #0
 6131              	.L413:
 6132              		.loc 1 3054 10 discriminator 4
 6133 0116 3B6C     		ldr	r3, [r7, #64]
 6134 0118 9B00     		lsls	r3, r3, #2
 6135 011a 07F15801 		add	r1, r7, #88
 6136 011e 0B44     		add	r3, r3, r1
 6137 0120 43F8442C 		str	r2, [r3, #-68]
3052:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 6138              		.loc 1 3052 23 discriminator 4
 6139 0124 3B6C     		ldr	r3, [r7, #64]
 6140 0126 0133     		adds	r3, r3, #1
 6141 0128 3B64     		str	r3, [r7, #64]
 6142              	.L411:
3052:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {		/* Get partition offset */
 6143              		.loc 1 3052 3 discriminator 2
 6144 012a 3B6C     		ldr	r3, [r7, #64]
 6145 012c 032B     		cmp	r3, #3
 6146 012e DCD9     		bls	.L414
3055:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3056:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);					/* Partition number: 0:auto, 1-4:forced */
 6147              		.loc 1 3056 5
 6148 0130 0023     		movs	r3, #0
 6149 0132 3B64     		str	r3, [r7, #64]
3057:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
 6150              		.loc 1 3057 6
 6151 0134 3B6C     		ldr	r3, [r7, #64]
 6152 0136 002B     		cmp	r3, #0
 6153 0138 02D0     		beq	.L418
 6154              		.loc 1 3057 11 discriminator 1
 6155 013a 3B6C     		ldr	r3, [r7, #64]
 6156 013c 013B     		subs	r3, r3, #1
 6157 013e 3B64     		str	r3, [r7, #64]
 6158              	.L418:
3058:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {							/* Find an FAT volume */
3059:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 6159              		.loc 1 3059 10
 6160 0140 3B6C     		ldr	r3, [r7, #64]
 6161 0142 9B00     		lsls	r3, r3, #2
 6162 0144 07F15802 		add	r2, r7, #88
 6163 0148 1344     		add	r3, r3, r2
ARM GAS  /tmp/cc5m2BsI.s 			page 163


 6164 014a 53F8443C 		ldr	r3, [r3, #-68]
 6165 014e 3B65     		str	r3, [r7, #80]
3060:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 3;	/* Check the partition */
 6166              		.loc 1 3060 8
 6167 0150 3B6D     		ldr	r3, [r7, #80]
 6168 0152 002B     		cmp	r3, #0
 6169 0154 05D0     		beq	.L416
 6170              		.loc 1 3060 18 discriminator 1
 6171 0156 396D     		ldr	r1, [r7, #80]
 6172 0158 B86B     		ldr	r0, [r7, #56]
 6173 015a FFF7FEFF 		bl	check_fs
 6174 015e 0346     		mov	r3, r0
 6175 0160 00E0     		b	.L417
 6176              	.L416:
 6177              		.loc 1 3060 8 discriminator 2
 6178 0162 0323     		movs	r3, #3
 6179              	.L417:
 6180              		.loc 1 3060 8 is_stmt 0 discriminator 4
 6181 0164 87F85730 		strb	r3, [r7, #87]
3061:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (LD2PT(vol) == 0 && fmt >= 2 && ++i < 4);
 6182              		.loc 1 3061 3 is_stmt 1 discriminator 4
 6183 0168 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 6184 016c 012B     		cmp	r3, #1
 6185 016e 05D9     		bls	.L410
 6186              		.loc 1 3061 40 discriminator 1
 6187 0170 3B6C     		ldr	r3, [r7, #64]
 6188 0172 0133     		adds	r3, r3, #1
 6189 0174 3B64     		str	r3, [r7, #64]
 6190 0176 3B6C     		ldr	r3, [r7, #64]
 6191 0178 032B     		cmp	r3, #3
 6192 017a E1D9     		bls	.L418
 6193              	.L410:
3062:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3063:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 4) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
 6194              		.loc 1 3063 5
 6195 017c 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 6196 0180 042B     		cmp	r3, #4
 6197 0182 01D1     		bne	.L419
 6198              		.loc 1 3063 23 discriminator 1
 6199 0184 0123     		movs	r3, #1
 6200 0186 7EE1     		b	.L442
 6201              	.L419:
3064:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt >= 2) return FR_NO_FILESYSTEM;	/* No FAT volume is found */
 6202              		.loc 1 3064 5
 6203 0188 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 6204 018c 012B     		cmp	r3, #1
 6205 018e 01D9     		bls	.L420
 6206              		.loc 1 3064 23 discriminator 1
 6207 0190 0D23     		movs	r3, #13
 6208 0192 78E1     		b	.L442
 6209              	.L420:
3065:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3066:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found (bsect). Following code initializes the file system object */
3067:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3068:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3069:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1) {
3070:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		QWORD maxlba;
ARM GAS  /tmp/cc5m2BsI.s 			page 164


3071:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3072:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = BPB_ZeroedEx; i < BPB_ZeroedEx + 53 && fs->win[i] == 0; i++) ;	/* Check zero filler */
3073:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i < BPB_ZeroedEx + 53) return FR_NO_FILESYSTEM;
3074:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3075:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_FSVerEx) != 0x100) return FR_NO_FILESYSTEM;	/* Check exFAT revision (Mu
3076:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3077:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (1 << fs->win[BPB_BytsPerSecEx] != SS(fs)) {	/* (BPB_BytsPerSecEx must be equal to the physica
3078:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_NO_FILESYSTEM;
3079:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3080:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3081:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		maxlba = ld_qword(fs->win + BPB_TotSecEx) + bsect;	/* Last LBA + 1 of the volume */
3082:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba >= 0x100000000) return FR_NO_FILESYSTEM;	/* (It cannot be handled in 32-bit LBA) */
3083:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3084:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = ld_dword(fs->win + BPB_FatSzEx);	/* Number of sectors per FAT */
3085:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3086:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATsEx];			/* Number of FATs */
3087:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1) return FR_NO_FILESYSTEM;	/* (Supports only 1 FAT) */
3088:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3089:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = 1 << fs->win[BPB_SecPerClusEx];		/* Cluster size */
3090:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0)	return FR_NO_FILESYSTEM;	/* (Must be 1..32768) */
3091:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3092:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = ld_dword(fs->win + BPB_NumClusEx);		/* Number of clusters */
3093:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst > MAX_EXFAT) return FR_NO_FILESYSTEM;	/* (Too many clusters) */
3094:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;
3095:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3097:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;
3098:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + ld_dword(fs->win + BPB_DataOfsEx);
3099:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + ld_dword(fs->win + BPB_FatOfsEx);
3100:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (maxlba < (QWORD)fs->database + nclst * fs->csize) return FR_NO_FILESYSTEM;	/* (Volume size mu
3101:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = ld_dword(fs->win + BPB_RootClusEx);
3102:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3103:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Check if bitmap location is in assumption (at the first cluster) */
3104:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, clust2sect(fs, fs->dirbase)) != FR_OK) return FR_DISK_ERR;
3105:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < SS(fs); i += SZDIRE) {
3106:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->win[i] == 0x81 && ld_dword(fs->win + i + 20) == 2) break;	/* 81 entry with cluster #2? *
3107:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3108:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == SS(fs)) return FR_NO_FILESYSTEM;
3109:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3110:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
3111:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_EXFAT;			/* FAT sub-type */
3113:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
3114:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
3115:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3116:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(fs->win + BPB_BytsPerSec) != SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_BytsPerSec must
 6210              		.loc 1 3116 15
 6211 0194 BB6B     		ldr	r3, [r7, #56]
 6212 0196 3433     		adds	r3, r3, #52
 6213              		.loc 1 3116 7
 6214 0198 0B33     		adds	r3, r3, #11
 6215 019a 1846     		mov	r0, r3
 6216 019c FFF7FEFF 		bl	ld_word
 6217 01a0 0346     		mov	r3, r0
 6218              		.loc 1 3116 6
 6219 01a2 B3F5007F 		cmp	r3, #512
 6220 01a6 01D0     		beq	.L421
ARM GAS  /tmp/cc5m2BsI.s 			page 165


 6221              		.loc 1 3116 59 discriminator 1
 6222 01a8 0D23     		movs	r3, #13
 6223 01aa 6CE1     		b	.L442
 6224              	.L421:
3117:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3118:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize = ld_word(fs->win + BPB_FATSz16);		/* Number of sectors per FAT */
 6225              		.loc 1 3118 20
 6226 01ac BB6B     		ldr	r3, [r7, #56]
 6227 01ae 3433     		adds	r3, r3, #52
 6228              		.loc 1 3118 12
 6229 01b0 1633     		adds	r3, r3, #22
 6230 01b2 1846     		mov	r0, r3
 6231 01b4 FFF7FEFF 		bl	ld_word
 6232 01b8 0346     		mov	r3, r0
 6233              		.loc 1 3118 10
 6234 01ba FB64     		str	r3, [r7, #76]
3119:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fasize == 0) fasize = ld_dword(fs->win + BPB_FATSz32);
 6235              		.loc 1 3119 6
 6236 01bc FB6C     		ldr	r3, [r7, #76]
 6237 01be 002B     		cmp	r3, #0
 6238 01c0 06D1     		bne	.L422
 6239              		.loc 1 3119 38 discriminator 1
 6240 01c2 BB6B     		ldr	r3, [r7, #56]
 6241 01c4 3433     		adds	r3, r3, #52
 6242              		.loc 1 3119 29 discriminator 1
 6243 01c6 2433     		adds	r3, r3, #36
 6244 01c8 1846     		mov	r0, r3
 6245 01ca FFF7FEFF 		bl	ld_dword
 6246 01ce F864     		str	r0, [r7, #76]
 6247              	.L422:
3120:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsize = fasize;
 6248              		.loc 1 3120 13
 6249 01d0 BB6B     		ldr	r3, [r7, #56]
 6250 01d2 FA6C     		ldr	r2, [r7, #76]
 6251 01d4 DA61     		str	r2, [r3, #28]
3121:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3122:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fats = fs->win[BPB_NumFATs];				/* Number of FATs */
 6252              		.loc 1 3122 23
 6253 01d6 BB6B     		ldr	r3, [r7, #56]
 6254 01d8 93F84420 		ldrb	r2, [r3, #68]	@ zero_extendqisi2
 6255              		.loc 1 3122 14
 6256 01dc BB6B     		ldr	r3, [r7, #56]
 6257 01de 9A70     		strb	r2, [r3, #2]
3123:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_fats != 1 && fs->n_fats != 2) return FR_NO_FILESYSTEM;	/* (Must be 1 or 2) */
 6258              		.loc 1 3123 9
 6259 01e0 BB6B     		ldr	r3, [r7, #56]
 6260 01e2 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 6261              		.loc 1 3123 6
 6262 01e4 012B     		cmp	r3, #1
 6263 01e6 05D0     		beq	.L423
 6264              		.loc 1 3123 28 discriminator 1
 6265 01e8 BB6B     		ldr	r3, [r7, #56]
 6266 01ea 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 6267              		.loc 1 3123 23 discriminator 1
 6268 01ec 022B     		cmp	r3, #2
 6269 01ee 01D0     		beq	.L423
 6270              		.loc 1 3123 50 discriminator 2
ARM GAS  /tmp/cc5m2BsI.s 			page 166


 6271 01f0 0D23     		movs	r3, #13
 6272 01f2 48E1     		b	.L442
 6273              	.L423:
3124:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fasize *= fs->n_fats;							/* Number of sectors for FAT area */
 6274              		.loc 1 3124 15
 6275 01f4 BB6B     		ldr	r3, [r7, #56]
 6276 01f6 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 6277 01f8 1A46     		mov	r2, r3
 6278              		.loc 1 3124 10
 6279 01fa FB6C     		ldr	r3, [r7, #76]
 6280 01fc 02FB03F3 		mul	r3, r2, r3
 6281 0200 FB64     		str	r3, [r7, #76]
3125:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3126:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->csize = fs->win[BPB_SecPerClus];			/* Cluster size */
 6282              		.loc 1 3126 22
 6283 0202 BB6B     		ldr	r3, [r7, #56]
 6284 0204 93F84130 		ldrb	r3, [r3, #65]	@ zero_extendqisi2
 6285 0208 9AB2     		uxth	r2, r3
 6286              		.loc 1 3126 13
 6287 020a BB6B     		ldr	r3, [r7, #56]
 6288 020c 5A81     		strh	r2, [r3, #10]	@ movhi
3127:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->csize == 0 || (fs->csize & (fs->csize - 1))) return FR_NO_FILESYSTEM;	/* (Must be power o
 6289              		.loc 1 3127 9
 6290 020e BB6B     		ldr	r3, [r7, #56]
 6291 0210 5B89     		ldrh	r3, [r3, #10]
 6292              		.loc 1 3127 6
 6293 0212 002B     		cmp	r3, #0
 6294 0214 08D0     		beq	.L424
 6295              		.loc 1 3127 28 discriminator 2
 6296 0216 BB6B     		ldr	r3, [r7, #56]
 6297 0218 5B89     		ldrh	r3, [r3, #10]
 6298 021a 1A46     		mov	r2, r3
 6299              		.loc 1 3127 41 discriminator 2
 6300 021c BB6B     		ldr	r3, [r7, #56]
 6301 021e 5B89     		ldrh	r3, [r3, #10]
 6302              		.loc 1 3127 49 discriminator 2
 6303 0220 013B     		subs	r3, r3, #1
 6304              		.loc 1 3127 36 discriminator 2
 6305 0222 1340     		ands	r3, r3, r2
 6306              		.loc 1 3127 22 discriminator 2
 6307 0224 002B     		cmp	r3, #0
 6308 0226 01D0     		beq	.L425
 6309              	.L424:
 6310              		.loc 1 3127 63 discriminator 3
 6311 0228 0D23     		movs	r3, #13
 6312 022a 2CE1     		b	.L442
 6313              	.L425:
3128:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3129:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_rootdir = ld_word(fs->win + BPB_RootEntCnt);	/* Number of root directory entries */
 6314              		.loc 1 3129 27
 6315 022c BB6B     		ldr	r3, [r7, #56]
 6316 022e 3433     		adds	r3, r3, #52
 6317              		.loc 1 3129 19
 6318 0230 1133     		adds	r3, r3, #17
 6319 0232 1846     		mov	r0, r3
 6320 0234 FFF7FEFF 		bl	ld_word
 6321 0238 0346     		mov	r3, r0
ARM GAS  /tmp/cc5m2BsI.s 			page 167


 6322 023a 1A46     		mov	r2, r3
 6323              		.loc 1 3129 17
 6324 023c BB6B     		ldr	r3, [r7, #56]
 6325 023e 1A81     		strh	r2, [r3, #8]	@ movhi
3130:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir % (SS(fs) / SZDIRE)) return FR_NO_FILESYSTEM;	/* (Must be sector aligned) */
 6326              		.loc 1 3130 9
 6327 0240 BB6B     		ldr	r3, [r7, #56]
 6328 0242 1B89     		ldrh	r3, [r3, #8]
 6329              		.loc 1 3130 7
 6330 0244 03F00F03 		and	r3, r3, #15
 6331 0248 9BB2     		uxth	r3, r3
 6332              		.loc 1 3130 6
 6333 024a 002B     		cmp	r3, #0
 6334 024c 01D0     		beq	.L426
 6335              		.loc 1 3130 49 discriminator 1
 6336 024e 0D23     		movs	r3, #13
 6337 0250 19E1     		b	.L442
 6338              	.L426:
3131:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3132:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		tsect = ld_word(fs->win + BPB_TotSec16);		/* Number of sectors on the volume */
 6339              		.loc 1 3132 19
 6340 0252 BB6B     		ldr	r3, [r7, #56]
 6341 0254 3433     		adds	r3, r3, #52
 6342              		.loc 1 3132 11
 6343 0256 1333     		adds	r3, r3, #19
 6344 0258 1846     		mov	r0, r3
 6345 025a FFF7FEFF 		bl	ld_word
 6346 025e 0346     		mov	r3, r0
 6347              		.loc 1 3132 9
 6348 0260 BB64     		str	r3, [r7, #72]
3133:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect == 0) tsect = ld_dword(fs->win + BPB_TotSec32);
 6349              		.loc 1 3133 6
 6350 0262 BB6C     		ldr	r3, [r7, #72]
 6351 0264 002B     		cmp	r3, #0
 6352 0266 06D1     		bne	.L427
 6353              		.loc 1 3133 36 discriminator 1
 6354 0268 BB6B     		ldr	r3, [r7, #56]
 6355 026a 3433     		adds	r3, r3, #52
 6356              		.loc 1 3133 27 discriminator 1
 6357 026c 2033     		adds	r3, r3, #32
 6358 026e 1846     		mov	r0, r3
 6359 0270 FFF7FEFF 		bl	ld_dword
 6360 0274 B864     		str	r0, [r7, #72]
 6361              	.L427:
3134:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3135:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		nrsv = ld_word(fs->win + BPB_RsvdSecCnt);		/* Number of reserved sectors */
 6362              		.loc 1 3135 18
 6363 0276 BB6B     		ldr	r3, [r7, #56]
 6364 0278 3433     		adds	r3, r3, #52
 6365              		.loc 1 3135 10
 6366 027a 0E33     		adds	r3, r3, #14
 6367 027c 1846     		mov	r0, r3
 6368 027e FFF7FEFF 		bl	ld_word
 6369 0282 0346     		mov	r3, r0
 6370 0284 FB85     		strh	r3, [r7, #46]	@ movhi
3136:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nrsv == 0) return FR_NO_FILESYSTEM;			/* (Must not be 0) */
 6371              		.loc 1 3136 6
ARM GAS  /tmp/cc5m2BsI.s 			page 168


 6372 0286 FB8D     		ldrh	r3, [r7, #46]
 6373 0288 002B     		cmp	r3, #0
 6374 028a 01D1     		bne	.L428
 6375              		.loc 1 3136 25 discriminator 1
 6376 028c 0D23     		movs	r3, #13
 6377 028e FAE0     		b	.L442
 6378              	.L428:
3137:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3138:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine the FAT sub type */
3139:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZDIRE);	/* RSV + FAT + DIR */
 6379              		.loc 1 3139 17
 6380 0290 FA8D     		ldrh	r2, [r7, #46]
 6381 0292 FB6C     		ldr	r3, [r7, #76]
 6382 0294 1344     		add	r3, r3, r2
 6383              		.loc 1 3139 30
 6384 0296 BA6B     		ldr	r2, [r7, #56]
 6385 0298 1289     		ldrh	r2, [r2, #8]
 6386              		.loc 1 3139 42
 6387 029a 1209     		lsrs	r2, r2, #4
 6388 029c 92B2     		uxth	r2, r2
 6389              		.loc 1 3139 10
 6390 029e 1344     		add	r3, r3, r2
 6391 02a0 BB62     		str	r3, [r7, #40]
3140:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (tsect < sysect) return FR_NO_FILESYSTEM;	/* (Invalid volume size) */
 6392              		.loc 1 3140 6
 6393 02a2 BA6C     		ldr	r2, [r7, #72]
 6394 02a4 BB6A     		ldr	r3, [r7, #40]
 6395 02a6 9A42     		cmp	r2, r3
 6396 02a8 04D2     		bcs	.L429
 6397              		.loc 1 3140 30 discriminator 1
 6398 02aa 0D23     		movs	r3, #13
 6399 02ac EBE0     		b	.L442
 6400              	.L444:
 6401 02ae 00BF     		.align	2
 6402              	.L443:
 6403 02b0 00000000 		.word	FatFs
 6404              	.L429:
3141:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		nclst = (tsect - sysect) / fs->csize;			/* Number of clusters */
 6405              		.loc 1 3141 18
 6406 02b4 BA6C     		ldr	r2, [r7, #72]
 6407 02b6 BB6A     		ldr	r3, [r7, #40]
 6408 02b8 D31A     		subs	r3, r2, r3
 6409              		.loc 1 3141 32
 6410 02ba BA6B     		ldr	r2, [r7, #56]
 6411 02bc 5289     		ldrh	r2, [r2, #10]
 6412              		.loc 1 3141 9
 6413 02be B3FBF2F3 		udiv	r3, r3, r2
 6414 02c2 7B62     		str	r3, [r7, #36]
3142:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst == 0) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 6415              		.loc 1 3142 6
 6416 02c4 7B6A     		ldr	r3, [r7, #36]
 6417 02c6 002B     		cmp	r3, #0
 6418 02c8 01D1     		bne	.L430
 6419              		.loc 1 3142 26 discriminator 1
 6420 02ca 0D23     		movs	r3, #13
 6421 02cc DBE0     		b	.L442
 6422              	.L430:
ARM GAS  /tmp/cc5m2BsI.s 			page 169


3143:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT32;
 6423              		.loc 1 3143 7
 6424 02ce 0323     		movs	r3, #3
 6425 02d0 87F85730 		strb	r3, [r7, #87]
3144:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT16) fmt = FS_FAT16;
 6426              		.loc 1 3144 6
 6427 02d4 7B6A     		ldr	r3, [r7, #36]
 6428 02d6 4FF6F572 		movw	r2, #65525
 6429 02da 9342     		cmp	r3, r2
 6430 02dc 02D8     		bhi	.L431
 6431              		.loc 1 3144 31 discriminator 1
 6432 02de 0223     		movs	r3, #2
 6433 02e0 87F85730 		strb	r3, [r7, #87]
 6434              	.L431:
3145:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (nclst <= MAX_FAT12) fmt = FS_FAT12;
 6435              		.loc 1 3145 6
 6436 02e4 7B6A     		ldr	r3, [r7, #36]
 6437 02e6 40F6F572 		movw	r2, #4085
 6438 02ea 9342     		cmp	r3, r2
 6439 02ec 02D8     		bhi	.L432
 6440              		.loc 1 3145 31 discriminator 1
 6441 02ee 0123     		movs	r3, #1
 6442 02f0 87F85730 		strb	r3, [r7, #87]
 6443              	.L432:
3146:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3147:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Boundaries and Limits */
3148:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->n_fatent = nclst + 2;						/* Number of FAT entries */
 6444              		.loc 1 3148 24
 6445 02f4 7B6A     		ldr	r3, [r7, #36]
 6446 02f6 9A1C     		adds	r2, r3, #2
 6447              		.loc 1 3148 16
 6448 02f8 BB6B     		ldr	r3, [r7, #56]
 6449 02fa 9A61     		str	r2, [r3, #24]
3149:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->volbase = bsect;							/* Volume start sector */
 6450              		.loc 1 3149 15
 6451 02fc BB6B     		ldr	r3, [r7, #56]
 6452 02fe 3A6D     		ldr	r2, [r7, #80]
 6453 0300 1A62     		str	r2, [r3, #32]
3150:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fatbase = bsect + nrsv; 					/* FAT start sector */
 6454              		.loc 1 3150 23
 6455 0302 FA8D     		ldrh	r2, [r7, #46]
 6456 0304 3B6D     		ldr	r3, [r7, #80]
 6457 0306 1A44     		add	r2, r2, r3
 6458              		.loc 1 3150 15
 6459 0308 BB6B     		ldr	r3, [r7, #56]
 6460 030a 5A62     		str	r2, [r3, #36]
3151:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->database = bsect + sysect;					/* Data start sector */
 6461              		.loc 1 3151 24
 6462 030c 3A6D     		ldr	r2, [r7, #80]
 6463 030e BB6A     		ldr	r3, [r7, #40]
 6464 0310 1A44     		add	r2, r2, r3
 6465              		.loc 1 3151 16
 6466 0312 BB6B     		ldr	r3, [r7, #56]
 6467 0314 DA62     		str	r2, [r3, #44]
3152:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 6468              		.loc 1 3152 6
 6469 0316 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 170


 6470 031a 032B     		cmp	r3, #3
 6471 031c 1ED1     		bne	.L433
3153:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BPB_FSVer32) != 0) return FR_NO_FILESYSTEM;	/* (Must be FAT32 revision 0.0
 6472              		.loc 1 3153 16
 6473 031e BB6B     		ldr	r3, [r7, #56]
 6474 0320 3433     		adds	r3, r3, #52
 6475              		.loc 1 3153 8
 6476 0322 2A33     		adds	r3, r3, #42
 6477 0324 1846     		mov	r0, r3
 6478 0326 FFF7FEFF 		bl	ld_word
 6479 032a 0346     		mov	r3, r0
 6480              		.loc 1 3153 7
 6481 032c 002B     		cmp	r3, #0
 6482 032e 01D0     		beq	.L434
 6483              		.loc 1 3153 52 discriminator 1
 6484 0330 0D23     		movs	r3, #13
 6485 0332 A8E0     		b	.L442
 6486              	.L434:
3154:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir) return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must be 0) */
 6487              		.loc 1 3154 10
 6488 0334 BB6B     		ldr	r3, [r7, #56]
 6489 0336 1B89     		ldrh	r3, [r3, #8]
 6490              		.loc 1 3154 7
 6491 0338 002B     		cmp	r3, #0
 6492 033a 01D0     		beq	.L435
 6493              		.loc 1 3154 30 discriminator 1
 6494 033c 0D23     		movs	r3, #13
 6495 033e A2E0     		b	.L442
 6496              	.L435:
3155:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = ld_dword(fs->win + BPB_RootClus32);	/* Root directory start cluster */
 6497              		.loc 1 3155 27
 6498 0340 BB6B     		ldr	r3, [r7, #56]
 6499 0342 3433     		adds	r3, r3, #52
 6500              		.loc 1 3155 18
 6501 0344 2C33     		adds	r3, r3, #44
 6502 0346 1846     		mov	r0, r3
 6503 0348 FFF7FEFF 		bl	ld_dword
 6504 034c 0246     		mov	r2, r0
 6505              		.loc 1 3155 16
 6506 034e BB6B     		ldr	r3, [r7, #56]
 6507 0350 9A62     		str	r2, [r3, #40]
3156:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = fs->n_fatent * 4;					/* (Needed FAT size) */
 6508              		.loc 1 3156 15
 6509 0352 BB6B     		ldr	r3, [r7, #56]
 6510 0354 9B69     		ldr	r3, [r3, #24]
 6511              		.loc 1 3156 11
 6512 0356 9B00     		lsls	r3, r3, #2
 6513 0358 7B64     		str	r3, [r7, #68]
 6514 035a 1FE0     		b	.L436
 6515              	.L433:
3157:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3158:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->n_rootdir == 0)	return FR_NO_FILESYSTEM;/* (BPB_RootEntCnt must not be 0) */
 6516              		.loc 1 3158 10
 6517 035c BB6B     		ldr	r3, [r7, #56]
 6518 035e 1B89     		ldrh	r3, [r3, #8]
 6519              		.loc 1 3158 7
 6520 0360 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 171


 6521 0362 01D1     		bne	.L437
 6522              		.loc 1 3158 35 discriminator 1
 6523 0364 0D23     		movs	r3, #13
 6524 0366 8EE0     		b	.L442
 6525              	.L437:
3159:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->dirbase = fs->fatbase + fasize;			/* Root directory start sector */
 6526              		.loc 1 3159 20
 6527 0368 BB6B     		ldr	r3, [r7, #56]
 6528 036a 5A6A     		ldr	r2, [r3, #36]
 6529              		.loc 1 3159 30
 6530 036c FB6C     		ldr	r3, [r7, #76]
 6531 036e 1A44     		add	r2, r2, r3
 6532              		.loc 1 3159 16
 6533 0370 BB6B     		ldr	r3, [r7, #56]
 6534 0372 9A62     		str	r2, [r3, #40]
3160:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
3161:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 6535              		.loc 1 3161 22
 6536 0374 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 6537 0378 022B     		cmp	r3, #2
 6538 037a 03D1     		bne	.L438
 6539              		.loc 1 3161 7 discriminator 1
 6540 037c BB6B     		ldr	r3, [r7, #56]
 6541 037e 9B69     		ldr	r3, [r3, #24]
 6542              		.loc 1 3161 22 discriminator 1
 6543 0380 5B00     		lsls	r3, r3, #1
 6544 0382 0AE0     		b	.L439
 6545              	.L438:
 6546              		.loc 1 3161 26 discriminator 2
 6547 0384 BB6B     		ldr	r3, [r7, #56]
 6548 0386 9A69     		ldr	r2, [r3, #24]
 6549              		.loc 1 3161 37 discriminator 2
 6550 0388 1346     		mov	r3, r2
 6551 038a 5B00     		lsls	r3, r3, #1
 6552 038c 1344     		add	r3, r3, r2
 6553              		.loc 1 3161 41 discriminator 2
 6554 038e 5A08     		lsrs	r2, r3, #1
 6555              		.loc 1 3161 50 discriminator 2
 6556 0390 BB6B     		ldr	r3, [r7, #56]
 6557 0392 9B69     		ldr	r3, [r3, #24]
 6558              		.loc 1 3161 61 discriminator 2
 6559 0394 03F00103 		and	r3, r3, #1
 6560              		.loc 1 3161 22 discriminator 2
 6561 0398 1344     		add	r3, r3, r2
 6562              	.L439:
3160:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			szbfat = (fmt == FS_FAT16) ?				/* (Needed FAT size) */
 6563              		.loc 1 3160 11
 6564 039a 7B64     		str	r3, [r7, #68]
 6565              	.L436:
3162:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3163:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs)) return FR_NO_FILESYSTEM;	/* (BPB_FATSz must not
 6566              		.loc 1 3163 9
 6567 039c BB6B     		ldr	r3, [r7, #56]
 6568 039e DA69     		ldr	r2, [r3, #28]
 6569              		.loc 1 3163 27
 6570 03a0 7B6C     		ldr	r3, [r7, #68]
 6571 03a2 03F2FF13 		addw	r3, r3, #511
ARM GAS  /tmp/cc5m2BsI.s 			page 172


 6572              		.loc 1 3163 43
 6573 03a6 5B0A     		lsrs	r3, r3, #9
 6574              		.loc 1 3163 6
 6575 03a8 9A42     		cmp	r2, r3
 6576 03aa 01D2     		bcs	.L440
 6577              		.loc 1 3163 60 discriminator 1
 6578 03ac 0D23     		movs	r3, #13
 6579 03ae 6AE0     		b	.L442
 6580              	.L440:
3164:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3165:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3166:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get FSINFO if available */
3167:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = fs->free_clst = 0xFFFFFFFF;		/* Initialize cluster allocation information */
 6581              		.loc 1 3167 33
 6582 03b0 BB6B     		ldr	r3, [r7, #56]
 6583 03b2 4FF0FF32 		mov	r2, #-1
 6584 03b6 5A61     		str	r2, [r3, #20]
 6585              		.loc 1 3167 21
 6586 03b8 BB6B     		ldr	r3, [r7, #56]
 6587 03ba 5A69     		ldr	r2, [r3, #20]
 6588              		.loc 1 3167 17
 6589 03bc BB6B     		ldr	r3, [r7, #56]
 6590 03be 1A61     		str	r2, [r3, #16]
3168:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0x80;
 6591              		.loc 1 3168 16
 6592 03c0 BB6B     		ldr	r3, [r7, #56]
 6593 03c2 8022     		movs	r2, #128
 6594 03c4 1A71     		strb	r2, [r3, #4]
3169:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
3170:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo32 == 1 */
 6595              		.loc 1 3170 6
 6596 03c6 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 6597 03ca 032B     		cmp	r3, #3
 6598 03cc 49D1     		bne	.L441
3171:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			&& ld_word(fs->win + BPB_FSInfo32) == 1
 6599              		.loc 1 3171 15
 6600 03ce BB6B     		ldr	r3, [r7, #56]
 6601 03d0 3433     		adds	r3, r3, #52
 6602              		.loc 1 3171 7
 6603 03d2 3033     		adds	r3, r3, #48
 6604 03d4 1846     		mov	r0, r3
 6605 03d6 FFF7FEFF 		bl	ld_word
 6606 03da 0346     		mov	r3, r0
 6607              		.loc 1 3171 4
 6608 03dc 012B     		cmp	r3, #1
 6609 03de 40D1     		bne	.L441
3172:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			&& move_window(fs, bsect + 1) == FR_OK)
 6610              		.loc 1 3172 7
 6611 03e0 3B6D     		ldr	r3, [r7, #80]
 6612 03e2 0133     		adds	r3, r3, #1
 6613 03e4 1946     		mov	r1, r3
 6614 03e6 B86B     		ldr	r0, [r7, #56]
 6615 03e8 FFF7FEFF 		bl	move_window
 6616 03ec 0346     		mov	r3, r0
 6617              		.loc 1 3172 4
 6618 03ee 002B     		cmp	r3, #0
 6619 03f0 37D1     		bne	.L441
ARM GAS  /tmp/cc5m2BsI.s 			page 173


3173:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		{
3174:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 6620              		.loc 1 3174 17
 6621 03f2 BB6B     		ldr	r3, [r7, #56]
 6622 03f4 0022     		movs	r2, #0
 6623 03f6 1A71     		strb	r2, [r3, #4]
3175:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ld_word(fs->win + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 6624              		.loc 1 3175 16
 6625 03f8 BB6B     		ldr	r3, [r7, #56]
 6626 03fa 3433     		adds	r3, r3, #52
 6627              		.loc 1 3175 8
 6628 03fc 03F5FF73 		add	r3, r3, #510
 6629 0400 1846     		mov	r0, r3
 6630 0402 FFF7FEFF 		bl	ld_word
 6631 0406 0346     		mov	r3, r0
 6632 0408 1A46     		mov	r2, r3
 6633              		.loc 1 3175 7
 6634 040a 4AF65523 		movw	r3, #43605
 6635 040e 9A42     		cmp	r2, r3
 6636 0410 27D1     		bne	.L441
3176:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_LeadSig) == 0x41615252
 6637              		.loc 1 3176 17
 6638 0412 BB6B     		ldr	r3, [r7, #56]
 6639 0414 3433     		adds	r3, r3, #52
 6640              		.loc 1 3176 8
 6641 0416 1846     		mov	r0, r3
 6642 0418 FFF7FEFF 		bl	ld_dword
 6643 041c 0346     		mov	r3, r0
 6644              		.loc 1 3176 5
 6645 041e 1C4A     		ldr	r2, .L445
 6646 0420 9342     		cmp	r3, r2
 6647 0422 1ED1     		bne	.L441
3177:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				&& ld_dword(fs->win + FSI_StrucSig) == 0x61417272)
 6648              		.loc 1 3177 17
 6649 0424 BB6B     		ldr	r3, [r7, #56]
 6650 0426 3433     		adds	r3, r3, #52
 6651              		.loc 1 3177 8
 6652 0428 03F5F273 		add	r3, r3, #484
 6653 042c 1846     		mov	r0, r3
 6654 042e FFF7FEFF 		bl	ld_dword
 6655 0432 0346     		mov	r3, r0
 6656              		.loc 1 3177 5
 6657 0434 174A     		ldr	r2, .L445+4
 6658 0436 9342     		cmp	r3, r2
 6659 0438 13D1     		bne	.L441
3178:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3179:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
3180:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst = ld_dword(fs->win + FSI_Free_Count);
 6660              		.loc 1 3180 30
 6661 043a BB6B     		ldr	r3, [r7, #56]
 6662 043c 3433     		adds	r3, r3, #52
 6663              		.loc 1 3180 21
 6664 043e 03F5F473 		add	r3, r3, #488
 6665 0442 1846     		mov	r0, r3
 6666 0444 FFF7FEFF 		bl	ld_dword
 6667 0448 0246     		mov	r2, r0
 6668              		.loc 1 3180 19
ARM GAS  /tmp/cc5m2BsI.s 			page 174


 6669 044a BB6B     		ldr	r3, [r7, #56]
 6670 044c 5A61     		str	r2, [r3, #20]
3181:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3182:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
3183:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->last_clst = ld_dword(fs->win + FSI_Nxt_Free);
 6671              		.loc 1 3183 30
 6672 044e BB6B     		ldr	r3, [r7, #56]
 6673 0450 3433     		adds	r3, r3, #52
 6674              		.loc 1 3183 21
 6675 0452 03F5F673 		add	r3, r3, #492
 6676 0456 1846     		mov	r0, r3
 6677 0458 FFF7FEFF 		bl	ld_dword
 6678 045c 0246     		mov	r2, r0
 6679              		.loc 1 3183 19
 6680 045e BB6B     		ldr	r3, [r7, #56]
 6681 0460 1A61     		str	r2, [r3, #16]
 6682              	.L441:
3184:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3185:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3186:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3187:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* (_FS_NOFSINFO & 3) != 3 */
3188:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* !_FS_READONLY */
3189:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3190:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3191:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;		/* FAT sub-type */
 6683              		.loc 1 3191 14
 6684 0462 BB6B     		ldr	r3, [r7, #56]
 6685 0464 97F85720 		ldrb	r2, [r7, #87]
 6686 0468 1A70     		strb	r2, [r3]
3192:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;		/* File system mount ID */
 6687              		.loc 1 3192 11
 6688 046a 0B4B     		ldr	r3, .L445+8
 6689 046c 1B88     		ldrh	r3, [r3]
 6690 046e 0133     		adds	r3, r3, #1
 6691 0470 9AB2     		uxth	r2, r3
 6692              		.loc 1 3192 9
 6693 0472 094B     		ldr	r3, .L445+8
 6694 0474 1A80     		strh	r2, [r3]	@ movhi
 6695 0476 084B     		ldr	r3, .L445+8
 6696 0478 1A88     		ldrh	r2, [r3]
 6697 047a BB6B     		ldr	r3, [r7, #56]
 6698 047c DA80     		strh	r2, [r3, #6]	@ movhi
3193:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
3194:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->lfnbuf = LfnBuf;	/* Static LFN working buffer */
 6699              		.loc 1 3194 13
 6700 047e BB6B     		ldr	r3, [r7, #56]
 6701 0480 064A     		ldr	r2, .L445+12
 6702 0482 DA60     		str	r2, [r3, #12]
3195:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3196:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->dirbuf = DirBuf;	/* Static directory block scratchpad buuffer */
3197:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3198:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3199:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
3200:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;			/* Initialize current directory */
3201:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3202:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0			/* Clear file lock semaphores */
3203:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
ARM GAS  /tmp/cc5m2BsI.s 			page 175


3204:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3205:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 6703              		.loc 1 3205 9
 6704 0484 0023     		movs	r3, #0
 6705              	.L442:
3206:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 6706              		.loc 1 3206 1 discriminator 1
 6707 0486 1846     		mov	r0, r3
 6708 0488 5837     		adds	r7, r7, #88
 6709              		.cfi_def_cfa_offset 8
 6710 048a BD46     		mov	sp, r7
 6711              		.cfi_def_cfa_register 13
 6712              		@ sp needed
 6713 048c 80BD     		pop	{r7, pc}
 6714              	.L446:
 6715 048e 00BF     		.align	2
 6716              	.L445:
 6717 0490 52526141 		.word	1096897106
 6718 0494 72724161 		.word	1631679090
 6719 0498 00000000 		.word	Fsid
 6720 049c 00000000 		.word	LfnBuf
 6721              		.cfi_endproc
 6722              	.LFE356:
 6724              		.section	.text.validate,"ax",%progbits
 6725              		.align	1
 6726              		.syntax unified
 6727              		.thumb
 6728              		.thumb_func
 6729              		.fpu fpv5-d16
 6731              	validate:
 6732              	.LFB357:
3207:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3208:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3209:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3210:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3211:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3212:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
3213:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3214:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3215:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
3216:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* Returns FR_OK or FR_INVALID_OBJECT */
3217:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID* obj,		/* Pointer to the _OBJ, the 1st member in the FIL/DIR object, to check validity */
3218:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fs		/* Pointer to pointer to the owner file system object to return */
3219:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
3220:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 6733              		.loc 1 3220 1
 6734              		.cfi_startproc
 6735              		@ args = 0, pretend = 0, frame = 16
 6736              		@ frame_needed = 1, uses_anonymous_args = 0
 6737 0000 80B5     		push	{r7, lr}
 6738              		.cfi_def_cfa_offset 8
 6739              		.cfi_offset 7, -8
 6740              		.cfi_offset 14, -4
 6741 0002 84B0     		sub	sp, sp, #16
 6742              		.cfi_def_cfa_offset 24
 6743 0004 00AF     		add	r7, sp, #0
 6744              		.cfi_def_cfa_register 7
ARM GAS  /tmp/cc5m2BsI.s 			page 176


 6745 0006 7860     		str	r0, [r7, #4]
 6746 0008 3960     		str	r1, [r7]
3221:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_INVALID_OBJECT;
 6747              		.loc 1 3221 10
 6748 000a 0923     		movs	r3, #9
 6749 000c FB73     		strb	r3, [r7, #15]
3222:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3223:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3224:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (obj && obj->fs && obj->fs->fs_type && obj->id == obj->fs->id) {	/* Test if the object is valid
 6750              		.loc 1 3224 5
 6751 000e 7B68     		ldr	r3, [r7, #4]
 6752 0010 002B     		cmp	r3, #0
 6753 0012 1CD0     		beq	.L448
 6754              		.loc 1 3224 16 discriminator 1
 6755 0014 7B68     		ldr	r3, [r7, #4]
 6756 0016 1B68     		ldr	r3, [r3]
 6757              		.loc 1 3224 10 discriminator 1
 6758 0018 002B     		cmp	r3, #0
 6759 001a 18D0     		beq	.L448
 6760              		.loc 1 3224 27 discriminator 2
 6761 001c 7B68     		ldr	r3, [r7, #4]
 6762 001e 1B68     		ldr	r3, [r3]
 6763              		.loc 1 3224 31 discriminator 2
 6764 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 6765              		.loc 1 3224 21 discriminator 2
 6766 0022 002B     		cmp	r3, #0
 6767 0024 13D0     		beq	.L448
 6768              		.loc 1 3224 47 discriminator 3
 6769 0026 7B68     		ldr	r3, [r7, #4]
 6770 0028 9A88     		ldrh	r2, [r3, #4]
 6771              		.loc 1 3224 58 discriminator 3
 6772 002a 7B68     		ldr	r3, [r7, #4]
 6773 002c 1B68     		ldr	r3, [r3]
 6774              		.loc 1 3224 62 discriminator 3
 6775 002e DB88     		ldrh	r3, [r3, #6]
 6776              		.loc 1 3224 41 discriminator 3
 6777 0030 9A42     		cmp	r2, r3
 6778 0032 0CD1     		bne	.L448
3225:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3226:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (lock_fs(obj->fs)) {	/* Obtain the filesystem object */
3227:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialize
3228:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3229:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3230:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				unlock_fs(obj->fs, FR_OK);
3231:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3232:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3233:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_TIMEOUT;
3234:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3235:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
3236:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(disk_status(obj->fs->drv) & STA_NOINIT)) { /* Test if the phsical drive is kept initialized
 6779              		.loc 1 3236 24
 6780 0034 7B68     		ldr	r3, [r7, #4]
 6781 0036 1B68     		ldr	r3, [r3]
 6782              		.loc 1 3236 9
 6783 0038 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 6784 003a 1846     		mov	r0, r3
 6785 003c FFF7FEFF 		bl	disk_status
ARM GAS  /tmp/cc5m2BsI.s 			page 177


 6786 0040 0346     		mov	r3, r0
 6787              		.loc 1 3236 35
 6788 0042 03F00103 		and	r3, r3, #1
 6789              		.loc 1 3236 6
 6790 0046 002B     		cmp	r3, #0
 6791 0048 01D1     		bne	.L448
3237:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 6792              		.loc 1 3237 8
 6793 004a 0023     		movs	r3, #0
 6794 004c FB73     		strb	r3, [r7, #15]
 6795              	.L448:
3238:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3239:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3241:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*fs = (res == FR_OK) ? obj->fs : 0;	/* Corresponding filesystem object */
 6796              		.loc 1 3241 33
 6797 004e FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 6798 0050 002B     		cmp	r3, #0
 6799 0052 02D1     		bne	.L449
 6800              		.loc 1 3241 33 is_stmt 0 discriminator 1
 6801 0054 7B68     		ldr	r3, [r7, #4]
 6802 0056 1B68     		ldr	r3, [r3]
 6803 0058 00E0     		b	.L450
 6804              	.L449:
 6805              		.loc 1 3241 33 discriminator 2
 6806 005a 0023     		movs	r3, #0
 6807              	.L450:
 6808              		.loc 1 3241 6 is_stmt 1 discriminator 4
 6809 005c 3A68     		ldr	r2, [r7]
 6810 005e 1360     		str	r3, [r2]
3242:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 6811              		.loc 1 3242 9 discriminator 4
 6812 0060 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
3243:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 6813              		.loc 1 3243 1 discriminator 4
 6814 0062 1846     		mov	r0, r3
 6815 0064 1037     		adds	r7, r7, #16
 6816              		.cfi_def_cfa_offset 8
 6817 0066 BD46     		mov	sp, r7
 6818              		.cfi_def_cfa_register 13
 6819              		@ sp needed
 6820 0068 80BD     		pop	{r7, pc}
 6821              		.cfi_endproc
 6822              	.LFE357:
 6824              		.section	.text.f_mount,"ax",%progbits
 6825              		.align	1
 6826              		.global	f_mount
 6827              		.syntax unified
 6828              		.thumb
 6829              		.thumb_func
 6830              		.fpu fpv5-d16
 6832              	f_mount:
 6833              	.LFB358:
3244:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3245:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3246:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3247:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 178


3248:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*---------------------------------------------------------------------------
3249:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions (FatFs API)
3251:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3252:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** ----------------------------------------------------------------------------*/
3253:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3256:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
3258:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
3261:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
3262:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
3263:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* Mode option 0:Do not mount (delayed mount), 1:Mount immediately */
3264:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
3265:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 6834              		.loc 1 3265 1
 6835              		.cfi_startproc
 6836              		@ args = 0, pretend = 0, frame = 32
 6837              		@ frame_needed = 1, uses_anonymous_args = 0
 6838 0000 80B5     		push	{r7, lr}
 6839              		.cfi_def_cfa_offset 8
 6840              		.cfi_offset 7, -8
 6841              		.cfi_offset 14, -4
 6842 0002 88B0     		sub	sp, sp, #32
 6843              		.cfi_def_cfa_offset 40
 6844 0004 00AF     		add	r7, sp, #0
 6845              		.cfi_def_cfa_register 7
 6846 0006 F860     		str	r0, [r7, #12]
 6847 0008 B960     		str	r1, [r7, #8]
 6848 000a 1346     		mov	r3, r2
 6849 000c FB71     		strb	r3, [r7, #7]
3266:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
3267:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3268:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3269:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 6850              		.loc 1 3269 15
 6851 000e BB68     		ldr	r3, [r7, #8]
 6852 0010 3B61     		str	r3, [r7, #16]
3270:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3271:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
 6853              		.loc 1 3273 8
 6854 0012 07F11003 		add	r3, r7, #16
 6855 0016 1846     		mov	r0, r3
 6856 0018 FFF7FEFF 		bl	get_ldnumber
 6857 001c F861     		str	r0, [r7, #28]
3274:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 6858              		.loc 1 3274 5
 6859 001e FB69     		ldr	r3, [r7, #28]
 6860 0020 002B     		cmp	r3, #0
 6861 0022 01DA     		bge	.L453
 6862              		.loc 1 3274 22 discriminator 1
 6863 0024 0B23     		movs	r3, #11
ARM GAS  /tmp/cc5m2BsI.s 			page 179


 6864 0026 28E0     		b	.L459
 6865              	.L453:
3275:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 6866              		.loc 1 3275 6
 6867 0028 164A     		ldr	r2, .L460
 6868 002a FB69     		ldr	r3, [r7, #28]
 6869 002c 52F82330 		ldr	r3, [r2, r3, lsl #2]
 6870 0030 BB61     		str	r3, [r7, #24]
3276:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3277:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
 6871              		.loc 1 3277 5
 6872 0032 BB69     		ldr	r3, [r7, #24]
 6873 0034 002B     		cmp	r3, #0
 6874 0036 02D0     		beq	.L455
3278:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3279:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
3280:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3281:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
3282:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
3283:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3284:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
 6875              		.loc 1 3284 16
 6876 0038 BB69     		ldr	r3, [r7, #24]
 6877 003a 0022     		movs	r2, #0
 6878 003c 1A70     		strb	r2, [r3]
 6879              	.L455:
3285:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3286:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3287:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
 6880              		.loc 1 3287 6
 6881 003e FB68     		ldr	r3, [r7, #12]
 6882              		.loc 1 3287 5
 6883 0040 002B     		cmp	r3, #0
 6884 0042 02D0     		beq	.L456
3288:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 6885              		.loc 1 3288 5
 6886 0044 FB68     		ldr	r3, [r7, #12]
 6887              		.loc 1 3288 15
 6888 0046 0022     		movs	r2, #0
 6889 0048 1A70     		strb	r2, [r3]
 6890              	.L456:
3289:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
3290:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
3291:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3292:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3293:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
 6891              		.loc 1 3293 13
 6892 004a FA68     		ldr	r2, [r7, #12]
 6893 004c 0D49     		ldr	r1, .L460
 6894 004e FB69     		ldr	r3, [r7, #28]
 6895 0050 41F82320 		str	r2, [r1, r3, lsl #2]
3294:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3295:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
 6896              		.loc 1 3295 6
 6897 0054 FB68     		ldr	r3, [r7, #12]
 6898              		.loc 1 3295 5
 6899 0056 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 180


 6900 0058 02D0     		beq	.L457
 6901              		.loc 1 3295 10 discriminator 2
 6902 005a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6903 005c 012B     		cmp	r3, #1
 6904 005e 01D0     		beq	.L458
 6905              	.L457:
 6906              		.loc 1 3295 30 discriminator 3
 6907 0060 0023     		movs	r3, #0
 6908 0062 0AE0     		b	.L459
 6909              	.L458:
3296:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3297:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);	/* Force mounted the volume */
 6910              		.loc 1 3297 8
 6911 0064 07F10C01 		add	r1, r7, #12
 6912 0068 07F10803 		add	r3, r7, #8
 6913 006c 0022     		movs	r2, #0
 6914 006e 1846     		mov	r0, r3
 6915 0070 FFF7FEFF 		bl	find_volume
 6916 0074 0346     		mov	r3, r0
 6917 0076 FB75     		strb	r3, [r7, #23]
3298:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 6918              		.loc 1 3298 2
 6919 0078 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 6920              	.L459:
3299:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 6921              		.loc 1 3299 1 discriminator 1
 6922 007a 1846     		mov	r0, r3
 6923 007c 2037     		adds	r7, r7, #32
 6924              		.cfi_def_cfa_offset 8
 6925 007e BD46     		mov	sp, r7
 6926              		.cfi_def_cfa_register 13
 6927              		@ sp needed
 6928 0080 80BD     		pop	{r7, pc}
 6929              	.L461:
 6930 0082 00BF     		.align	2
 6931              	.L460:
 6932 0084 00000000 		.word	FatFs
 6933              		.cfi_endproc
 6934              	.LFE358:
 6936              		.section	.text.f_open,"ax",%progbits
 6937              		.align	1
 6938              		.global	f_open
 6939              		.syntax unified
 6940              		.thumb
 6941              		.thumb_func
 6942              		.fpu fpv5-d16
 6944              	f_open:
 6945              	.LFB359:
3300:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3301:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3302:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3303:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3304:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3305:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
3306:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3307:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3308:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
ARM GAS  /tmp/cc5m2BsI.s 			page 181


3309:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
3310:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
3311:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
3312:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
3313:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 6946              		.loc 1 3313 1
 6947              		.cfi_startproc
 6948              		@ args = 0, pretend = 0, frame = 96
 6949              		@ frame_needed = 1, uses_anonymous_args = 0
 6950 0000 80B5     		push	{r7, lr}
 6951              		.cfi_def_cfa_offset 8
 6952              		.cfi_offset 7, -8
 6953              		.cfi_offset 14, -4
 6954 0002 98B0     		sub	sp, sp, #96
 6955              		.cfi_def_cfa_offset 104
 6956 0004 00AF     		add	r7, sp, #0
 6957              		.cfi_def_cfa_register 7
 6958 0006 F860     		str	r0, [r7, #12]
 6959 0008 B960     		str	r1, [r7, #8]
 6960 000a 1346     		mov	r3, r2
 6961 000c FB71     		strb	r3, [r7, #7]
3314:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3315:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3316:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3317:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3318:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl, bcs, clst, sc;
3319:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs;
3320:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3321:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3322:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3324:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
 6962              		.loc 1 3324 5
 6963 000e FB68     		ldr	r3, [r7, #12]
 6964 0010 002B     		cmp	r3, #0
 6965 0012 01D1     		bne	.L463
 6966              		.loc 1 3324 18 discriminator 1
 6967 0014 0923     		movs	r3, #9
 6968 0016 7AE1     		b	.L483
 6969              	.L463:
3325:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3326:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3327:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= _FS_READONLY ? FA_READ : FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_CREATE_NEW | FA_OPEN_A
 6970              		.loc 1 3327 7
 6971 0018 FB79     		ldrb	r3, [r7, #7]
 6972 001a 03F03F03 		and	r3, r3, #63
 6973 001e FB71     		strb	r3, [r7, #7]
3328:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, mode);
 6974              		.loc 1 3328 8
 6975 0020 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 6976 0022 07F11001 		add	r1, r7, #16
 6977 0026 07F10803 		add	r3, r7, #8
 6978 002a 1846     		mov	r0, r3
 6979 002c FFF7FEFF 		bl	find_volume
 6980 0030 0346     		mov	r3, r0
 6981 0032 87F85F30 		strb	r3, [r7, #95]
3329:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
ARM GAS  /tmp/cc5m2BsI.s 			page 182


 6982              		.loc 1 3329 5
 6983 0036 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 6984 003a 002B     		cmp	r3, #0
 6985 003c 40F05E81 		bne	.L465
3330:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
 6986              		.loc 1 3330 13
 6987 0040 3B69     		ldr	r3, [r7, #16]
 6988 0042 7B61     		str	r3, [r7, #20]
3331:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3332:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 6989              		.loc 1 3332 9
 6990 0044 BA68     		ldr	r2, [r7, #8]
 6991 0046 07F11403 		add	r3, r7, #20
 6992 004a 1146     		mov	r1, r2
 6993 004c 1846     		mov	r0, r3
 6994 004e FFF7FEFF 		bl	follow_path
 6995 0052 0346     		mov	r3, r0
 6996 0054 87F85F30 		strb	r3, [r7, #95]
3333:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
3334:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 6997              		.loc 1 3334 6
 6998 0058 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 6999 005c 002B     		cmp	r3, #0
 7000 005e 07D1     		bne	.L466
3335:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
 7001              		.loc 1 3335 13
 7002 0060 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 7003              		.loc 1 3335 8
 7004 0064 5BB2     		sxtb	r3, r3
 7005              		.loc 1 3335 7
 7006 0066 002B     		cmp	r3, #0
 7007 0068 02DA     		bge	.L466
3336:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 7008              		.loc 1 3336 9
 7009 006a 0623     		movs	r3, #6
 7010 006c 87F85F30 		strb	r3, [r7, #95]
 7011              	.L466:
3337:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3338:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3339:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			else {
3340:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3341:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3342:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3343:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3344:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
3345:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
 7012              		.loc 1 3345 12
 7013 0070 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 7014 0072 03F01C03 		and	r3, r3, #28
 7015              		.loc 1 3345 6
 7016 0076 002B     		cmp	r3, #0
 7017 0078 78D0     		beq	.L467
3346:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 7018              		.loc 1 3346 7
 7019 007a 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 7020 007e 002B     		cmp	r3, #0
 7021 0080 10D0     		beq	.L468
ARM GAS  /tmp/cc5m2BsI.s 			page 183


3347:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {		/* There is no file to open, create a new entry */
 7022              		.loc 1 3347 8
 7023 0082 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 7024 0086 042B     		cmp	r3, #4
 7025 0088 07D1     		bne	.L469
3348:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3349:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
3350:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
3351:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
 7026              		.loc 1 3351 12
 7027 008a 07F11403 		add	r3, r7, #20
 7028 008e 1846     		mov	r0, r3
 7029 0090 FFF7FEFF 		bl	dir_register
 7030 0094 0346     		mov	r3, r0
 7031 0096 87F85F30 		strb	r3, [r7, #95]
 7032              	.L469:
3352:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3353:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3354:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
 7033              		.loc 1 3354 10
 7034 009a FB79     		ldrb	r3, [r7, #7]
 7035 009c 43F00803 		orr	r3, r3, #8
 7036 00a0 FB71     		strb	r3, [r7, #7]
 7037 00a2 10E0     		b	.L470
 7038              	.L468:
3355:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3356:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
3357:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
 7039              		.loc 1 3357 15
 7040 00a4 BB7E     		ldrb	r3, [r7, #26]	@ zero_extendqisi2
 7041              		.loc 1 3357 21
 7042 00a6 03F01103 		and	r3, r3, #17
 7043              		.loc 1 3357 8
 7044 00aa 002B     		cmp	r3, #0
 7045 00ac 03D0     		beq	.L471
3358:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 7046              		.loc 1 3358 10
 7047 00ae 0723     		movs	r3, #7
 7048 00b0 87F85F30 		strb	r3, [r7, #95]
 7049 00b4 07E0     		b	.L470
 7050              	.L471:
3359:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3360:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW) res = FR_EXIST;	/* Cannot create as new file */
 7051              		.loc 1 3360 15
 7052 00b6 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 7053 00b8 03F00403 		and	r3, r3, #4
 7054              		.loc 1 3360 9
 7055 00bc 002B     		cmp	r3, #0
 7056 00be 02D0     		beq	.L470
 7057              		.loc 1 3360 36 discriminator 1
 7058 00c0 0823     		movs	r3, #8
 7059 00c2 87F85F30 		strb	r3, [r7, #95]
 7060              	.L470:
3361:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3362:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3363:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
 7061              		.loc 1 3363 7
ARM GAS  /tmp/cc5m2BsI.s 			page 184


 7062 00c6 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 7063 00ca 002B     		cmp	r3, #0
 7064 00cc 68D1     		bne	.L472
 7065              		.loc 1 3363 30 discriminator 1
 7066 00ce FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 7067 00d0 03F00803 		and	r3, r3, #8
 7068              		.loc 1 3363 21 discriminator 1
 7069 00d4 002B     		cmp	r3, #0
 7070 00d6 63D0     		beq	.L472
3364:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();
 7071              		.loc 1 3364 10
 7072 00d8 FFF7FEFF 		bl	get_fattime
 7073 00dc 3865     		str	r0, [r7, #80]
3365:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3366:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3367:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get current allocation info */
3368:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.fs = fs;
3369:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);
3370:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3371:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3372:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.n_frag = 0;
3373:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Initialize directory entry block */
3374:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_CrtTime, dw);	/* Set created time */
3375:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_CrtTime10] = 0;
3376:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, dw);	/* Set modified time */
3377:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_ModTime10] = 0;
3378:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_ARC;				/* Reset attribute */
3379:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, 0);		/* Reset file allocation info */
3380:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_FileSize, 0);
3381:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_qword(fs->dirbuf + XDIR_ValidFileSize, 0);
3382:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 1;
3383:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
3384:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK && fp->obj.sclust) {		/* Remove the cluster chain if exist */
3385:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&fp->obj, fp->obj.sclust, 0);
3386:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->last_clst = fp->obj.sclust - 1;		/* Reuse the cluster hole */
3387:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3388:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
3389:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3390:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				{
3391:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean directory info */
3392:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_CrtTime, dw);	/* Set created time */
 7074              		.loc 1 3392 17
 7075 00de 3B6B     		ldr	r3, [r7, #48]
 7076              		.loc 1 3392 6
 7077 00e0 0E33     		adds	r3, r3, #14
 7078 00e2 396D     		ldr	r1, [r7, #80]
 7079 00e4 1846     		mov	r0, r3
 7080 00e6 FFF7FEFF 		bl	st_dword
3393:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_ModTime, dw);	/* Set modified time */
 7081              		.loc 1 3393 17
 7082 00ea 3B6B     		ldr	r3, [r7, #48]
 7083              		.loc 1 3393 6
 7084 00ec 1633     		adds	r3, r3, #22
 7085 00ee 396D     		ldr	r1, [r7, #80]
 7086 00f0 1846     		mov	r0, r3
 7087 00f2 FFF7FEFF 		bl	st_dword
3394:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Attr] = AM_ARC;			/* Reset attribute */
ARM GAS  /tmp/cc5m2BsI.s 			page 185


 7088              		.loc 1 3394 8
 7089 00f6 3B6B     		ldr	r3, [r7, #48]
 7090              		.loc 1 3394 12
 7091 00f8 0B33     		adds	r3, r3, #11
 7092              		.loc 1 3394 23
 7093 00fa 2022     		movs	r2, #32
 7094 00fc 1A70     		strb	r2, [r3]
3395:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					cl = ld_clust(fs, dj.dir);			/* Get cluster chain */
 7095              		.loc 1 3395 11
 7096 00fe 3B69     		ldr	r3, [r7, #16]
 7097              		.loc 1 3395 26
 7098 0100 3A6B     		ldr	r2, [r7, #48]
 7099              		.loc 1 3395 11
 7100 0102 1146     		mov	r1, r2
 7101 0104 1846     		mov	r0, r3
 7102 0106 FFF7FEFF 		bl	ld_clust
 7103 010a F864     		str	r0, [r7, #76]
3396:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dj.dir, 0);			/* Reset file allocation info */
 7104              		.loc 1 3396 6
 7105 010c 3B69     		ldr	r3, [r7, #16]
 7106 010e 396B     		ldr	r1, [r7, #48]
 7107 0110 0022     		movs	r2, #0
 7108 0112 1846     		mov	r0, r3
 7109 0114 FFF7FEFF 		bl	st_clust
3397:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dj.dir + DIR_FileSize, 0);
 7110              		.loc 1 3397 17
 7111 0118 3B6B     		ldr	r3, [r7, #48]
 7112              		.loc 1 3397 6
 7113 011a 1C33     		adds	r3, r3, #28
 7114 011c 0021     		movs	r1, #0
 7115 011e 1846     		mov	r0, r3
 7116 0120 FFF7FEFF 		bl	st_dword
3398:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 7117              		.loc 1 3398 8
 7118 0124 3B69     		ldr	r3, [r7, #16]
 7119              		.loc 1 3398 16
 7120 0126 0122     		movs	r2, #1
 7121 0128 DA70     		strb	r2, [r3, #3]
3399:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3400:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (cl) {							/* Remove the cluster chain if exist */
 7122              		.loc 1 3400 9
 7123 012a FB6C     		ldr	r3, [r7, #76]
 7124 012c 002B     		cmp	r3, #0
 7125 012e 37D0     		beq	.L472
3401:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						dw = fs->winsect;
 7126              		.loc 1 3401 14
 7127 0130 3B69     		ldr	r3, [r7, #16]
 7128              		.loc 1 3401 10
 7129 0132 1B6B     		ldr	r3, [r3, #48]
 7130 0134 3B65     		str	r3, [r7, #80]
3402:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						res = remove_chain(&dj.obj, cl, 0);
 7131              		.loc 1 3402 13
 7132 0136 07F11403 		add	r3, r7, #20
 7133 013a 0022     		movs	r2, #0
 7134 013c F96C     		ldr	r1, [r7, #76]
 7135 013e 1846     		mov	r0, r3
 7136 0140 FFF7FEFF 		bl	remove_chain
ARM GAS  /tmp/cc5m2BsI.s 			page 186


 7137 0144 0346     		mov	r3, r0
 7138 0146 87F85F30 		strb	r3, [r7, #95]
3403:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 7139              		.loc 1 3403 10
 7140 014a 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 7141 014e 002B     		cmp	r3, #0
 7142 0150 26D1     		bne	.L472
3404:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, dw);
 7143              		.loc 1 3404 14
 7144 0152 3B69     		ldr	r3, [r7, #16]
 7145 0154 396D     		ldr	r1, [r7, #80]
 7146 0156 1846     		mov	r0, r3
 7147 0158 FFF7FEFF 		bl	move_window
 7148 015c 0346     		mov	r3, r0
 7149 015e 87F85F30 		strb	r3, [r7, #95]
3405:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							fs->last_clst = cl - 1;		/* Reuse the cluster hole */
 7150              		.loc 1 3405 10
 7151 0162 3B69     		ldr	r3, [r7, #16]
 7152              		.loc 1 3405 27
 7153 0164 FA6C     		ldr	r2, [r7, #76]
 7154 0166 013A     		subs	r2, r2, #1
 7155              		.loc 1 3405 22
 7156 0168 1A61     		str	r2, [r3, #16]
 7157 016a 19E0     		b	.L472
 7158              	.L467:
3406:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3407:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3408:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3409:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3410:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3411:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
3412:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Following succeeded */
 7159              		.loc 1 3412 7
 7160 016c 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 7161 0170 002B     		cmp	r3, #0
 7162 0172 15D1     		bne	.L472
3413:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
 7163              		.loc 1 3413 15
 7164 0174 BB7E     		ldrb	r3, [r7, #26]	@ zero_extendqisi2
 7165              		.loc 1 3413 21
 7166 0176 03F01003 		and	r3, r3, #16
 7167              		.loc 1 3413 8
 7168 017a 002B     		cmp	r3, #0
 7169 017c 03D0     		beq	.L473
3414:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 7170              		.loc 1 3414 10
 7171 017e 0423     		movs	r3, #4
 7172 0180 87F85F30 		strb	r3, [r7, #95]
 7173 0184 0CE0     		b	.L472
 7174              	.L473:
3415:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3416:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dj.obj.attr & AM_RDO)) { /* R/O violation */
 7175              		.loc 1 3416 16
 7176 0186 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 7177 0188 03F00203 		and	r3, r3, #2
 7178              		.loc 1 3416 9
 7179 018c 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 187


 7180 018e 07D0     		beq	.L472
 7181              		.loc 1 3416 38 discriminator 1
 7182 0190 BB7E     		ldrb	r3, [r7, #26]	@ zero_extendqisi2
 7183              		.loc 1 3416 44 discriminator 1
 7184 0192 03F00103 		and	r3, r3, #1
 7185              		.loc 1 3416 28 discriminator 1
 7186 0196 002B     		cmp	r3, #0
 7187 0198 02D0     		beq	.L472
3417:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 7188              		.loc 1 3417 11
 7189 019a 0723     		movs	r3, #7
 7190 019c 87F85F30 		strb	r3, [r7, #95]
 7191              	.L472:
3418:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3419:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3420:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3421:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3422:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7192              		.loc 1 3422 6
 7193 01a0 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 7194 01a4 002B     		cmp	r3, #0
 7195 01a6 0FD1     		bne	.L474
3423:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 7196              		.loc 1 3423 13
 7197 01a8 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 7198 01aa 03F00803 		and	r3, r3, #8
 7199              		.loc 1 3423 7
 7200 01ae 002B     		cmp	r3, #0
 7201 01b0 03D0     		beq	.L475
3424:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_MODIFIED;
 7202              		.loc 1 3424 10
 7203 01b2 FB79     		ldrb	r3, [r7, #7]
 7204 01b4 43F04003 		orr	r3, r3, #64
 7205 01b8 FB71     		strb	r3, [r7, #7]
 7206              	.L475:
3425:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = fs->winsect;			/* Pointer to the directory entry */
 7207              		.loc 1 3425 21
 7208 01ba 3B69     		ldr	r3, [r7, #16]
 7209 01bc 1A6B     		ldr	r2, [r3, #48]
 7210              		.loc 1 3425 17
 7211 01be FB68     		ldr	r3, [r7, #12]
 7212 01c0 1A62     		str	r2, [r3, #32]
3426:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dj.dir;
 7213              		.loc 1 3426 20
 7214 01c2 3A6B     		ldr	r2, [r7, #48]
 7215              		.loc 1 3426 16
 7216 01c4 FB68     		ldr	r3, [r7, #12]
 7217 01c6 5A62     		str	r2, [r3, #36]
 7218              	.L474:
3427:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3428:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
3429:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->obj.lockid) res = FR_INT_ERR;
3430:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3431:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3432:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* R/O configuration */
3433:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3434:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* Origin directory itself? */
ARM GAS  /tmp/cc5m2BsI.s 			page 188


3435:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3436:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3437:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {		/* It is a directory */
3438:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
3439:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3440:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3441:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3442:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3443:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3444:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7219              		.loc 1 3444 6
 7220 01c8 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 7221 01cc 002B     		cmp	r3, #0
 7222 01ce 40F09580 		bne	.L465
3445:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3446:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3447:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_scl = dj.obj.sclust;							/* Get containing directory info */
3448:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3449:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.c_ofs = dj.blk_ofs;
3450:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
3451:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
3452:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
3453:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3454:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3455:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3456:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.sclust = ld_clust(fs, dj.dir);					/* Get object allocation info */
 7223              		.loc 1 3456 22
 7224 01d2 3B69     		ldr	r3, [r7, #16]
 7225              		.loc 1 3456 37
 7226 01d4 3A6B     		ldr	r2, [r7, #48]
 7227              		.loc 1 3456 22
 7228 01d6 1146     		mov	r1, r2
 7229 01d8 1846     		mov	r0, r3
 7230 01da FFF7FEFF 		bl	ld_clust
 7231 01de 0246     		mov	r2, r0
 7232              		.loc 1 3456 20
 7233 01e0 FB68     		ldr	r3, [r7, #12]
 7234 01e2 9A60     		str	r2, [r3, #8]
3457:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.objsize = ld_dword(dj.dir + DIR_FileSize);
 7235              		.loc 1 3457 34
 7236 01e4 3B6B     		ldr	r3, [r7, #48]
 7237              		.loc 1 3457 39
 7238 01e6 1C33     		adds	r3, r3, #28
 7239              		.loc 1 3457 23
 7240 01e8 1846     		mov	r0, r3
 7241 01ea FFF7FEFF 		bl	ld_dword
 7242 01ee 0246     		mov	r2, r0
 7243              		.loc 1 3457 21
 7244 01f0 FB68     		ldr	r3, [r7, #12]
 7245 01f2 DA60     		str	r2, [r3, #12]
3458:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3459:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3460:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;			/* Disable fast seek mode */
 7246              		.loc 1 3460 14
 7247 01f4 FB68     		ldr	r3, [r7, #12]
 7248 01f6 0022     		movs	r2, #0
 7249 01f8 9A62     		str	r2, [r3, #40]
ARM GAS  /tmp/cc5m2BsI.s 			page 189


3461:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3462:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.fs = fs;	 	/* Validate the file object */
 7250              		.loc 1 3462 15
 7251 01fa 3A69     		ldr	r2, [r7, #16]
 7252 01fc FB68     		ldr	r3, [r7, #12]
 7253 01fe 1A60     		str	r2, [r3]
3463:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.id = fs->id;
 7254              		.loc 1 3463 19
 7255 0200 3B69     		ldr	r3, [r7, #16]
 7256 0202 DA88     		ldrh	r2, [r3, #6]
 7257              		.loc 1 3463 15
 7258 0204 FB68     		ldr	r3, [r7, #12]
 7259 0206 9A80     		strh	r2, [r3, #4]	@ movhi
3464:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;		/* Set file access mode */
 7260              		.loc 1 3464 13
 7261 0208 FB68     		ldr	r3, [r7, #12]
 7262 020a FA79     		ldrb	r2, [r7, #7]
 7263 020c 1A74     		strb	r2, [r3, #16]
3465:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;			/* Clear error flag */
 7264              		.loc 1 3465 12
 7265 020e FB68     		ldr	r3, [r7, #12]
 7266 0210 0022     		movs	r2, #0
 7267 0212 5A74     		strb	r2, [r3, #17]
3466:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = 0;			/* Invalidate current data sector */
 7268              		.loc 1 3466 13
 7269 0214 FB68     		ldr	r3, [r7, #12]
 7270 0216 0022     		movs	r2, #0
 7271 0218 DA61     		str	r2, [r3, #28]
3467:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;			/* Set file pointer top of the file */
 7272              		.loc 1 3467 13
 7273 021a FB68     		ldr	r3, [r7, #12]
 7274 021c 0022     		movs	r2, #0
 7275 021e 5A61     		str	r2, [r3, #20]
3468:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3469:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3470:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fp->buf, 0, _MAX_SS);	/* Clear sector buffer */
 7276              		.loc 1 3470 14
 7277 0220 FB68     		ldr	r3, [r7, #12]
 7278 0222 2C33     		adds	r3, r3, #44
 7279              		.loc 1 3470 4
 7280 0224 4FF40072 		mov	r2, #512
 7281 0228 0021     		movs	r1, #0
 7282 022a 1846     		mov	r0, r3
 7283 022c FFF7FEFF 		bl	mem_set
3471:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3472:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((mode & FA_SEEKEND) && fp->obj.objsize > 0) {	/* Seek to end of file if FA_OPEN_APPEND is sp
 7284              		.loc 1 3472 14
 7285 0230 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 7286 0232 03F02003 		and	r3, r3, #32
 7287              		.loc 1 3472 7
 7288 0236 002B     		cmp	r3, #0
 7289 0238 60D0     		beq	.L465
 7290              		.loc 1 3472 38 discriminator 1
 7291 023a FB68     		ldr	r3, [r7, #12]
 7292 023c DB68     		ldr	r3, [r3, #12]
 7293              		.loc 1 3472 28 discriminator 1
 7294 023e 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 190


 7295 0240 5CD0     		beq	.L465
3473:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = fp->obj.objsize;			/* Offset to seek */
 7296              		.loc 1 3473 23
 7297 0242 FB68     		ldr	r3, [r7, #12]
 7298 0244 DA68     		ldr	r2, [r3, #12]
 7299              		.loc 1 3473 14
 7300 0246 FB68     		ldr	r3, [r7, #12]
 7301 0248 5A61     		str	r2, [r3, #20]
3474:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size in byte */
 7302              		.loc 1 3474 20
 7303 024a 3B69     		ldr	r3, [r7, #16]
 7304 024c 5B89     		ldrh	r3, [r3, #10]
 7305              		.loc 1 3474 9
 7306 024e 5B02     		lsls	r3, r3, #9
 7307 0250 BB64     		str	r3, [r7, #72]
3475:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;				/* Follow the cluster chain */
 7308              		.loc 1 3475 10
 7309 0252 FB68     		ldr	r3, [r7, #12]
 7310 0254 9B68     		ldr	r3, [r3, #8]
 7311 0256 BB65     		str	r3, [r7, #88]
3476:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				for (ofs = fp->obj.objsize; res == FR_OK && ofs > bcs; ofs -= bcs) {
 7312              		.loc 1 3476 14
 7313 0258 FB68     		ldr	r3, [r7, #12]
 7314 025a DB68     		ldr	r3, [r3, #12]
 7315 025c 7B65     		str	r3, [r7, #84]
 7316              		.loc 1 3476 5
 7317 025e 16E0     		b	.L476
 7318              	.L480:
3477:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7319              		.loc 1 3477 13
 7320 0260 FB68     		ldr	r3, [r7, #12]
 7321 0262 B96D     		ldr	r1, [r7, #88]
 7322 0264 1846     		mov	r0, r3
 7323 0266 FFF7FEFF 		bl	get_fat
 7324 026a B865     		str	r0, [r7, #88]
3478:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1) res = FR_INT_ERR;
 7325              		.loc 1 3478 9
 7326 026c BB6D     		ldr	r3, [r7, #88]
 7327 026e 012B     		cmp	r3, #1
 7328 0270 02D8     		bhi	.L477
 7329              		.loc 1 3478 25 discriminator 1
 7330 0272 0223     		movs	r3, #2
 7331 0274 87F85F30 		strb	r3, [r7, #95]
 7332              	.L477:
3479:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) res = FR_DISK_ERR;
 7333              		.loc 1 3479 9
 7334 0278 BB6D     		ldr	r3, [r7, #88]
 7335 027a B3F1FF3F 		cmp	r3, #-1
 7336 027e 02D1     		bne	.L478
 7337              		.loc 1 3479 34 discriminator 1
 7338 0280 0123     		movs	r3, #1
 7339 0282 87F85F30 		strb	r3, [r7, #95]
 7340              	.L478:
3476:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7341              		.loc 1 3476 64 discriminator 2
 7342 0286 7A6D     		ldr	r2, [r7, #84]
 7343 0288 BB6C     		ldr	r3, [r7, #72]
ARM GAS  /tmp/cc5m2BsI.s 			page 191


 7344 028a D31A     		subs	r3, r2, r3
 7345 028c 7B65     		str	r3, [r7, #84]
 7346              	.L476:
3476:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7347              		.loc 1 3476 5 discriminator 1
 7348 028e 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 7349 0292 002B     		cmp	r3, #0
 7350 0294 03D1     		bne	.L479
3476:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = get_fat(&fp->obj, clst);
 7351              		.loc 1 3476 46 discriminator 3
 7352 0296 7A6D     		ldr	r2, [r7, #84]
 7353 0298 BB6C     		ldr	r3, [r7, #72]
 7354 029a 9A42     		cmp	r2, r3
 7355 029c E0D8     		bhi	.L480
 7356              	.L479:
3480:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3481:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
 7357              		.loc 1 3481 15
 7358 029e FB68     		ldr	r3, [r7, #12]
 7359 02a0 BA6D     		ldr	r2, [r7, #88]
 7360 02a2 9A61     		str	r2, [r3, #24]
3482:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ofs % SS(fs)) {	/* Fill sector buffer if not on the sector boundary */
 7361              		.loc 1 3482 8
 7362 02a4 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 7363 02a8 002B     		cmp	r3, #0
 7364 02aa 27D1     		bne	.L465
 7365              		.loc 1 3482 29 discriminator 1
 7366 02ac 7B6D     		ldr	r3, [r7, #84]
 7367 02ae C3F30803 		ubfx	r3, r3, #0, #9
 7368              		.loc 1 3482 22 discriminator 1
 7369 02b2 002B     		cmp	r3, #0
 7370 02b4 22D0     		beq	.L465
3483:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((sc = clust2sect(fs, clst)) == 0) {
 7371              		.loc 1 3483 16
 7372 02b6 3B69     		ldr	r3, [r7, #16]
 7373 02b8 B96D     		ldr	r1, [r7, #88]
 7374 02ba 1846     		mov	r0, r3
 7375 02bc FFF7FEFF 		bl	clust2sect
 7376 02c0 7864     		str	r0, [r7, #68]
 7377              		.loc 1 3483 9
 7378 02c2 7B6C     		ldr	r3, [r7, #68]
 7379 02c4 002B     		cmp	r3, #0
 7380 02c6 03D1     		bne	.L481
3484:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_INT_ERR;
 7381              		.loc 1 3484 11
 7382 02c8 0223     		movs	r3, #2
 7383 02ca 87F85F30 		strb	r3, [r7, #95]
 7384 02ce 15E0     		b	.L465
 7385              	.L481:
3485:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3486:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->sect = sc + (DWORD)(ofs / SS(fs));
 7386              		.loc 1 3486 23
 7387 02d0 7B6D     		ldr	r3, [r7, #84]
 7388 02d2 5A0A     		lsrs	r2, r3, #9
 7389              		.loc 1 3486 21
 7390 02d4 7B6C     		ldr	r3, [r7, #68]
 7391 02d6 1A44     		add	r2, r2, r3
ARM GAS  /tmp/cc5m2BsI.s 			page 192


 7392              		.loc 1 3486 16
 7393 02d8 FB68     		ldr	r3, [r7, #12]
 7394 02da DA61     		str	r2, [r3, #28]
3487:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3488:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_read(fs->drv, fp->buf, fp->sect, 1) != RES_OK) res = FR_DISK_ERR;
 7395              		.loc 1 3488 23
 7396 02dc 3B69     		ldr	r3, [r7, #16]
 7397              		.loc 1 3488 11
 7398 02de 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 7399              		.loc 1 3488 32
 7400 02e0 FB68     		ldr	r3, [r7, #12]
 7401 02e2 03F12C01 		add	r1, r3, #44
 7402              		.loc 1 3488 11
 7403 02e6 FB68     		ldr	r3, [r7, #12]
 7404 02e8 DA69     		ldr	r2, [r3, #28]
 7405 02ea 0123     		movs	r3, #1
 7406 02ec FFF7FEFF 		bl	disk_read
 7407 02f0 0346     		mov	r3, r0
 7408              		.loc 1 3488 10
 7409 02f2 002B     		cmp	r3, #0
 7410 02f4 02D0     		beq	.L465
 7411              		.loc 1 3488 67 discriminator 1
 7412 02f6 0123     		movs	r3, #1
 7413 02f8 87F85F30 		strb	r3, [r7, #95]
 7414              	.L465:
3489:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3490:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3491:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3492:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3493:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3494:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3495:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3496:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3497:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3498:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3499:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) fp->obj.fs = 0;	/* Invalidate file object on error */
 7415              		.loc 1 3499 5
 7416 02fc 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 7417 0300 002B     		cmp	r3, #0
 7418 0302 02D0     		beq	.L482
 7419              		.loc 1 3499 31 discriminator 1
 7420 0304 FB68     		ldr	r3, [r7, #12]
 7421 0306 0022     		movs	r2, #0
 7422 0308 1A60     		str	r2, [r3]
 7423              	.L482:
3500:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3501:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 7424              		.loc 1 3501 2
 7425 030a 97F85F30 		ldrb	r3, [r7, #95]	@ zero_extendqisi2
 7426              	.L483:
3502:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 7427              		.loc 1 3502 1 discriminator 1
 7428 030e 1846     		mov	r0, r3
 7429 0310 6037     		adds	r7, r7, #96
 7430              		.cfi_def_cfa_offset 8
 7431 0312 BD46     		mov	sp, r7
 7432              		.cfi_def_cfa_register 13
ARM GAS  /tmp/cc5m2BsI.s 			page 193


 7433              		@ sp needed
 7434 0314 80BD     		pop	{r7, pc}
 7435              		.cfi_endproc
 7436              	.LFE359:
 7438              		.section	.text.f_read,"ax",%progbits
 7439              		.align	1
 7440              		.global	f_read
 7441              		.syntax unified
 7442              		.thumb
 7443              		.thumb_func
 7444              		.fpu fpv5-d16
 7446              	f_read:
 7447              	.LFB360:
3503:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3504:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3505:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3506:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3507:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3508:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
3509:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3510:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3511:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
3512:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 	/* Pointer to the file object */
3513:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,	/* Pointer to data buffer */
3514:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,	/* Number of bytes to read */
3515:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br	/* Pointer to number of bytes read */
3516:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
3517:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 7448              		.loc 1 3517 1
 7449              		.cfi_startproc
 7450              		@ args = 0, pretend = 0, frame = 56
 7451              		@ frame_needed = 1, uses_anonymous_args = 0
 7452 0000 80B5     		push	{r7, lr}
 7453              		.cfi_def_cfa_offset 8
 7454              		.cfi_offset 7, -8
 7455              		.cfi_offset 14, -4
 7456 0002 8EB0     		sub	sp, sp, #56
 7457              		.cfi_def_cfa_offset 64
 7458 0004 00AF     		add	r7, sp, #0
 7459              		.cfi_def_cfa_register 7
 7460 0006 F860     		str	r0, [r7, #12]
 7461 0008 B960     		str	r1, [r7, #8]
 7462 000a 7A60     		str	r2, [r7, #4]
 7463 000c 3B60     		str	r3, [r7]
3518:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3519:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3520:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3521:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
3522:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc, csect;
3523:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *rbuff = (BYTE*)buff;
 7464              		.loc 1 3523 8
 7465 000e BB68     		ldr	r3, [r7, #8]
 7466 0010 7B62     		str	r3, [r7, #36]
3524:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3525:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3526:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
 7467              		.loc 1 3526 6
ARM GAS  /tmp/cc5m2BsI.s 			page 194


 7468 0012 3B68     		ldr	r3, [r7]
 7469 0014 0022     		movs	r2, #0
 7470 0016 1A60     		str	r2, [r3]
3527:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);				/* Check validity of the file object */
 7471              		.loc 1 3527 8
 7472 0018 FB68     		ldr	r3, [r7, #12]
 7473 001a 07F11402 		add	r2, r7, #20
 7474 001e 1146     		mov	r1, r2
 7475 0020 1846     		mov	r0, r3
 7476 0022 FFF7FEFF 		bl	validate
 7477 0026 0346     		mov	r3, r0
 7478 0028 87F83730 		strb	r3, [r7, #55]
3528:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7479              		.loc 1 3528 5
 7480 002c 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 7481 0030 002B     		cmp	r3, #0
 7482 0032 07D1     		bne	.L485
 7483              		.loc 1 3528 27 discriminator 2
 7484 0034 FB68     		ldr	r3, [r7, #12]
 7485 0036 5B7C     		ldrb	r3, [r3, #17]
 7486 0038 87F83730 		strb	r3, [r7, #55]
 7487              		.loc 1 3528 19 discriminator 2
 7488 003c 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 7489 0040 002B     		cmp	r3, #0
 7490 0042 02D0     		beq	.L486
 7491              	.L485:
 7492              		.loc 1 3528 57 discriminator 3
 7493 0044 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 7494 0048 15E1     		b	.L509
 7495              	.L486:
3529:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED); /* Check access mode */
 7496              		.loc 1 3529 10
 7497 004a FB68     		ldr	r3, [r7, #12]
 7498 004c 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 7499              		.loc 1 3529 17
 7500 004e 03F00103 		and	r3, r3, #1
 7501              		.loc 1 3529 5
 7502 0052 002B     		cmp	r3, #0
 7503 0054 01D1     		bne	.L488
 7504              		.loc 1 3529 29 discriminator 1
 7505 0056 0723     		movs	r3, #7
 7506 0058 0DE1     		b	.L509
 7507              	.L488:
3530:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
 7508              		.loc 1 3530 18
 7509 005a FB68     		ldr	r3, [r7, #12]
 7510 005c DA68     		ldr	r2, [r3, #12]
 7511              		.loc 1 3530 31
 7512 005e FB68     		ldr	r3, [r7, #12]
 7513 0060 5B69     		ldr	r3, [r3, #20]
 7514              		.loc 1 3530 9
 7515 0062 D31A     		subs	r3, r2, r3
 7516 0064 3B62     		str	r3, [r7, #32]
3531:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 7517              		.loc 1 3531 5
 7518 0066 7A68     		ldr	r2, [r7, #4]
 7519 0068 3B6A     		ldr	r3, [r7, #32]
ARM GAS  /tmp/cc5m2BsI.s 			page 195


 7520 006a 9A42     		cmp	r2, r3
 7521 006c 40F2FE80 		bls	.L490
 7522              		.loc 1 3531 24 discriminator 1
 7523 0070 3B6A     		ldr	r3, [r7, #32]
 7524 0072 7B60     		str	r3, [r7, #4]
3532:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3533:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
 7525              		.loc 1 3533 2 discriminator 1
 7526 0074 FAE0     		b	.L490
 7527              	.L508:
3534:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
3535:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7528              		.loc 1 3535 9
 7529 0076 FB68     		ldr	r3, [r7, #12]
 7530 0078 5B69     		ldr	r3, [r3, #20]
 7531              		.loc 1 3535 16
 7532 007a C3F30803 		ubfx	r3, r3, #0, #9
 7533              		.loc 1 3535 6
 7534 007e 002B     		cmp	r3, #0
 7535 0080 40F0C680 		bne	.L491
3536:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
 7536              		.loc 1 3536 21
 7537 0084 FB68     		ldr	r3, [r7, #12]
 7538 0086 5B69     		ldr	r3, [r3, #20]
 7539              		.loc 1 3536 28
 7540 0088 5B0A     		lsrs	r3, r3, #9
 7541              		.loc 1 3536 42
 7542 008a 7A69     		ldr	r2, [r7, #20]
 7543 008c 5289     		ldrh	r2, [r2, #10]
 7544              		.loc 1 3536 50
 7545 008e 013A     		subs	r2, r2, #1
 7546              		.loc 1 3536 10
 7547 0090 1340     		ands	r3, r3, r2
 7548 0092 FB61     		str	r3, [r7, #28]
3537:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {					/* On the cluster boundary? */
 7549              		.loc 1 3537 7
 7550 0094 FB69     		ldr	r3, [r7, #28]
 7551 0096 002B     		cmp	r3, #0
 7552 0098 2FD1     		bne	.L492
3538:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 7553              		.loc 1 3538 11
 7554 009a FB68     		ldr	r3, [r7, #12]
 7555 009c 5B69     		ldr	r3, [r3, #20]
 7556              		.loc 1 3538 8
 7557 009e 002B     		cmp	r3, #0
 7558 00a0 03D1     		bne	.L493
3539:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;		/* Follow cluster chain from the origin */
 7559              		.loc 1 3539 11
 7560 00a2 FB68     		ldr	r3, [r7, #12]
 7561 00a4 9B68     		ldr	r3, [r3, #8]
 7562 00a6 3B63     		str	r3, [r7, #48]
 7563 00a8 13E0     		b	.L494
 7564              	.L493:
3540:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
3541:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3542:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
 7565              		.loc 1 3542 12
ARM GAS  /tmp/cc5m2BsI.s 			page 196


 7566 00aa FB68     		ldr	r3, [r7, #12]
 7567 00ac 9B6A     		ldr	r3, [r3, #40]
 7568              		.loc 1 3542 9
 7569 00ae 002B     		cmp	r3, #0
 7570 00b0 07D0     		beq	.L495
3543:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 7571              		.loc 1 3543 14
 7572 00b2 FB68     		ldr	r3, [r7, #12]
 7573 00b4 5B69     		ldr	r3, [r3, #20]
 7574 00b6 1946     		mov	r1, r3
 7575 00b8 F868     		ldr	r0, [r7, #12]
 7576 00ba FFF7FEFF 		bl	clmt_clust
 7577 00be 3863     		str	r0, [r7, #48]
 7578 00c0 07E0     		b	.L494
 7579              	.L495:
3544:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3545:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3546:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3547:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, fp->clust);	/* Follow cluster chain on the FAT */
 7580              		.loc 1 3547 14
 7581 00c2 FA68     		ldr	r2, [r7, #12]
 7582 00c4 FB68     		ldr	r3, [r7, #12]
 7583 00c6 9B69     		ldr	r3, [r3, #24]
 7584 00c8 1946     		mov	r1, r3
 7585 00ca 1046     		mov	r0, r2
 7586 00cc FFF7FEFF 		bl	get_fat
 7587 00d0 3863     		str	r0, [r7, #48]
 7588              	.L494:
3548:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3549:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3550:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fs, FR_INT_ERR);
 7589              		.loc 1 3550 8
 7590 00d2 3B6B     		ldr	r3, [r7, #48]
 7591 00d4 012B     		cmp	r3, #1
 7592 00d6 04D8     		bhi	.L496
 7593              		.loc 1 3550 19 discriminator 1
 7594 00d8 FB68     		ldr	r3, [r7, #12]
 7595 00da 0222     		movs	r2, #2
 7596 00dc 5A74     		strb	r2, [r3, #17]
 7597 00de 0223     		movs	r3, #2
 7598 00e0 C9E0     		b	.L509
 7599              	.L496:
3551:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 7600              		.loc 1 3551 8
 7601 00e2 3B6B     		ldr	r3, [r7, #48]
 7602 00e4 B3F1FF3F 		cmp	r3, #-1
 7603 00e8 04D1     		bne	.L497
 7604              		.loc 1 3551 29 discriminator 1
 7605 00ea FB68     		ldr	r3, [r7, #12]
 7606 00ec 0122     		movs	r2, #1
 7607 00ee 5A74     		strb	r2, [r3, #17]
 7608 00f0 0123     		movs	r3, #1
 7609 00f2 C0E0     		b	.L509
 7610              	.L497:
3552:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 7611              		.loc 1 3552 15
 7612 00f4 FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/cc5m2BsI.s 			page 197


 7613 00f6 3A6B     		ldr	r2, [r7, #48]
 7614 00f8 9A61     		str	r2, [r3, #24]
 7615              	.L492:
3553:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3554:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
 7616              		.loc 1 3554 11
 7617 00fa 7A69     		ldr	r2, [r7, #20]
 7618 00fc FB68     		ldr	r3, [r7, #12]
 7619 00fe 9B69     		ldr	r3, [r3, #24]
 7620 0100 1946     		mov	r1, r3
 7621 0102 1046     		mov	r0, r2
 7622 0104 FFF7FEFF 		bl	clust2sect
 7623 0108 B861     		str	r0, [r7, #24]
3555:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 7624              		.loc 1 3555 7
 7625 010a BB69     		ldr	r3, [r7, #24]
 7626 010c 002B     		cmp	r3, #0
 7627 010e 04D1     		bne	.L498
 7628              		.loc 1 3555 15 discriminator 1
 7629 0110 FB68     		ldr	r3, [r7, #12]
 7630 0112 0222     		movs	r2, #2
 7631 0114 5A74     		strb	r2, [r3, #17]
 7632 0116 0223     		movs	r3, #2
 7633 0118 ADE0     		b	.L509
 7634              	.L498:
3556:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 7635              		.loc 1 3556 9
 7636 011a BA69     		ldr	r2, [r7, #24]
 7637 011c FB69     		ldr	r3, [r7, #28]
 7638 011e 1344     		add	r3, r3, r2
 7639 0120 BB61     		str	r3, [r7, #24]
3557:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fs);					/* When remaining bytes >= sector size, */
 7640              		.loc 1 3557 7
 7641 0122 7B68     		ldr	r3, [r7, #4]
 7642 0124 5B0A     		lsrs	r3, r3, #9
 7643 0126 BB62     		str	r3, [r7, #40]
3558:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 7644              		.loc 1 3558 7
 7645 0128 BB6A     		ldr	r3, [r7, #40]
 7646 012a 002B     		cmp	r3, #0
 7647 012c 39D0     		beq	.L499
3559:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 7648              		.loc 1 3559 15
 7649 012e FA69     		ldr	r2, [r7, #28]
 7650 0130 BB6A     		ldr	r3, [r7, #40]
 7651 0132 1344     		add	r3, r3, r2
 7652              		.loc 1 3559 24
 7653 0134 7A69     		ldr	r2, [r7, #20]
 7654 0136 5289     		ldrh	r2, [r2, #10]
 7655              		.loc 1 3559 8
 7656 0138 9342     		cmp	r3, r2
 7657 013a 05D9     		bls	.L500
3560:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 7658              		.loc 1 3560 13
 7659 013c 7B69     		ldr	r3, [r7, #20]
 7660 013e 5B89     		ldrh	r3, [r3, #10]
 7661 0140 1A46     		mov	r2, r3
ARM GAS  /tmp/cc5m2BsI.s 			page 198


 7662              		.loc 1 3560 9
 7663 0142 FB69     		ldr	r3, [r7, #28]
 7664 0144 D31A     		subs	r3, r2, r3
 7665 0146 BB62     		str	r3, [r7, #40]
 7666              	.L500:
3561:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3562:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, rbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7667              		.loc 1 3562 21
 7668 0148 7B69     		ldr	r3, [r7, #20]
 7669              		.loc 1 3562 9
 7670 014a 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 7671 014c BB6A     		ldr	r3, [r7, #40]
 7672 014e BA69     		ldr	r2, [r7, #24]
 7673 0150 796A     		ldr	r1, [r7, #36]
 7674 0152 FFF7FEFF 		bl	disk_read
 7675 0156 0346     		mov	r3, r0
 7676              		.loc 1 3562 8
 7677 0158 002B     		cmp	r3, #0
 7678 015a 04D0     		beq	.L501
 7679              		.loc 1 3562 56 discriminator 1
 7680 015c FB68     		ldr	r3, [r7, #12]
 7681 015e 0122     		movs	r2, #1
 7682 0160 5A74     		strb	r2, [r3, #17]
 7683 0162 0123     		movs	r3, #1
 7684 0164 87E0     		b	.L509
 7685              	.L501:
3563:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
3564:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3565:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->wflag && fs->winsect - sect < cc) {
3566:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fs->winsect - sect) * SS(fs)), fs->win, SS(fs));
3567:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3568:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
3569:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA_DIRTY) && fp->sect - sect < cc) {
 7686              		.loc 1 3569 12
 7687 0166 FB68     		ldr	r3, [r7, #12]
 7688 0168 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 7689              		.loc 1 3569 9
 7690 016a 5BB2     		sxtb	r3, r3
 7691              		.loc 1 3569 8
 7692 016c 002B     		cmp	r3, #0
 7693 016e 14DA     		bge	.L502
 7694              		.loc 1 3569 36 discriminator 1
 7695 0170 FB68     		ldr	r3, [r7, #12]
 7696 0172 DA69     		ldr	r2, [r3, #28]
 7697              		.loc 1 3569 43 discriminator 1
 7698 0174 BB69     		ldr	r3, [r7, #24]
 7699 0176 D31A     		subs	r3, r2, r3
 7700              		.loc 1 3569 31 discriminator 1
 7701 0178 BA6A     		ldr	r2, [r7, #40]
 7702 017a 9A42     		cmp	r2, r3
 7703 017c 0DD9     		bls	.L502
3570:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->sect - sect) * SS(fs)), fp->buf, SS(fs));
 7704              		.loc 1 3570 26
 7705 017e FB68     		ldr	r3, [r7, #12]
 7706 0180 DA69     		ldr	r2, [r3, #28]
 7707              		.loc 1 3570 33
 7708 0182 BB69     		ldr	r3, [r7, #24]
ARM GAS  /tmp/cc5m2BsI.s 			page 199


 7709 0184 D31A     		subs	r3, r2, r3
 7710              		.loc 1 3570 41
 7711 0186 5B02     		lsls	r3, r3, #9
 7712              		.loc 1 3570 20
 7713 0188 7A6A     		ldr	r2, [r7, #36]
 7714 018a D018     		adds	r0, r2, r3
 7715              		.loc 1 3570 54
 7716 018c FB68     		ldr	r3, [r7, #12]
 7717 018e 2C33     		adds	r3, r3, #44
 7718              		.loc 1 3570 6
 7719 0190 4FF40072 		mov	r2, #512
 7720 0194 1946     		mov	r1, r3
 7721 0196 FFF7FEFF 		bl	mem_cpy
 7722              	.L502:
3571:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3572:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3573:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3574:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fs) * cc;				/* Number of bytes transferred */
 7723              		.loc 1 3574 10
 7724 019a BB6A     		ldr	r3, [r7, #40]
 7725 019c 5B02     		lsls	r3, r3, #9
 7726 019e FB62     		str	r3, [r7, #44]
3575:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 7727              		.loc 1 3575 5
 7728 01a0 50E0     		b	.L503
 7729              	.L499:
3576:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3577:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3578:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect) {			/* Load data sector if not in cache */
 7730              		.loc 1 3578 10
 7731 01a2 FB68     		ldr	r3, [r7, #12]
 7732 01a4 DB69     		ldr	r3, [r3, #28]
 7733              		.loc 1 3578 7
 7734 01a6 BA69     		ldr	r2, [r7, #24]
 7735 01a8 9A42     		cmp	r2, r3
 7736 01aa 2ED0     		beq	.L504
3579:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3580:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
 7737              		.loc 1 3580 11
 7738 01ac FB68     		ldr	r3, [r7, #12]
 7739 01ae 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 7740              		.loc 1 3580 9
 7741 01b0 5BB2     		sxtb	r3, r3
 7742              		.loc 1 3580 8
 7743 01b2 002B     		cmp	r3, #0
 7744 01b4 18DA     		bge	.L505
3581:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 7745              		.loc 1 3581 23
 7746 01b6 7B69     		ldr	r3, [r7, #20]
 7747              		.loc 1 3581 10
 7748 01b8 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 7749              		.loc 1 3581 32
 7750 01ba FB68     		ldr	r3, [r7, #12]
 7751 01bc 03F12C01 		add	r1, r3, #44
 7752              		.loc 1 3581 10
 7753 01c0 FB68     		ldr	r3, [r7, #12]
 7754 01c2 DA69     		ldr	r2, [r3, #28]
ARM GAS  /tmp/cc5m2BsI.s 			page 200


 7755 01c4 0123     		movs	r3, #1
 7756 01c6 FFF7FEFF 		bl	disk_write
 7757 01ca 0346     		mov	r3, r0
 7758              		.loc 1 3581 9
 7759 01cc 002B     		cmp	r3, #0
 7760 01ce 04D0     		beq	.L506
 7761              		.loc 1 3581 63 discriminator 1
 7762 01d0 FB68     		ldr	r3, [r7, #12]
 7763 01d2 0122     		movs	r2, #1
 7764 01d4 5A74     		strb	r2, [r3, #17]
 7765 01d6 0123     		movs	r3, #1
 7766 01d8 4DE0     		b	.L509
 7767              	.L506:
3582:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 7768              		.loc 1 3582 15
 7769 01da FB68     		ldr	r3, [r7, #12]
 7770 01dc 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 7771 01de 03F07F03 		and	r3, r3, #127
 7772 01e2 DAB2     		uxtb	r2, r3
 7773 01e4 FB68     		ldr	r3, [r7, #12]
 7774 01e6 1A74     		strb	r2, [r3, #16]
 7775              	.L505:
3583:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3584:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3585:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK)	ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
 7776              		.loc 1 3585 21
 7777 01e8 7B69     		ldr	r3, [r7, #20]
 7778              		.loc 1 3585 9
 7779 01ea 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 7780              		.loc 1 3585 30
 7781 01ec FB68     		ldr	r3, [r7, #12]
 7782 01ee 03F12C01 		add	r1, r3, #44
 7783              		.loc 1 3585 9
 7784 01f2 0123     		movs	r3, #1
 7785 01f4 BA69     		ldr	r2, [r7, #24]
 7786 01f6 FFF7FEFF 		bl	disk_read
 7787 01fa 0346     		mov	r3, r0
 7788              		.loc 1 3585 8
 7789 01fc 002B     		cmp	r3, #0
 7790 01fe 04D0     		beq	.L504
 7791              		.loc 1 3585 57 discriminator 1
 7792 0200 FB68     		ldr	r3, [r7, #12]
 7793 0202 0122     		movs	r2, #1
 7794 0204 5A74     		strb	r2, [r3, #17]
 7795 0206 0123     		movs	r3, #1
 7796 0208 35E0     		b	.L509
 7797              	.L504:
3586:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3587:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3588:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
 7798              		.loc 1 3588 13
 7799 020a FB68     		ldr	r3, [r7, #12]
 7800 020c BA69     		ldr	r2, [r7, #24]
 7801 020e DA61     		str	r2, [r3, #28]
 7802              	.L491:
3589:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3590:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
ARM GAS  /tmp/cc5m2BsI.s 			page 201


 7803              		.loc 1 3590 27
 7804 0210 FB68     		ldr	r3, [r7, #12]
 7805 0212 5B69     		ldr	r3, [r3, #20]
 7806              		.loc 1 3590 34
 7807 0214 C3F30803 		ubfx	r3, r3, #0, #9
 7808              		.loc 1 3590 8
 7809 0218 C3F50073 		rsb	r3, r3, #512
 7810 021c FB62     		str	r3, [r7, #44]
3591:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;					/* Clip it by btr if needed */
 7811              		.loc 1 3591 6
 7812 021e FA6A     		ldr	r2, [r7, #44]
 7813 0220 7B68     		ldr	r3, [r7, #4]
 7814 0222 9A42     		cmp	r2, r3
 7815 0224 01D9     		bls	.L507
 7816              		.loc 1 3591 24 discriminator 1
 7817 0226 7B68     		ldr	r3, [r7, #4]
 7818 0228 FB62     		str	r3, [r7, #44]
 7819              	.L507:
3592:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3593:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3594:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fs->win + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
3595:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
3596:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, fp->buf + fp->fptr % SS(fs), rcnt);	/* Extract partial sector */
 7820              		.loc 1 3596 18
 7821 022a FB68     		ldr	r3, [r7, #12]
 7822 022c 03F12C02 		add	r2, r3, #44
 7823              		.loc 1 3596 30
 7824 0230 FB68     		ldr	r3, [r7, #12]
 7825 0232 5B69     		ldr	r3, [r3, #20]
 7826              		.loc 1 3596 37
 7827 0234 C3F30803 		ubfx	r3, r3, #0, #9
 7828              		.loc 1 3596 3
 7829 0238 1344     		add	r3, r3, r2
 7830 023a FA6A     		ldr	r2, [r7, #44]
 7831 023c 1946     		mov	r1, r3
 7832 023e 786A     		ldr	r0, [r7, #36]
 7833 0240 FFF7FEFF 		bl	mem_cpy
 7834              	.L503:
3534:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7835              		.loc 1 3534 9
 7836 0244 7A6A     		ldr	r2, [r7, #36]
 7837 0246 FB6A     		ldr	r3, [r7, #44]
 7838 0248 1344     		add	r3, r3, r2
 7839 024a 7B62     		str	r3, [r7, #36]
3534:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7840              		.loc 1 3534 27
 7841 024c FB68     		ldr	r3, [r7, #12]
 7842 024e 5A69     		ldr	r2, [r3, #20]
 7843 0250 FB6A     		ldr	r3, [r7, #44]
 7844 0252 1A44     		add	r2, r2, r3
 7845 0254 FB68     		ldr	r3, [r7, #12]
 7846 0256 5A61     		str	r2, [r3, #20]
3534:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7847              		.loc 1 3534 40
 7848 0258 3B68     		ldr	r3, [r7]
 7849 025a 1A68     		ldr	r2, [r3]
 7850 025c FB6A     		ldr	r3, [r7, #44]
ARM GAS  /tmp/cc5m2BsI.s 			page 202


 7851 025e 1A44     		add	r2, r2, r3
 7852 0260 3B68     		ldr	r3, [r7]
 7853 0262 1A60     		str	r2, [r3]
3534:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {			/* On the sector boundary? */
 7854              		.loc 1 3534 53
 7855 0264 7A68     		ldr	r2, [r7, #4]
 7856 0266 FB6A     		ldr	r3, [r7, #44]
 7857 0268 D31A     		subs	r3, r2, r3
 7858 026a 7B60     		str	r3, [r7, #4]
 7859              	.L490:
3533:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 7860              		.loc 1 3533 2
 7861 026c 7B68     		ldr	r3, [r7, #4]
 7862 026e 002B     		cmp	r3, #0
 7863 0270 7FF401AF 		bne	.L508
3597:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3598:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3599:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
 7864              		.loc 1 3600 2
 7865 0274 0023     		movs	r3, #0
 7866              	.L509:
3601:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 7867              		.loc 1 3601 1 discriminator 1
 7868 0276 1846     		mov	r0, r3
 7869 0278 3837     		adds	r7, r7, #56
 7870              		.cfi_def_cfa_offset 8
 7871 027a BD46     		mov	sp, r7
 7872              		.cfi_def_cfa_register 13
 7873              		@ sp needed
 7874 027c 80BD     		pop	{r7, pc}
 7875              		.cfi_endproc
 7876              	.LFE360:
 7878              		.section	.text.f_write,"ax",%progbits
 7879              		.align	1
 7880              		.global	f_write
 7881              		.syntax unified
 7882              		.thumb
 7883              		.thumb_func
 7884              		.fpu fpv5-d16
 7886              	f_write:
 7887              	.LFB361:
3602:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3603:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3604:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3605:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3606:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3607:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3608:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
3609:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3610:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
3612:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
3613:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const void* buff,	/* Pointer to the data to be written */
3614:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
3615:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
3616:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/cc5m2BsI.s 			page 203


3617:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 7888              		.loc 1 3617 1
 7889              		.cfi_startproc
 7890              		@ args = 0, pretend = 0, frame = 48
 7891              		@ frame_needed = 1, uses_anonymous_args = 0
 7892 0000 80B5     		push	{r7, lr}
 7893              		.cfi_def_cfa_offset 8
 7894              		.cfi_offset 7, -8
 7895              		.cfi_offset 14, -4
 7896 0002 8CB0     		sub	sp, sp, #48
 7897              		.cfi_def_cfa_offset 56
 7898 0004 00AF     		add	r7, sp, #0
 7899              		.cfi_def_cfa_register 7
 7900 0006 F860     		str	r0, [r7, #12]
 7901 0008 B960     		str	r1, [r7, #8]
 7902 000a 7A60     		str	r2, [r7, #4]
 7903 000c 3B60     		str	r3, [r7]
3618:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3619:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3620:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
3621:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc, csect;
3622:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 7904              		.loc 1 3622 14
 7905 000e BB68     		ldr	r3, [r7, #8]
 7906 0010 FB61     		str	r3, [r7, #28]
3623:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3624:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3625:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
 7907              		.loc 1 3625 6
 7908 0012 3B68     		ldr	r3, [r7]
 7909 0014 0022     		movs	r2, #0
 7910 0016 1A60     		str	r2, [r3]
3626:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);			/* Check validity of the file object */
 7911              		.loc 1 3626 8
 7912 0018 FB68     		ldr	r3, [r7, #12]
 7913 001a 07F11002 		add	r2, r7, #16
 7914 001e 1146     		mov	r1, r2
 7915 0020 1846     		mov	r0, r3
 7916 0022 FFF7FEFF 		bl	validate
 7917 0026 0346     		mov	r3, r0
 7918 0028 87F82F30 		strb	r3, [r7, #47]
3627:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);	/* Check validity */
 7919              		.loc 1 3627 5
 7920 002c 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 7921 0030 002B     		cmp	r3, #0
 7922 0032 07D1     		bne	.L511
 7923              		.loc 1 3627 27 discriminator 2
 7924 0034 FB68     		ldr	r3, [r7, #12]
 7925 0036 5B7C     		ldrb	r3, [r3, #17]
 7926 0038 87F82F30 		strb	r3, [r7, #47]
 7927              		.loc 1 3627 19 discriminator 2
 7928 003c 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
 7929 0040 002B     		cmp	r3, #0
 7930 0042 02D0     		beq	.L512
 7931              	.L511:
 7932              		.loc 1 3627 57 discriminator 3
 7933 0044 97F82F30 		ldrb	r3, [r7, #47]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 204


 7934 0048 4BE1     		b	.L537
 7935              	.L512:
3628:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 7936              		.loc 1 3628 10
 7937 004a FB68     		ldr	r3, [r7, #12]
 7938 004c 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 7939              		.loc 1 3628 17
 7940 004e 03F00203 		and	r3, r3, #2
 7941              		.loc 1 3628 5
 7942 0052 002B     		cmp	r3, #0
 7943 0054 01D1     		bne	.L514
 7944              		.loc 1 3628 30 discriminator 1
 7945 0056 0723     		movs	r3, #7
 7946 0058 43E1     		b	.L537
 7947              	.L514:
3629:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3630:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check fptr wrap-around (file size cannot reach 4GiB on FATxx) */
3631:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((!_FS_EXFAT || fs->fs_type != FS_EXFAT) && (DWORD)(fp->fptr + btw) < (DWORD)fp->fptr) {
 7948              		.loc 1 3631 59
 7949 005a FB68     		ldr	r3, [r7, #12]
 7950 005c 5A69     		ldr	r2, [r3, #20]
 7951              		.loc 1 3631 49
 7952 005e 7B68     		ldr	r3, [r7, #4]
 7953 0060 1A44     		add	r2, r2, r3
 7954              		.loc 1 3631 84
 7955 0062 FB68     		ldr	r3, [r7, #12]
 7956 0064 5B69     		ldr	r3, [r3, #20]
 7957              		.loc 1 3631 5
 7958 0066 9A42     		cmp	r2, r3
 7959 0068 80F02D81 		bcs	.L516
3632:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		btw = (UINT)(0xFFFFFFFF - (DWORD)fp->fptr);
 7960              		.loc 1 3632 38
 7961 006c FB68     		ldr	r3, [r7, #12]
 7962 006e 5B69     		ldr	r3, [r3, #20]
 7963              		.loc 1 3632 7
 7964 0070 DB43     		mvns	r3, r3
 7965 0072 7B60     		str	r3, [r7, #4]
3633:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3634:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3635:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
 7966              		.loc 1 3635 2
 7967 0074 27E1     		b	.L516
 7968              	.L536:
3636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
3637:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 7969              		.loc 1 3637 9
 7970 0076 FB68     		ldr	r3, [r7, #12]
 7971 0078 5B69     		ldr	r3, [r3, #20]
 7972              		.loc 1 3637 16
 7973 007a C3F30803 		ubfx	r3, r3, #0, #9
 7974              		.loc 1 3637 6
 7975 007e 002B     		cmp	r3, #0
 7976 0080 40F0E380 		bne	.L517
3638:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (UINT)(fp->fptr / SS(fs)) & (fs->csize - 1);	/* Sector offset in the cluster */
 7977              		.loc 1 3638 21
 7978 0084 FB68     		ldr	r3, [r7, #12]
 7979 0086 5B69     		ldr	r3, [r3, #20]
ARM GAS  /tmp/cc5m2BsI.s 			page 205


 7980              		.loc 1 3638 28
 7981 0088 5B0A     		lsrs	r3, r3, #9
 7982              		.loc 1 3638 43
 7983 008a 3A69     		ldr	r2, [r7, #16]
 7984 008c 5289     		ldrh	r2, [r2, #10]
 7985              		.loc 1 3638 51
 7986 008e 013A     		subs	r2, r2, #1
 7987              		.loc 1 3638 10
 7988 0090 1340     		ands	r3, r3, r2
 7989 0092 BB61     		str	r3, [r7, #24]
3639:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {				/* On the cluster boundary? */
 7990              		.loc 1 3639 7
 7991 0094 BB69     		ldr	r3, [r7, #24]
 7992 0096 002B     		cmp	r3, #0
 7993 0098 43D1     		bne	.L518
3640:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 7994              		.loc 1 3640 11
 7995 009a FB68     		ldr	r3, [r7, #12]
 7996 009c 5B69     		ldr	r3, [r3, #20]
 7997              		.loc 1 3640 8
 7998 009e 002B     		cmp	r3, #0
 7999 00a0 0CD1     		bne	.L519
3641:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->obj.sclust;	/* Follow from the origin */
 8000              		.loc 1 3641 11
 8001 00a2 FB68     		ldr	r3, [r7, #12]
 8002 00a4 9B68     		ldr	r3, [r3, #8]
 8003 00a6 BB62     		str	r3, [r7, #40]
3642:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) {		/* If no cluster is allocated, */
 8004              		.loc 1 3642 9
 8005 00a8 BB6A     		ldr	r3, [r7, #40]
 8006 00aa 002B     		cmp	r3, #0
 8007 00ac 1AD1     		bne	.L520
3643:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, 0);	/* create a new cluster chain */
 8008              		.loc 1 3643 14
 8009 00ae FB68     		ldr	r3, [r7, #12]
 8010 00b0 0021     		movs	r1, #0
 8011 00b2 1846     		mov	r0, r3
 8012 00b4 FFF7FEFF 		bl	create_chain
 8013 00b8 B862     		str	r0, [r7, #40]
 8014 00ba 13E0     		b	.L520
 8015              	.L519:
3644:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3645:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* On the middle or end of the file */
3646:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3647:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl) {
 8016              		.loc 1 3647 12
 8017 00bc FB68     		ldr	r3, [r7, #12]
 8018 00be 9B6A     		ldr	r3, [r3, #40]
 8019              		.loc 1 3647 9
 8020 00c0 002B     		cmp	r3, #0
 8021 00c2 07D0     		beq	.L521
3648:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 8022              		.loc 1 3648 14
 8023 00c4 FB68     		ldr	r3, [r7, #12]
 8024 00c6 5B69     		ldr	r3, [r3, #20]
 8025 00c8 1946     		mov	r1, r3
 8026 00ca F868     		ldr	r0, [r7, #12]
ARM GAS  /tmp/cc5m2BsI.s 			page 206


 8027 00cc FFF7FEFF 		bl	clmt_clust
 8028 00d0 B862     		str	r0, [r7, #40]
 8029 00d2 07E0     		b	.L520
 8030              	.L521:
3649:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3650:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3651:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3652:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, fp->clust);	/* Follow or stretch cluster chain on the FAT */
 8031              		.loc 1 3652 14
 8032 00d4 FA68     		ldr	r2, [r7, #12]
 8033 00d6 FB68     		ldr	r3, [r7, #12]
 8034 00d8 9B69     		ldr	r3, [r3, #24]
 8035 00da 1946     		mov	r1, r3
 8036 00dc 1046     		mov	r0, r2
 8037 00de FFF7FEFF 		bl	create_chain
 8038 00e2 B862     		str	r0, [r7, #40]
 8039              	.L520:
3653:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3654:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3655:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
 8040              		.loc 1 3655 8
 8041 00e4 BB6A     		ldr	r3, [r7, #40]
 8042 00e6 002B     		cmp	r3, #0
 8043 00e8 00F0F280 		beq	.L538
3656:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 8044              		.loc 1 3656 8
 8045 00ec BB6A     		ldr	r3, [r7, #40]
 8046 00ee 012B     		cmp	r3, #1
 8047 00f0 04D1     		bne	.L524
 8048              		.loc 1 3656 20 discriminator 1
 8049 00f2 FB68     		ldr	r3, [r7, #12]
 8050 00f4 0222     		movs	r2, #2
 8051 00f6 5A74     		strb	r2, [r3, #17]
 8052 00f8 0223     		movs	r3, #2
 8053 00fa F2E0     		b	.L537
 8054              	.L524:
3657:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8055              		.loc 1 3657 8
 8056 00fc BB6A     		ldr	r3, [r7, #40]
 8057 00fe B3F1FF3F 		cmp	r3, #-1
 8058 0102 04D1     		bne	.L525
 8059              		.loc 1 3657 29 discriminator 1
 8060 0104 FB68     		ldr	r3, [r7, #12]
 8061 0106 0122     		movs	r2, #1
 8062 0108 5A74     		strb	r2, [r3, #17]
 8063 010a 0123     		movs	r3, #1
 8064 010c E9E0     		b	.L537
 8065              	.L525:
3658:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 8066              		.loc 1 3658 15
 8067 010e FB68     		ldr	r3, [r7, #12]
 8068 0110 BA6A     		ldr	r2, [r7, #40]
 8069 0112 9A61     		str	r2, [r3, #24]
3659:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->obj.sclust == 0) fp->obj.sclust = clst;	/* Set start cluster if the first write */
 8070              		.loc 1 3659 16
 8071 0114 FB68     		ldr	r3, [r7, #12]
 8072 0116 9B68     		ldr	r3, [r3, #8]
ARM GAS  /tmp/cc5m2BsI.s 			page 207


 8073              		.loc 1 3659 8
 8074 0118 002B     		cmp	r3, #0
 8075 011a 02D1     		bne	.L518
 8076              		.loc 1 3659 45 discriminator 1
 8077 011c FB68     		ldr	r3, [r7, #12]
 8078 011e BA6A     		ldr	r2, [r7, #40]
 8079 0120 9A60     		str	r2, [r3, #8]
 8080              	.L518:
3660:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3661:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3662:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->winsect == fp->sect && sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Write-back s
3663:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
3664:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back sector cache */
 8081              		.loc 1 3664 10
 8082 0122 FB68     		ldr	r3, [r7, #12]
 8083 0124 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8084              		.loc 1 3664 8
 8085 0126 5BB2     		sxtb	r3, r3
 8086              		.loc 1 3664 7
 8087 0128 002B     		cmp	r3, #0
 8088 012a 18DA     		bge	.L526
3665:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8089              		.loc 1 3665 22
 8090 012c 3B69     		ldr	r3, [r7, #16]
 8091              		.loc 1 3665 9
 8092 012e 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 8093              		.loc 1 3665 31
 8094 0130 FB68     		ldr	r3, [r7, #12]
 8095 0132 03F12C01 		add	r1, r3, #44
 8096              		.loc 1 3665 9
 8097 0136 FB68     		ldr	r3, [r7, #12]
 8098 0138 DA69     		ldr	r2, [r3, #28]
 8099 013a 0123     		movs	r3, #1
 8100 013c FFF7FEFF 		bl	disk_write
 8101 0140 0346     		mov	r3, r0
 8102              		.loc 1 3665 8
 8103 0142 002B     		cmp	r3, #0
 8104 0144 04D0     		beq	.L527
 8105              		.loc 1 3665 62 discriminator 1
 8106 0146 FB68     		ldr	r3, [r7, #12]
 8107 0148 0122     		movs	r2, #1
 8108 014a 5A74     		strb	r2, [r3, #17]
 8109 014c 0123     		movs	r3, #1
 8110 014e C8E0     		b	.L537
 8111              	.L527:
3666:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8112              		.loc 1 3666 14
 8113 0150 FB68     		ldr	r3, [r7, #12]
 8114 0152 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8115 0154 03F07F03 		and	r3, r3, #127
 8116 0158 DAB2     		uxtb	r2, r3
 8117 015a FB68     		ldr	r3, [r7, #12]
 8118 015c 1A74     		strb	r2, [r3, #16]
 8119              	.L526:
3667:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3668:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3669:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fs, fp->clust);	/* Get current sector */
ARM GAS  /tmp/cc5m2BsI.s 			page 208


 8120              		.loc 1 3669 11
 8121 015e 3A69     		ldr	r2, [r7, #16]
 8122 0160 FB68     		ldr	r3, [r7, #12]
 8123 0162 9B69     		ldr	r3, [r3, #24]
 8124 0164 1946     		mov	r1, r3
 8125 0166 1046     		mov	r0, r2
 8126 0168 FFF7FEFF 		bl	clust2sect
 8127 016c 7861     		str	r0, [r7, #20]
3670:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fs, FR_INT_ERR);
 8128              		.loc 1 3670 7
 8129 016e 7B69     		ldr	r3, [r7, #20]
 8130 0170 002B     		cmp	r3, #0
 8131 0172 04D1     		bne	.L528
 8132              		.loc 1 3670 15 discriminator 1
 8133 0174 FB68     		ldr	r3, [r7, #12]
 8134 0176 0222     		movs	r2, #2
 8135 0178 5A74     		strb	r2, [r3, #17]
 8136 017a 0223     		movs	r3, #2
 8137 017c B1E0     		b	.L537
 8138              	.L528:
3671:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 8139              		.loc 1 3671 9
 8140 017e 7A69     		ldr	r2, [r7, #20]
 8141 0180 BB69     		ldr	r3, [r7, #24]
 8142 0182 1344     		add	r3, r3, r2
 8143 0184 7B61     		str	r3, [r7, #20]
3672:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fs);				/* When remaining bytes >= sector size, */
 8144              		.loc 1 3672 7
 8145 0186 7B68     		ldr	r3, [r7, #4]
 8146 0188 5B0A     		lsrs	r3, r3, #9
 8147 018a 3B62     		str	r3, [r7, #32]
3673:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 8148              		.loc 1 3673 7
 8149 018c 3B6A     		ldr	r3, [r7, #32]
 8150 018e 002B     		cmp	r3, #0
 8151 0190 3CD0     		beq	.L529
3674:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fs->csize) {	/* Clip at cluster boundary */
 8152              		.loc 1 3674 15
 8153 0192 BA69     		ldr	r2, [r7, #24]
 8154 0194 3B6A     		ldr	r3, [r7, #32]
 8155 0196 1344     		add	r3, r3, r2
 8156              		.loc 1 3674 24
 8157 0198 3A69     		ldr	r2, [r7, #16]
 8158 019a 5289     		ldrh	r2, [r2, #10]
 8159              		.loc 1 3674 8
 8160 019c 9342     		cmp	r3, r2
 8161 019e 05D9     		bls	.L530
3675:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fs->csize - csect;
 8162              		.loc 1 3675 13
 8163 01a0 3B69     		ldr	r3, [r7, #16]
 8164 01a2 5B89     		ldrh	r3, [r3, #10]
 8165 01a4 1A46     		mov	r2, r3
 8166              		.loc 1 3675 9
 8167 01a6 BB69     		ldr	r3, [r7, #24]
 8168 01a8 D31A     		subs	r3, r2, r3
 8169 01aa 3B62     		str	r3, [r7, #32]
 8170              	.L530:
ARM GAS  /tmp/cc5m2BsI.s 			page 209


3676:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3677:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, wbuff, sect, cc) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8171              		.loc 1 3677 22
 8172 01ac 3B69     		ldr	r3, [r7, #16]
 8173              		.loc 1 3677 9
 8174 01ae 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 8175 01b0 3B6A     		ldr	r3, [r7, #32]
 8176 01b2 7A69     		ldr	r2, [r7, #20]
 8177 01b4 F969     		ldr	r1, [r7, #28]
 8178 01b6 FFF7FEFF 		bl	disk_write
 8179 01ba 0346     		mov	r3, r0
 8180              		.loc 1 3677 8
 8181 01bc 002B     		cmp	r3, #0
 8182 01be 04D0     		beq	.L531
 8183              		.loc 1 3677 57 discriminator 1
 8184 01c0 FB68     		ldr	r3, [r7, #12]
 8185 01c2 0122     		movs	r2, #1
 8186 01c4 5A74     		strb	r2, [r3, #17]
 8187 01c6 0123     		movs	r3, #1
 8188 01c8 8BE0     		b	.L537
 8189              	.L531:
3678:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3679:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3680:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct writ
3681:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fs->win, wbuff + ((fs->winsect - sect) * SS(fs)), SS(fs));
3682:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 0;
3683:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3684:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
3685:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write *
 8190              		.loc 1 3685 11
 8191 01ca FB68     		ldr	r3, [r7, #12]
 8192 01cc DA69     		ldr	r2, [r3, #28]
 8193              		.loc 1 3685 18
 8194 01ce 7B69     		ldr	r3, [r7, #20]
 8195 01d0 D31A     		subs	r3, r2, r3
 8196              		.loc 1 3685 8
 8197 01d2 3A6A     		ldr	r2, [r7, #32]
 8198 01d4 9A42     		cmp	r2, r3
 8199 01d6 15D9     		bls	.L532
3686:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf, wbuff + ((fp->sect - sect) * SS(fs)), SS(fs));
 8200              		.loc 1 3686 16
 8201 01d8 FB68     		ldr	r3, [r7, #12]
 8202 01da 03F12C00 		add	r0, r3, #44
 8203              		.loc 1 3686 35
 8204 01de FB68     		ldr	r3, [r7, #12]
 8205 01e0 DA69     		ldr	r2, [r3, #28]
 8206              		.loc 1 3686 42
 8207 01e2 7B69     		ldr	r3, [r7, #20]
 8208 01e4 D31A     		subs	r3, r2, r3
 8209              		.loc 1 3686 50
 8210 01e6 5B02     		lsls	r3, r3, #9
 8211              		.loc 1 3686 29
 8212 01e8 FA69     		ldr	r2, [r7, #28]
 8213 01ea 1344     		add	r3, r3, r2
 8214              		.loc 1 3686 6
 8215 01ec 4FF40072 		mov	r2, #512
 8216 01f0 1946     		mov	r1, r3
ARM GAS  /tmp/cc5m2BsI.s 			page 210


 8217 01f2 FFF7FEFF 		bl	mem_cpy
3687:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_DIRTY;
 8218              		.loc 1 3687 15
 8219 01f6 FB68     		ldr	r3, [r7, #12]
 8220 01f8 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8221 01fa 03F07F03 		and	r3, r3, #127
 8222 01fe DAB2     		uxtb	r2, r3
 8223 0200 FB68     		ldr	r3, [r7, #12]
 8224 0202 1A74     		strb	r2, [r3, #16]
 8225              	.L532:
3688:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3689:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3690:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3691:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fs) * cc;		/* Number of bytes transferred */
 8226              		.loc 1 3691 10
 8227 0204 3B6A     		ldr	r3, [r7, #32]
 8228 0206 5B02     		lsls	r3, r3, #9
 8229 0208 7B62     		str	r3, [r7, #36]
3692:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 8230              		.loc 1 3692 5
 8231 020a 3FE0     		b	.L533
 8232              	.L529:
3693:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3694:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3695:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->obj.objsize) {	/* Avoid silly cache filling on the growing edge */
3696:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fs) != FR_OK) ABORT(fs, FR_DISK_ERR);
3697:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->winsect = sect;
3698:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3699:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
3700:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->sect != sect && 		/* Fill sector cache with file data */
 8233              		.loc 1 3700 10
 8234 020c FB68     		ldr	r3, [r7, #12]
 8235 020e DB69     		ldr	r3, [r3, #28]
 8236              		.loc 1 3700 7
 8237 0210 7A69     		ldr	r2, [r7, #20]
 8238 0212 9A42     		cmp	r2, r3
 8239 0214 16D0     		beq	.L534
3701:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8240              		.loc 1 3701 7 discriminator 1
 8241 0216 FB68     		ldr	r3, [r7, #12]
 8242 0218 5A69     		ldr	r2, [r3, #20]
 8243              		.loc 1 3701 23 discriminator 1
 8244 021a FB68     		ldr	r3, [r7, #12]
 8245 021c DB68     		ldr	r3, [r3, #12]
3700:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8246              		.loc 1 3700 25 discriminator 1
 8247 021e 9A42     		cmp	r2, r3
 8248 0220 10D2     		bcs	.L534
3702:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) {
 8249              		.loc 1 3702 17
 8250 0222 3B69     		ldr	r3, [r7, #16]
 8251              		.loc 1 3702 5
 8252 0224 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 8253              		.loc 1 3702 26
 8254 0226 FB68     		ldr	r3, [r7, #12]
 8255 0228 03F12C01 		add	r1, r3, #44
 8256              		.loc 1 3702 5
ARM GAS  /tmp/cc5m2BsI.s 			page 211


 8257 022c 0123     		movs	r3, #1
 8258 022e 7A69     		ldr	r2, [r7, #20]
 8259 0230 FFF7FEFF 		bl	disk_read
 8260 0234 0346     		mov	r3, r0
3701:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr < fp->obj.objsize &&
 8261              		.loc 1 3701 32
 8262 0236 002B     		cmp	r3, #0
 8263 0238 04D0     		beq	.L534
3703:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fs, FR_DISK_ERR);
 8264              		.loc 1 3703 6
 8265 023a FB68     		ldr	r3, [r7, #12]
 8266 023c 0122     		movs	r2, #1
 8267 023e 5A74     		strb	r2, [r3, #17]
 8268 0240 0123     		movs	r3, #1
 8269 0242 4EE0     		b	.L537
 8270              	.L534:
3704:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3705:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3706:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = sect;
 8271              		.loc 1 3706 13
 8272 0244 FB68     		ldr	r3, [r7, #12]
 8273 0246 7A69     		ldr	r2, [r7, #20]
 8274 0248 DA61     		str	r2, [r3, #28]
 8275              	.L517:
3707:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3708:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
 8276              		.loc 1 3708 27
 8277 024a FB68     		ldr	r3, [r7, #12]
 8278 024c 5B69     		ldr	r3, [r3, #20]
 8279              		.loc 1 3708 34
 8280 024e C3F30803 		ubfx	r3, r3, #0, #9
 8281              		.loc 1 3708 8
 8282 0252 C3F50073 		rsb	r3, r3, #512
 8283 0256 7B62     		str	r3, [r7, #36]
3709:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;					/* Clip it by btw if needed */
 8284              		.loc 1 3709 6
 8285 0258 7A6A     		ldr	r2, [r7, #36]
 8286 025a 7B68     		ldr	r3, [r7, #4]
 8287 025c 9A42     		cmp	r2, r3
 8288 025e 01D9     		bls	.L535
 8289              		.loc 1 3709 24 discriminator 1
 8290 0260 7B68     		ldr	r3, [r7, #4]
 8291 0262 7B62     		str	r3, [r7, #36]
 8292              	.L535:
3710:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
3711:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, fp->sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window */
3712:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fs->win + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
3713:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->wflag = 1;
3714:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
3715:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(fp->buf + fp->fptr % SS(fs), wbuff, wcnt);	/* Fit data to the sector */
 8293              		.loc 1 3715 11
 8294 0264 FB68     		ldr	r3, [r7, #12]
 8295 0266 03F12C02 		add	r2, r3, #44
 8296              		.loc 1 3715 23
 8297 026a FB68     		ldr	r3, [r7, #12]
 8298 026c 5B69     		ldr	r3, [r3, #20]
 8299              		.loc 1 3715 30
ARM GAS  /tmp/cc5m2BsI.s 			page 212


 8300 026e C3F30803 		ubfx	r3, r3, #0, #9
 8301              		.loc 1 3715 3
 8302 0272 1344     		add	r3, r3, r2
 8303 0274 7A6A     		ldr	r2, [r7, #36]
 8304 0276 F969     		ldr	r1, [r7, #28]
 8305 0278 1846     		mov	r0, r3
 8306 027a FFF7FEFF 		bl	mem_cpy
3716:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_DIRTY;
 8307              		.loc 1 3716 12
 8308 027e FB68     		ldr	r3, [r7, #12]
 8309 0280 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8310 0282 63F07F03 		orn	r3, r3, #127
 8311 0286 DAB2     		uxtb	r2, r3
 8312 0288 FB68     		ldr	r3, [r7, #12]
 8313 028a 1A74     		strb	r2, [r3, #16]
 8314              	.L533:
3636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8315              		.loc 1 3636 9
 8316 028c FA69     		ldr	r2, [r7, #28]
 8317 028e 7B6A     		ldr	r3, [r7, #36]
 8318 0290 1344     		add	r3, r3, r2
 8319 0292 FB61     		str	r3, [r7, #28]
3636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8320              		.loc 1 3636 27
 8321 0294 FB68     		ldr	r3, [r7, #12]
 8322 0296 5A69     		ldr	r2, [r3, #20]
 8323 0298 7B6A     		ldr	r3, [r7, #36]
 8324 029a 1A44     		add	r2, r2, r3
 8325 029c FB68     		ldr	r3, [r7, #12]
 8326 029e 5A61     		str	r2, [r3, #20]
3636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8327              		.loc 1 3636 73
 8328 02a0 FB68     		ldr	r3, [r7, #12]
 8329 02a2 DA68     		ldr	r2, [r3, #12]
3636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8330              		.loc 1 3636 57
 8331 02a4 FB68     		ldr	r3, [r7, #12]
 8332 02a6 5B69     		ldr	r3, [r3, #20]
3636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8333              		.loc 1 3636 94
 8334 02a8 9A42     		cmp	r2, r3
 8335 02aa 38BF     		it	cc
 8336 02ac 1A46     		movcc	r2, r3
3636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8337              		.loc 1 3636 52
 8338 02ae FB68     		ldr	r3, [r7, #12]
 8339 02b0 DA60     		str	r2, [r3, #12]
3636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8340              		.loc 1 3636 117
 8341 02b2 3B68     		ldr	r3, [r7]
 8342 02b4 1A68     		ldr	r2, [r3]
 8343 02b6 7B6A     		ldr	r3, [r7, #36]
 8344 02b8 1A44     		add	r2, r2, r3
 8345 02ba 3B68     		ldr	r3, [r7]
 8346 02bc 1A60     		str	r2, [r3]
3636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {		/* On the sector boundary? */
 8347              		.loc 1 3636 130
ARM GAS  /tmp/cc5m2BsI.s 			page 213


 8348 02be 7A68     		ldr	r2, [r7, #4]
 8349 02c0 7B6A     		ldr	r3, [r7, #36]
 8350 02c2 D31A     		subs	r3, r2, r3
 8351 02c4 7B60     		str	r3, [r7, #4]
 8352              	.L516:
3635:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, fp->obj.objsize = (fp->fptr > fp->obj.objsize) ? fp->fptr : fp->
 8353              		.loc 1 3635 2
 8354 02c6 7B68     		ldr	r3, [r7, #4]
 8355 02c8 002B     		cmp	r3, #0
 8356 02ca 7FF4D4AE 		bne	.L536
 8357 02ce 00E0     		b	.L523
 8358              	.L538:
3655:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fs, FR_INT_ERR);
 8359              		.loc 1 3655 5
 8360 02d0 00BF     		nop
 8361              	.L523:
3717:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3718:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3719:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3720:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA_MODIFIED;				/* Set file change flag */
 8362              		.loc 1 3720 11
 8363 02d2 FB68     		ldr	r3, [r7, #12]
 8364 02d4 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8365 02d6 43F04003 		orr	r3, r3, #64
 8366 02da DAB2     		uxtb	r2, r3
 8367 02dc FB68     		ldr	r3, [r7, #12]
 8368 02de 1A74     		strb	r2, [r3, #16]
3721:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3722:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
 8369              		.loc 1 3722 2
 8370 02e0 0023     		movs	r3, #0
 8371              	.L537:
3723:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 8372              		.loc 1 3723 1 discriminator 1
 8373 02e2 1846     		mov	r0, r3
 8374 02e4 3037     		adds	r7, r7, #48
 8375              		.cfi_def_cfa_offset 8
 8376 02e6 BD46     		mov	sp, r7
 8377              		.cfi_def_cfa_register 13
 8378              		@ sp needed
 8379 02e8 80BD     		pop	{r7, pc}
 8380              		.cfi_endproc
 8381              	.LFE361:
 8383              		.section	.text.f_sync,"ax",%progbits
 8384              		.align	1
 8385              		.global	f_sync
 8386              		.syntax unified
 8387              		.thumb
 8388              		.thumb_func
 8389              		.fpu fpv5-d16
 8391              	f_sync:
 8392              	.LFB362:
3724:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3725:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3726:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3727:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3728:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc5m2BsI.s 			page 214


3729:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
3730:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3731:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3732:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
3733:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3734:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
3735:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 8393              		.loc 1 3735 1
 8394              		.cfi_startproc
 8395              		@ args = 0, pretend = 0, frame = 24
 8396              		@ frame_needed = 1, uses_anonymous_args = 0
 8397 0000 80B5     		push	{r7, lr}
 8398              		.cfi_def_cfa_offset 8
 8399              		.cfi_offset 7, -8
 8400              		.cfi_offset 14, -4
 8401 0002 86B0     		sub	sp, sp, #24
 8402              		.cfi_def_cfa_offset 32
 8403 0004 00AF     		add	r7, sp, #0
 8404              		.cfi_def_cfa_register 7
 8405 0006 7860     		str	r0, [r7, #4]
3736:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3737:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3738:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3739:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3740:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3741:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3742:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3743:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3744:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3745:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
 8406              		.loc 1 3745 8
 8407 0008 7B68     		ldr	r3, [r7, #4]
 8408 000a 07F10802 		add	r2, r7, #8
 8409 000e 1146     		mov	r1, r2
 8410 0010 1846     		mov	r0, r3
 8411 0012 FFF7FEFF 		bl	validate
 8412 0016 0346     		mov	r3, r0
 8413 0018 FB75     		strb	r3, [r7, #23]
3746:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8414              		.loc 1 3746 5
 8415 001a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8416 001c 002B     		cmp	r3, #0
 8417 001e 68D1     		bne	.L540
3747:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA_MODIFIED) {	/* Is there any change to the file? */
 8418              		.loc 1 3747 9
 8419 0020 7B68     		ldr	r3, [r7, #4]
 8420 0022 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8421              		.loc 1 3747 16
 8422 0024 03F04003 		and	r3, r3, #64
 8423              		.loc 1 3747 6
 8424 0028 002B     		cmp	r3, #0
 8425 002a 62D0     		beq	.L540
3748:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3749:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {	/* Write-back cached data if needed */
 8426              		.loc 1 3749 10
 8427 002c 7B68     		ldr	r3, [r7, #4]
 8428 002e 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 215


 8429              		.loc 1 3749 8
 8430 0030 5BB2     		sxtb	r3, r3
 8431              		.loc 1 3749 7
 8432 0032 002B     		cmp	r3, #0
 8433 0034 15DA     		bge	.L541
3750:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) LEAVE_FF(fs, FR_DISK_ERR);
 8434              		.loc 1 3750 22
 8435 0036 BB68     		ldr	r3, [r7, #8]
 8436              		.loc 1 3750 9
 8437 0038 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 8438              		.loc 1 3750 31
 8439 003a 7B68     		ldr	r3, [r7, #4]
 8440 003c 03F12C01 		add	r1, r3, #44
 8441              		.loc 1 3750 9
 8442 0040 7B68     		ldr	r3, [r7, #4]
 8443 0042 DA69     		ldr	r2, [r3, #28]
 8444 0044 0123     		movs	r3, #1
 8445 0046 FFF7FEFF 		bl	disk_write
 8446 004a 0346     		mov	r3, r0
 8447              		.loc 1 3750 8
 8448 004c 002B     		cmp	r3, #0
 8449 004e 01D0     		beq	.L542
 8450              		.loc 1 3750 62 discriminator 1
 8451 0050 0123     		movs	r3, #1
 8452 0052 4FE0     		b	.L544
 8453              	.L542:
3751:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 8454              		.loc 1 3751 14
 8455 0054 7B68     		ldr	r3, [r7, #4]
 8456 0056 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8457 0058 03F07F03 		and	r3, r3, #127
 8458 005c DAB2     		uxtb	r2, r3
 8459 005e 7B68     		ldr	r3, [r7, #4]
 8460 0060 1A74     		strb	r2, [r3, #16]
 8461              	.L541:
3752:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3753:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3754:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
3755:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();				/* Modified time */
 8462              		.loc 1 3755 9
 8463 0062 FFF7FEFF 		bl	get_fattime
 8464 0066 3861     		str	r0, [r7, #16]
3756:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3757:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
3758:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = fill_first_frag(&fp->obj);	/* Fill first fragment on the FAT if needed */
3759:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3760:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if nee
3761:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3762:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3763:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					INIT_NAMBUF(fs);
3764:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = load_obj_dir(&dj, &fp->obj);	/* Load directory entry block */
3765:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3766:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_Attr] |= AM_ARC;				/* Set archive bit */
3767:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_GenFlags] = fp->obj.stat | 1;	/* Update file allocation info */
3768:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_FstClus, fp->obj.sclust);
3769:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_FileSize, fp->obj.objsize);
3770:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						st_qword(fs->dirbuf + XDIR_ValidFileSize, fp->obj.objsize);
ARM GAS  /tmp/cc5m2BsI.s 			page 216


3771:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_ModTime, tm);		/* Update modified time */
3772:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_ModTime10] = 0;
3773:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						st_dword(fs->dirbuf + XDIR_AccTime, 0);
3774:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&dj);	/* Restore it to the directory */
3775:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3776:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							res = sync_fs(fs);
3777:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag &= (BYTE)~FA_MODIFIED;
3778:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3779:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3780:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					FREE_NAMBUF();
3781:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3782:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
3783:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3784:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3785:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, fp->dir_sect);
 8465              		.loc 1 3785 11
 8466 0068 BA68     		ldr	r2, [r7, #8]
 8467 006a 7B68     		ldr	r3, [r7, #4]
 8468 006c 1B6A     		ldr	r3, [r3, #32]
 8469 006e 1946     		mov	r1, r3
 8470 0070 1046     		mov	r0, r2
 8471 0072 FFF7FEFF 		bl	move_window
 8472 0076 0346     		mov	r3, r0
 8473 0078 FB75     		strb	r3, [r7, #23]
3786:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 8474              		.loc 1 3786 8
 8475 007a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8476 007c 002B     		cmp	r3, #0
 8477 007e 38D1     		bne	.L540
3787:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = fp->dir_ptr;
 8478              		.loc 1 3787 10
 8479 0080 7B68     		ldr	r3, [r7, #4]
 8480 0082 5B6A     		ldr	r3, [r3, #36]
 8481 0084 FB60     		str	r3, [r7, #12]
3788:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] |= AM_ARC;						/* Set archive bit */
 8482              		.loc 1 3788 20
 8483 0086 FB68     		ldr	r3, [r7, #12]
 8484 0088 0B33     		adds	r3, r3, #11
 8485 008a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 8486 008c FB68     		ldr	r3, [r7, #12]
 8487 008e 0B33     		adds	r3, r3, #11
 8488 0090 42F02002 		orr	r2, r2, #32
 8489 0094 D2B2     		uxtb	r2, r2
 8490 0096 1A70     		strb	r2, [r3]
3789:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fp->obj.fs, dir, fp->obj.sclust);		/* Update file allocation info  */
 8491              		.loc 1 3789 6
 8492 0098 7B68     		ldr	r3, [r7, #4]
 8493 009a 1868     		ldr	r0, [r3]
 8494 009c 7B68     		ldr	r3, [r7, #4]
 8495 009e 9B68     		ldr	r3, [r3, #8]
 8496 00a0 1A46     		mov	r2, r3
 8497 00a2 F968     		ldr	r1, [r7, #12]
 8498 00a4 FFF7FEFF 		bl	st_clust
3790:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_FileSize, (DWORD)fp->obj.objsize);	/* Update file size */
 8499              		.loc 1 3790 6
 8500 00a8 FB68     		ldr	r3, [r7, #12]
 8501 00aa 03F11C02 		add	r2, r3, #28
ARM GAS  /tmp/cc5m2BsI.s 			page 217


 8502              		.loc 1 3790 49
 8503 00ae 7B68     		ldr	r3, [r7, #4]
 8504 00b0 DB68     		ldr	r3, [r3, #12]
 8505              		.loc 1 3790 6
 8506 00b2 1946     		mov	r1, r3
 8507 00b4 1046     		mov	r0, r2
 8508 00b6 FFF7FEFF 		bl	st_dword
3791:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);				/* Update modified time */
 8509              		.loc 1 3791 6
 8510 00ba FB68     		ldr	r3, [r7, #12]
 8511 00bc 1633     		adds	r3, r3, #22
 8512 00be 3969     		ldr	r1, [r7, #16]
 8513 00c0 1846     		mov	r0, r3
 8514 00c2 FFF7FEFF 		bl	st_dword
3792:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_word(dir + DIR_LstAccDate, 0);
 8515              		.loc 1 3792 6
 8516 00c6 FB68     		ldr	r3, [r7, #12]
 8517 00c8 1233     		adds	r3, r3, #18
 8518 00ca 0021     		movs	r1, #0
 8519 00cc 1846     		mov	r0, r3
 8520 00ce FFF7FEFF 		bl	st_word
3793:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 8521              		.loc 1 3793 8
 8522 00d2 BB68     		ldr	r3, [r7, #8]
 8523              		.loc 1 3793 16
 8524 00d4 0122     		movs	r2, #1
 8525 00d6 DA70     		strb	r2, [r3, #3]
3794:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);					/* Restore it to the directory */
 8526              		.loc 1 3794 12
 8527 00d8 BB68     		ldr	r3, [r7, #8]
 8528 00da 1846     		mov	r0, r3
 8529 00dc FFF7FEFF 		bl	sync_fs
 8530 00e0 0346     		mov	r3, r0
 8531 00e2 FB75     		strb	r3, [r7, #23]
3795:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= (BYTE)~FA_MODIFIED;
 8532              		.loc 1 3795 15
 8533 00e4 7B68     		ldr	r3, [r7, #4]
 8534 00e6 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8535 00e8 23F04003 		bic	r3, r3, #64
 8536 00ec DAB2     		uxtb	r2, r3
 8537 00ee 7B68     		ldr	r3, [r7, #4]
 8538 00f0 1A74     		strb	r2, [r3, #16]
 8539              	.L540:
3796:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3797:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3798:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3799:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3800:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3801:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 8540              		.loc 1 3801 2
 8541 00f2 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 8542              	.L544:
3802:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 8543              		.loc 1 3802 1 discriminator 1
 8544 00f4 1846     		mov	r0, r3
 8545 00f6 1837     		adds	r7, r7, #24
 8546              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cc5m2BsI.s 			page 218


 8547 00f8 BD46     		mov	sp, r7
 8548              		.cfi_def_cfa_register 13
 8549              		@ sp needed
 8550 00fa 80BD     		pop	{r7, pc}
 8551              		.cfi_endproc
 8552              	.LFE362:
 8554              		.section	.text.f_close,"ax",%progbits
 8555              		.align	1
 8556              		.global	f_close
 8557              		.syntax unified
 8558              		.thumb
 8559              		.thumb_func
 8560              		.fpu fpv5-d16
 8562              	f_close:
 8563              	.LFB363:
3803:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3804:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3805:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3806:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3807:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3808:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3809:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3810:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
3811:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3812:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3813:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
3814:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object to be closed */
3815:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
3816:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 8564              		.loc 1 3816 1
 8565              		.cfi_startproc
 8566              		@ args = 0, pretend = 0, frame = 16
 8567              		@ frame_needed = 1, uses_anonymous_args = 0
 8568 0000 80B5     		push	{r7, lr}
 8569              		.cfi_def_cfa_offset 8
 8570              		.cfi_offset 7, -8
 8571              		.cfi_offset 14, -4
 8572 0002 84B0     		sub	sp, sp, #16
 8573              		.cfi_def_cfa_offset 24
 8574 0004 00AF     		add	r7, sp, #0
 8575              		.cfi_def_cfa_register 7
 8576 0006 7860     		str	r0, [r7, #4]
3817:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3818:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3819:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3820:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3821:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
 8577              		.loc 1 3821 8
 8578 0008 7868     		ldr	r0, [r7, #4]
 8579 000a FFF7FEFF 		bl	f_sync
 8580 000e 0346     		mov	r3, r0
 8581 0010 FB73     		strb	r3, [r7, #15]
3822:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 8582              		.loc 1 3822 5
 8583 0012 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 8584 0014 002B     		cmp	r3, #0
 8585 0016 0ED1     		bne	.L546
ARM GAS  /tmp/cc5m2BsI.s 			page 219


3823:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3824:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3825:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(&fp->obj, &fs);	/* Lock volume */
 8586              		.loc 1 3825 9
 8587 0018 7B68     		ldr	r3, [r7, #4]
 8588 001a 07F10802 		add	r2, r7, #8
 8589 001e 1146     		mov	r1, r2
 8590 0020 1846     		mov	r0, r3
 8591 0022 FFF7FEFF 		bl	validate
 8592 0026 0346     		mov	r3, r0
 8593 0028 FB73     		strb	r3, [r7, #15]
3826:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 8594              		.loc 1 3826 6
 8595 002a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 8596 002c 002B     		cmp	r3, #0
 8597 002e 02D1     		bne	.L546
3827:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
3828:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->obj.lockid);	/* Decrement file open counter */
3829:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
3830:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3831:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			{
3832:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->obj.fs = 0;			/* Invalidate file object */
 8598              		.loc 1 3832 16
 8599 0030 7B68     		ldr	r3, [r7, #4]
 8600 0032 0022     		movs	r2, #0
 8601 0034 1A60     		str	r2, [r3]
 8602              	.L546:
3833:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3834:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3835:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
3836:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3837:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3838:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3839:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 8603              		.loc 1 3839 9
 8604 0036 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
3840:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 8605              		.loc 1 3840 1
 8606 0038 1846     		mov	r0, r3
 8607 003a 1037     		adds	r7, r7, #16
 8608              		.cfi_def_cfa_offset 8
 8609 003c BD46     		mov	sp, r7
 8610              		.cfi_def_cfa_register 13
 8611              		@ sp needed
 8612 003e 80BD     		pop	{r7, pc}
 8613              		.cfi_endproc
 8614              	.LFE363:
 8616              		.section	.text.f_lseek,"ax",%progbits
 8617              		.align	1
 8618              		.global	f_lseek
 8619              		.syntax unified
 8620              		.thumb
 8621              		.thumb_func
 8622              		.fpu fpv5-d16
 8624              	f_lseek:
 8625              	.LFB364:
3841:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 220


3842:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3843:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3844:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3845:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
3846:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3847:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
3848:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3849:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3850:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3851:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
3852:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
3853:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
3854:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
3855:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
3856:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3859:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
3860:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
3861:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3862:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;	/* Set it as current volume */
3863:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
3865:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
3866:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3867:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3868:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3869:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
3870:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3871:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
3872:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
3873:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3874:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3875:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3876:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3877:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3878:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3879:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
3880:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3881:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3882:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3883:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3884:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3885:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
3886:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->cdir = dj.obj.sclust;	/* It is the start directory itself */
3887:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3888:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
3889:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_scl = dj.obj.c_scl;
3890:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_size = dj.obj.c_size;
3891:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->cdc_ofs = dj.obj.c_ofs;
3892:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3893:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3894:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3895:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {	/* It is a sub-directory */
3896:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
3897:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
3898:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_dword(fs->dirbuf + XDIR_FstClus);		/* Sub-directory cluster */
ARM GAS  /tmp/cc5m2BsI.s 			page 221


3899:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_scl = dj.obj.sclust;						/* Save containing directory information */
3900:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_size = ((DWORD)dj.obj.objsize & 0xFFFFFF00) | dj.obj.stat;
3901:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdc_ofs = dj.blk_ofs;
3902:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3903:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3904:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3905:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->cdir = ld_clust(fs, dj.dir);					/* Sub-directory cluster */
3906:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3907:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
3908:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3909:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3910:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3911:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3912:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3913:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3914:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3915:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3916:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3917:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
3918:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3919:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3920:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3921:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3922:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3923:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3924:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
3925:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
3926:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3927:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3928:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3929:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3930:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3931:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3932:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3933:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
3934:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3935:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3936:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3937:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
3938:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume((const TCHAR**)&buff, &fs, 0);	/* Get current volume */
3939:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3940:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs;
3941:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
3942:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3943:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {	/* (Cannot do getcwd on exFAT and returns root path)
3944:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.sclust = fs->cdir;				/* Start to follow upper directory from current directory */
3945:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((ccl = dj.obj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3946:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 1 * SZDIRE);	/* Get parent directory */
3947:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3948:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(fs, dj.sect);
3949:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3950:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.obj.sclust = ld_clust(fs, dj.dir);	/* Goto parent directory */
3951:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(&dj, 0);
3952:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3953:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				do {							/* Find the entry links to the child directory */
3954:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_read(&dj, 0);
3955:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
ARM GAS  /tmp/cc5m2BsI.s 			page 222


3956:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ccl == ld_clust(fs, dj.dir)) break;	/* Found the entry */
3957:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_next(&dj, 0);
3958:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (res == FR_OK);
3959:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3960:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
3961:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3962:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = 0; fno.fname[n]; n++) ;
3963:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < n + 3) {
3964:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NOT_ENOUGH_CORE; break;
3965:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3966:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				while (n) buff[--i] = fno.fname[--n];
3967:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				buff[--i] = '/';
3968:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3969:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3970:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3971:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3972:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3973:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3974:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3975:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3976:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3977:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3978:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3979:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3980:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3981:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3982:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3983:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3984:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3985:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
3986:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3987:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3988:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3989:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
3990:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3992:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3993:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3994:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
3996:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3997:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3998:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3999:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4000:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4001:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
4002:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
4003:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ofs		/* File pointer from top of file */
4004:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4005:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 8626              		.loc 1 4005 1
 8627              		.cfi_startproc
 8628              		@ args = 0, pretend = 0, frame = 64
 8629              		@ frame_needed = 1, uses_anonymous_args = 0
 8630 0000 80B5     		push	{r7, lr}
 8631              		.cfi_def_cfa_offset 8
 8632              		.cfi_offset 7, -8
ARM GAS  /tmp/cc5m2BsI.s 			page 223


 8633              		.cfi_offset 14, -4
 8634 0002 90B0     		sub	sp, sp, #64
 8635              		.cfi_def_cfa_offset 72
 8636 0004 00AF     		add	r7, sp, #0
 8637              		.cfi_def_cfa_register 7
 8638 0006 7860     		str	r0, [r7, #4]
 8639 0008 3960     		str	r1, [r7]
4006:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4007:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4008:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect;
4009:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t ifptr;
4010:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4011:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
4012:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4013:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4014:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
 8640              		.loc 1 4014 8
 8641 000a 7B68     		ldr	r3, [r7, #4]
 8642 000c 07F10802 		add	r2, r7, #8
 8643 0010 1146     		mov	r1, r2
 8644 0012 1846     		mov	r0, r3
 8645 0014 FFF7FEFF 		bl	validate
 8646 0018 0346     		mov	r3, r0
 8647 001a 87F83F30 		strb	r3, [r7, #63]
4015:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) res = (FRESULT)fp->err;
 8648              		.loc 1 4015 5
 8649 001e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 8650 0022 002B     		cmp	r3, #0
 8651 0024 03D1     		bne	.L549
 8652              		.loc 1 4015 24 discriminator 1
 8653 0026 7B68     		ldr	r3, [r7, #4]
 8654 0028 5B7C     		ldrb	r3, [r3, #17]
 8655 002a 87F83F30 		strb	r3, [r7, #63]
 8656              	.L549:
4016:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT && !_FS_READONLY
4017:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && fs->fs_type == FS_EXFAT) {
4018:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = fill_last_frag(&fp->obj, fp->clust, 0xFFFFFFFF);	/* Fill last fragment on the FAT if needed
4019:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4020:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4021:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
 8657              		.loc 1 4021 5
 8658 002e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 8659 0032 002B     		cmp	r3, #0
 8660 0034 02D0     		beq	.L550
 8661              		.loc 1 4021 20 discriminator 1
 8662 0036 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 8663 003a E6E1     		b	.L587
 8664              	.L550:
4022:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4023:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
4024:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
 8665              		.loc 1 4024 8
 8666 003c 7B68     		ldr	r3, [r7, #4]
 8667 003e 9B6A     		ldr	r3, [r3, #40]
 8668              		.loc 1 4024 5
 8669 0040 002B     		cmp	r3, #0
 8670 0042 00F0D180 		beq	.L552
ARM GAS  /tmp/cc5m2BsI.s 			page 224


4025:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 8671              		.loc 1 4025 6
 8672 0046 3B68     		ldr	r3, [r7]
 8673 0048 B3F1FF3F 		cmp	r3, #-1
 8674 004c 5AD1     		bne	.L553
4026:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 8675              		.loc 1 4026 8
 8676 004e 7B68     		ldr	r3, [r7, #4]
 8677 0050 9B6A     		ldr	r3, [r3, #40]
 8678 0052 7B62     		str	r3, [r7, #36]
4027:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 8679              		.loc 1 4027 15
 8680 0054 7B6A     		ldr	r3, [r7, #36]
 8681 0056 1A1D     		adds	r2, r3, #4
 8682 0058 7A62     		str	r2, [r7, #36]
 8683              		.loc 1 4027 9
 8684 005a 1B68     		ldr	r3, [r3]
 8685 005c 7B61     		str	r3, [r7, #20]
 8686              		.loc 1 4027 24
 8687 005e 0223     		movs	r3, #2
 8688 0060 BB62     		str	r3, [r7, #40]
4028:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->obj.sclust;		/* Origin of the chain */
 8689              		.loc 1 4028 7
 8690 0062 7B68     		ldr	r3, [r7, #4]
 8691 0064 9B68     		ldr	r3, [r3, #8]
 8692 0066 3B63     		str	r3, [r7, #48]
4029:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 8693              		.loc 1 4029 7
 8694 0068 3B6B     		ldr	r3, [r7, #48]
 8695 006a 002B     		cmp	r3, #0
 8696 006c 3AD0     		beq	.L554
 8697              	.L559:
4030:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4031:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
4032:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
 8698              		.loc 1 4032 10
 8699 006e 3B6B     		ldr	r3, [r7, #48]
 8700 0070 3B61     		str	r3, [r7, #16]
 8701              		.loc 1 4032 20
 8702 0072 0023     		movs	r3, #0
 8703 0074 FB62     		str	r3, [r7, #44]
 8704              		.loc 1 4032 30
 8705 0076 BB6A     		ldr	r3, [r7, #40]
 8706 0078 0233     		adds	r3, r3, #2
 8707 007a BB62     		str	r3, [r7, #40]
 8708              	.L557:
4033:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4034:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 8709              		.loc 1 4034 11
 8710 007c 3B6B     		ldr	r3, [r7, #48]
 8711 007e FB60     		str	r3, [r7, #12]
 8712              		.loc 1 4034 20
 8713 0080 FB6A     		ldr	r3, [r7, #44]
 8714 0082 0133     		adds	r3, r3, #1
 8715 0084 FB62     		str	r3, [r7, #44]
4035:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(&fp->obj, cl);
 8716              		.loc 1 4035 12
ARM GAS  /tmp/cc5m2BsI.s 			page 225


 8717 0086 7B68     		ldr	r3, [r7, #4]
 8718 0088 396B     		ldr	r1, [r7, #48]
 8719 008a 1846     		mov	r0, r3
 8720 008c FFF7FEFF 		bl	get_fat
 8721 0090 3863     		str	r0, [r7, #48]
4036:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fs, FR_INT_ERR);
 8722              		.loc 1 4036 10
 8723 0092 3B6B     		ldr	r3, [r7, #48]
 8724 0094 012B     		cmp	r3, #1
 8725 0096 04D8     		bhi	.L555
 8726              		.loc 1 4036 20 discriminator 1
 8727 0098 7B68     		ldr	r3, [r7, #4]
 8728 009a 0222     		movs	r2, #2
 8729 009c 5A74     		strb	r2, [r3, #17]
 8730 009e 0223     		movs	r3, #2
 8731 00a0 B3E1     		b	.L587
 8732              	.L555:
4037:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 8733              		.loc 1 4037 10
 8734 00a2 3B6B     		ldr	r3, [r7, #48]
 8735 00a4 B3F1FF3F 		cmp	r3, #-1
 8736 00a8 04D1     		bne	.L556
 8737              		.loc 1 4037 29 discriminator 1
 8738 00aa 7B68     		ldr	r3, [r7, #4]
 8739 00ac 0122     		movs	r2, #1
 8740 00ae 5A74     		strb	r2, [r3, #17]
 8741 00b0 0123     		movs	r3, #1
 8742 00b2 AAE1     		b	.L587
 8743              	.L556:
4038:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 8744              		.loc 1 4038 25
 8745 00b4 FB68     		ldr	r3, [r7, #12]
 8746 00b6 0133     		adds	r3, r3, #1
 8747              		.loc 1 4038 6
 8748 00b8 3A6B     		ldr	r2, [r7, #48]
 8749 00ba 9A42     		cmp	r2, r3
 8750 00bc DED0     		beq	.L557
4039:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 8751              		.loc 1 4039 9
 8752 00be BA6A     		ldr	r2, [r7, #40]
 8753 00c0 7B69     		ldr	r3, [r7, #20]
 8754 00c2 9A42     		cmp	r2, r3
 8755 00c4 09D8     		bhi	.L558
4040:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 8756              		.loc 1 4040 11
 8757 00c6 7B6A     		ldr	r3, [r7, #36]
 8758 00c8 1A1D     		adds	r2, r3, #4
 8759 00ca 7A62     		str	r2, [r7, #36]
 8760              		.loc 1 4040 14
 8761 00cc FA6A     		ldr	r2, [r7, #44]
 8762 00ce 1A60     		str	r2, [r3]
 8763              		.loc 1 4040 25
 8764 00d0 7B6A     		ldr	r3, [r7, #36]
 8765 00d2 1A1D     		adds	r2, r3, #4
 8766 00d4 7A62     		str	r2, [r7, #36]
 8767              		.loc 1 4040 28
 8768 00d6 3A69     		ldr	r2, [r7, #16]
ARM GAS  /tmp/cc5m2BsI.s 			page 226


 8769 00d8 1A60     		str	r2, [r3]
 8770              	.L558:
4041:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4042:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fs->n_fatent);	/* Repeat until end of chain */
 8771              		.loc 1 4042 21
 8772 00da BB68     		ldr	r3, [r7, #8]
 8773 00dc 9B69     		ldr	r3, [r3, #24]
 8774              		.loc 1 4042 5
 8775 00de 3A6B     		ldr	r2, [r7, #48]
 8776 00e0 9A42     		cmp	r2, r3
 8777 00e2 C4D3     		bcc	.L559
 8778              	.L554:
4043:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4044:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
 8779              		.loc 1 4044 7
 8780 00e4 7B68     		ldr	r3, [r7, #4]
 8781 00e6 9B6A     		ldr	r3, [r3, #40]
 8782              		.loc 1 4044 15
 8783 00e8 BA6A     		ldr	r2, [r7, #40]
 8784 00ea 1A60     		str	r2, [r3]
4045:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen) {
 8785              		.loc 1 4045 7
 8786 00ec BA6A     		ldr	r2, [r7, #40]
 8787 00ee 7B69     		ldr	r3, [r7, #20]
 8788 00f0 9A42     		cmp	r2, r3
 8789 00f2 03D8     		bhi	.L560
4046:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 8790              		.loc 1 4046 10
 8791 00f4 7B6A     		ldr	r3, [r7, #36]
 8792 00f6 0022     		movs	r2, #0
 8793 00f8 1A60     		str	r2, [r3]
 8794 00fa 84E1     		b	.L561
 8795              	.L560:
4047:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4048:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
 8796              		.loc 1 4048 9
 8797 00fc 1123     		movs	r3, #17
 8798 00fe 87F83F30 		strb	r3, [r7, #63]
 8799 0102 80E1     		b	.L561
 8800              	.L553:
4049:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4050:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
4051:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->obj.objsize) ofs = fp->obj.objsize;	/* Clip offset at the file size */
 8801              		.loc 1 4051 21
 8802 0104 7B68     		ldr	r3, [r7, #4]
 8803 0106 DB68     		ldr	r3, [r3, #12]
 8804              		.loc 1 4051 7
 8805 0108 3A68     		ldr	r2, [r7]
 8806 010a 9A42     		cmp	r2, r3
 8807 010c 02D9     		bls	.L562
 8808              		.loc 1 4051 35 discriminator 1
 8809 010e 7B68     		ldr	r3, [r7, #4]
 8810 0110 DB68     		ldr	r3, [r3, #12]
 8811 0112 3B60     		str	r3, [r7]
 8812              	.L562:
4052:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
 8813              		.loc 1 4052 13
ARM GAS  /tmp/cc5m2BsI.s 			page 227


 8814 0114 7B68     		ldr	r3, [r7, #4]
 8815 0116 3A68     		ldr	r2, [r7]
 8816 0118 5A61     		str	r2, [r3, #20]
4053:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 8817              		.loc 1 4053 7
 8818 011a 3B68     		ldr	r3, [r7]
 8819 011c 002B     		cmp	r3, #0
 8820 011e 00F07281 		beq	.L561
4054:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 8821              		.loc 1 4054 17
 8822 0122 3B68     		ldr	r3, [r7]
 8823 0124 013B     		subs	r3, r3, #1
 8824 0126 1946     		mov	r1, r3
 8825 0128 7868     		ldr	r0, [r7, #4]
 8826 012a FFF7FEFF 		bl	clmt_clust
 8827 012e 0246     		mov	r2, r0
 8828              		.loc 1 4054 15
 8829 0130 7B68     		ldr	r3, [r7, #4]
 8830 0132 9A61     		str	r2, [r3, #24]
4055:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, fp->clust);
 8831              		.loc 1 4055 11
 8832 0134 BA68     		ldr	r2, [r7, #8]
 8833 0136 7B68     		ldr	r3, [r7, #4]
 8834 0138 9B69     		ldr	r3, [r3, #24]
 8835 013a 1946     		mov	r1, r3
 8836 013c 1046     		mov	r0, r2
 8837 013e FFF7FEFF 		bl	clust2sect
 8838 0142 B861     		str	r0, [r7, #24]
4056:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fs, FR_INT_ERR);
 8839              		.loc 1 4056 8
 8840 0144 BB69     		ldr	r3, [r7, #24]
 8841 0146 002B     		cmp	r3, #0
 8842 0148 04D1     		bne	.L563
 8843              		.loc 1 4056 15 discriminator 1
 8844 014a 7B68     		ldr	r3, [r7, #4]
 8845 014c 0222     		movs	r2, #2
 8846 014e 5A74     		strb	r2, [r3, #17]
 8847 0150 0223     		movs	r3, #2
 8848 0152 5AE1     		b	.L587
 8849              	.L563:
4057:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (DWORD)((ofs - 1) / SS(fs)) & (fs->csize - 1);
 8850              		.loc 1 4057 25
 8851 0154 3B68     		ldr	r3, [r7]
 8852 0156 013B     		subs	r3, r3, #1
 8853              		.loc 1 4057 12
 8854 0158 5B0A     		lsrs	r3, r3, #9
 8855              		.loc 1 4057 45
 8856 015a BA68     		ldr	r2, [r7, #8]
 8857 015c 5289     		ldrh	r2, [r2, #10]
 8858              		.loc 1 4057 53
 8859 015e 013A     		subs	r2, r2, #1
 8860              		.loc 1 4057 40
 8861 0160 1340     		ands	r3, r3, r2
 8862              		.loc 1 4057 9
 8863 0162 BA69     		ldr	r2, [r7, #24]
 8864 0164 1344     		add	r3, r3, r2
 8865 0166 BB61     		str	r3, [r7, #24]
ARM GAS  /tmp/cc5m2BsI.s 			page 228


4058:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fs) && dsc != fp->sect) {	/* Refill sector cache if needed */
 8866              		.loc 1 4058 11
 8867 0168 7B68     		ldr	r3, [r7, #4]
 8868 016a 5B69     		ldr	r3, [r3, #20]
 8869              		.loc 1 4058 18
 8870 016c C3F30803 		ubfx	r3, r3, #0, #9
 8871              		.loc 1 4058 8
 8872 0170 002B     		cmp	r3, #0
 8873 0172 00F04881 		beq	.L561
 8874              		.loc 1 4058 39 discriminator 1
 8875 0176 7B68     		ldr	r3, [r7, #4]
 8876 0178 DB69     		ldr	r3, [r3, #28]
 8877              		.loc 1 4058 27 discriminator 1
 8878 017a BA69     		ldr	r2, [r7, #24]
 8879 017c 9A42     		cmp	r2, r3
 8880 017e 00F04281 		beq	.L561
4059:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4060:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4061:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
 8881              		.loc 1 4061 12
 8882 0182 7B68     		ldr	r3, [r7, #4]
 8883 0184 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8884              		.loc 1 4061 10
 8885 0186 5BB2     		sxtb	r3, r3
 8886              		.loc 1 4061 9
 8887 0188 002B     		cmp	r3, #0
 8888 018a 18DA     		bge	.L564
4062:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 8889              		.loc 1 4062 24
 8890 018c BB68     		ldr	r3, [r7, #8]
 8891              		.loc 1 4062 11
 8892 018e 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 8893              		.loc 1 4062 33
 8894 0190 7B68     		ldr	r3, [r7, #4]
 8895 0192 03F12C01 		add	r1, r3, #44
 8896              		.loc 1 4062 11
 8897 0196 7B68     		ldr	r3, [r7, #4]
 8898 0198 DA69     		ldr	r2, [r3, #28]
 8899 019a 0123     		movs	r3, #1
 8900 019c FFF7FEFF 		bl	disk_write
 8901 01a0 0346     		mov	r3, r0
 8902              		.loc 1 4062 10
 8903 01a2 002B     		cmp	r3, #0
 8904 01a4 04D0     		beq	.L565
 8905              		.loc 1 4062 64 discriminator 1
 8906 01a6 7B68     		ldr	r3, [r7, #4]
 8907 01a8 0122     		movs	r2, #1
 8908 01aa 5A74     		strb	r2, [r3, #17]
 8909 01ac 0123     		movs	r3, #1
 8910 01ae 2CE1     		b	.L587
 8911              	.L565:
4063:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= (BYTE)~FA_DIRTY;
 8912              		.loc 1 4063 16
 8913 01b0 7B68     		ldr	r3, [r7, #4]
 8914 01b2 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8915 01b4 03F07F03 		and	r3, r3, #127
 8916 01b8 DAB2     		uxtb	r2, r3
ARM GAS  /tmp/cc5m2BsI.s 			page 229


 8917 01ba 7B68     		ldr	r3, [r7, #4]
 8918 01bc 1A74     		strb	r2, [r3, #16]
 8919              	.L564:
4064:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4065:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4066:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fs->drv, fp->buf, dsc, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Load current sec
 8920              		.loc 1 4066 22
 8921 01be BB68     		ldr	r3, [r7, #8]
 8922              		.loc 1 4066 10
 8923 01c0 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 8924              		.loc 1 4066 31
 8925 01c2 7B68     		ldr	r3, [r7, #4]
 8926 01c4 03F12C01 		add	r1, r3, #44
 8927              		.loc 1 4066 10
 8928 01c8 0123     		movs	r3, #1
 8929 01ca BA69     		ldr	r2, [r7, #24]
 8930 01cc FFF7FEFF 		bl	disk_read
 8931 01d0 0346     		mov	r3, r0
 8932              		.loc 1 4066 9
 8933 01d2 002B     		cmp	r3, #0
 8934 01d4 04D0     		beq	.L566
 8935              		.loc 1 4066 57 discriminator 1
 8936 01d6 7B68     		ldr	r3, [r7, #4]
 8937 01d8 0122     		movs	r2, #1
 8938 01da 5A74     		strb	r2, [r3, #17]
 8939 01dc 0123     		movs	r3, #1
 8940 01de 14E1     		b	.L587
 8941              	.L566:
4067:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4068:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sect = dsc;
 8942              		.loc 1 4068 15
 8943 01e0 7B68     		ldr	r3, [r7, #4]
 8944 01e2 BA69     		ldr	r2, [r7, #24]
 8945 01e4 DA61     		str	r2, [r3, #28]
 8946 01e6 0EE1     		b	.L561
 8947              	.L552:
4069:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4070:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4071:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4072:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
4073:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4074:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
4076:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4077:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4078:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type != FS_EXFAT && ofs >= 0x100000000) ofs = 0xFFFFFFFF;	/* Clip at 4GiB-1 if at FATx
4079:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4080:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->obj.objsize && (_FS_READONLY || !(fp->flag & FA_WRITE))) {	/* In read-only mode, cl
 8948              		.loc 1 4080 20
 8949 01e8 7B68     		ldr	r3, [r7, #4]
 8950 01ea DB68     		ldr	r3, [r3, #12]
 8951              		.loc 1 4080 6
 8952 01ec 3A68     		ldr	r2, [r7]
 8953 01ee 9A42     		cmp	r2, r3
 8954 01f0 08D9     		bls	.L567
 8955              		.loc 1 4080 53 discriminator 1
 8956 01f2 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc5m2BsI.s 			page 230


 8957 01f4 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8958              		.loc 1 4080 60 discriminator 1
 8959 01f6 03F00203 		and	r3, r3, #2
 8960              		.loc 1 4080 29 discriminator 1
 8961 01fa 002B     		cmp	r3, #0
 8962 01fc 02D1     		bne	.L567
4081:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			ofs = fp->obj.objsize;
 8963              		.loc 1 4081 8
 8964 01fe 7B68     		ldr	r3, [r7, #4]
 8965 0200 DB68     		ldr	r3, [r3, #12]
 8966 0202 3B60     		str	r3, [r7]
 8967              	.L567:
4082:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4083:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
 8968              		.loc 1 4083 9
 8969 0204 7B68     		ldr	r3, [r7, #4]
 8970 0206 5B69     		ldr	r3, [r3, #20]
 8971 0208 3B62     		str	r3, [r7, #32]
4084:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 8972              		.loc 1 4084 20
 8973 020a 0023     		movs	r3, #0
 8974 020c 7B63     		str	r3, [r7, #52]
 8975              		.loc 1 4084 12
 8976 020e 7B68     		ldr	r3, [r7, #4]
 8977 0210 7A6B     		ldr	r2, [r7, #52]
 8978 0212 5A61     		str	r2, [r3, #20]
4085:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 8979              		.loc 1 4085 6
 8980 0214 3B68     		ldr	r3, [r7]
 8981 0216 002B     		cmp	r3, #0
 8982 0218 00F0A780 		beq	.L568
4086:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fs->csize * SS(fs);	/* Cluster size (byte) */
 8983              		.loc 1 4086 19
 8984 021c BB68     		ldr	r3, [r7, #8]
 8985 021e 5B89     		ldrh	r3, [r3, #10]
 8986              		.loc 1 4086 8
 8987 0220 5B02     		lsls	r3, r3, #9
 8988 0222 FB61     		str	r3, [r7, #28]
4087:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 8989              		.loc 1 4087 7
 8990 0224 3B6A     		ldr	r3, [r7, #32]
 8991 0226 002B     		cmp	r3, #0
 8992 0228 1BD0     		beq	.L569
4088:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 8993              		.loc 1 4088 10 discriminator 1
 8994 022a 3B68     		ldr	r3, [r7]
 8995 022c 5A1E     		subs	r2, r3, #1
 8996              		.loc 1 4088 15 discriminator 1
 8997 022e FB69     		ldr	r3, [r7, #28]
 8998 0230 B2FBF3F2 		udiv	r2, r2, r3
 8999              		.loc 1 4088 31 discriminator 1
 9000 0234 3B6A     		ldr	r3, [r7, #32]
 9001 0236 591E     		subs	r1, r3, #1
 9002              		.loc 1 4088 36 discriminator 1
 9003 0238 FB69     		ldr	r3, [r7, #28]
 9004 023a B1FBF3F3 		udiv	r3, r1, r3
4087:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
ARM GAS  /tmp/cc5m2BsI.s 			page 231


 9005              		.loc 1 4087 18 discriminator 1
 9006 023e 9A42     		cmp	r2, r3
 9007 0240 0FD3     		bcc	.L569
4089:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(FSIZE_t)(bcs - 1);	/* start from the current cluster */
 9008              		.loc 1 4089 23
 9009 0242 3B6A     		ldr	r3, [r7, #32]
 9010 0244 5A1E     		subs	r2, r3, #1
 9011              		.loc 1 4089 30
 9012 0246 FB69     		ldr	r3, [r7, #28]
 9013 0248 5B42     		rsbs	r3, r3, #0
 9014              		.loc 1 4089 28
 9015 024a 1A40     		ands	r2, r2, r3
 9016              		.loc 1 4089 14
 9017 024c 7B68     		ldr	r3, [r7, #4]
 9018 024e 5A61     		str	r2, [r3, #20]
4090:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 9019              		.loc 1 4090 14
 9020 0250 7B68     		ldr	r3, [r7, #4]
 9021 0252 5B69     		ldr	r3, [r3, #20]
 9022              		.loc 1 4090 9
 9023 0254 3A68     		ldr	r2, [r7]
 9024 0256 D31A     		subs	r3, r2, r3
 9025 0258 3B60     		str	r3, [r7]
4091:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 9026              		.loc 1 4091 10
 9027 025a 7B68     		ldr	r3, [r7, #4]
 9028 025c 9B69     		ldr	r3, [r3, #24]
 9029 025e BB63     		str	r3, [r7, #56]
 9030 0260 22E0     		b	.L570
 9031              	.L569:
4092:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
4093:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->obj.sclust;					/* start from the first cluster */
 9032              		.loc 1 4093 10
 9033 0262 7B68     		ldr	r3, [r7, #4]
 9034 0264 9B68     		ldr	r3, [r3, #8]
 9035 0266 BB63     		str	r3, [r7, #56]
4094:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4095:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
 9036              		.loc 1 4095 8
 9037 0268 BB6B     		ldr	r3, [r7, #56]
 9038 026a 002B     		cmp	r3, #0
 9039 026c 19D1     		bne	.L571
4096:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(&fp->obj, 0);
 9040              		.loc 1 4096 13
 9041 026e 7B68     		ldr	r3, [r7, #4]
 9042 0270 0021     		movs	r1, #0
 9043 0272 1846     		mov	r0, r3
 9044 0274 FFF7FEFF 		bl	create_chain
 9045 0278 B863     		str	r0, [r7, #56]
4097:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fs, FR_INT_ERR);
 9046              		.loc 1 4097 9
 9047 027a BB6B     		ldr	r3, [r7, #56]
 9048 027c 012B     		cmp	r3, #1
 9049 027e 04D1     		bne	.L572
 9050              		.loc 1 4097 21 discriminator 1
 9051 0280 7B68     		ldr	r3, [r7, #4]
 9052 0282 0222     		movs	r2, #2
ARM GAS  /tmp/cc5m2BsI.s 			page 232


 9053 0284 5A74     		strb	r2, [r3, #17]
 9054 0286 0223     		movs	r3, #2
 9055 0288 BFE0     		b	.L587
 9056              	.L572:
4098:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9057              		.loc 1 4098 9
 9058 028a BB6B     		ldr	r3, [r7, #56]
 9059 028c B3F1FF3F 		cmp	r3, #-1
 9060 0290 04D1     		bne	.L573
 9061              		.loc 1 4098 30 discriminator 1
 9062 0292 7B68     		ldr	r3, [r7, #4]
 9063 0294 0122     		movs	r2, #1
 9064 0296 5A74     		strb	r2, [r3, #17]
 9065 0298 0123     		movs	r3, #1
 9066 029a B6E0     		b	.L587
 9067              	.L573:
4099:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust = clst;
 9068              		.loc 1 4099 21
 9069 029c 7B68     		ldr	r3, [r7, #4]
 9070 029e BA6B     		ldr	r2, [r7, #56]
 9071 02a0 9A60     		str	r2, [r3, #8]
 9072              	.L571:
4100:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4101:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4102:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
 9073              		.loc 1 4102 15
 9074 02a2 7B68     		ldr	r3, [r7, #4]
 9075 02a4 BA6B     		ldr	r2, [r7, #56]
 9076 02a6 9A61     		str	r2, [r3, #24]
 9077              	.L570:
4103:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4104:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
 9078              		.loc 1 4104 7
 9079 02a8 BB6B     		ldr	r3, [r7, #56]
 9080 02aa 002B     		cmp	r3, #0
 9081 02ac 5DD0     		beq	.L568
4105:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 9082              		.loc 1 4105 11
 9083 02ae 3AE0     		b	.L574
 9084              	.L581:
4106:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 9085              		.loc 1 4106 10
 9086 02b0 3A68     		ldr	r2, [r7]
 9087 02b2 FB69     		ldr	r3, [r7, #28]
 9088 02b4 D31A     		subs	r3, r2, r3
 9089 02b6 3B60     		str	r3, [r7]
 9090              		.loc 1 4106 27
 9091 02b8 7B68     		ldr	r3, [r7, #4]
 9092 02ba 5A69     		ldr	r2, [r3, #20]
 9093 02bc FB69     		ldr	r3, [r7, #28]
 9094 02be 1A44     		add	r2, r2, r3
 9095 02c0 7B68     		ldr	r3, [r7, #4]
 9096 02c2 5A61     		str	r2, [r3, #20]
4107:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4108:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
 9097              		.loc 1 4108 12
 9098 02c4 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc5m2BsI.s 			page 233


 9099 02c6 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 9100              		.loc 1 4108 19
 9101 02c8 03F00203 		and	r3, r3, #2
 9102              		.loc 1 4108 9
 9103 02cc 002B     		cmp	r3, #0
 9104 02ce 0BD0     		beq	.L575
4109:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fp->fptr > fp->obj.objsize) {	/* No FAT chain object needs correct objsize t
4110:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->obj.objsize = fp->fptr;
4111:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							fp->flag |= FA_MODIFIED;
4112:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4113:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(&fp->obj, clst);	/* Follow chain with forceed stretch */
 9105              		.loc 1 4113 14
 9106 02d0 7B68     		ldr	r3, [r7, #4]
 9107 02d2 B96B     		ldr	r1, [r7, #56]
 9108 02d4 1846     		mov	r0, r3
 9109 02d6 FFF7FEFF 		bl	create_chain
 9110 02da B863     		str	r0, [r7, #56]
4114:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* Clip file size in case of disk full */
 9111              		.loc 1 4114 10
 9112 02dc BB6B     		ldr	r3, [r7, #56]
 9113 02de 002B     		cmp	r3, #0
 9114 02e0 08D1     		bne	.L576
4115:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = 0; break;
 9115              		.loc 1 4115 12
 9116 02e2 0023     		movs	r3, #0
 9117 02e4 3B60     		str	r3, [r7]
 9118              		.loc 1 4115 8
 9119 02e6 22E0     		b	.L577
 9120              	.L575:
4116:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4117:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4118:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4119:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4120:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(&fp->obj, clst);	/* Follow cluster chain if not in write mode */
 9121              		.loc 1 4120 14
 9122 02e8 7B68     		ldr	r3, [r7, #4]
 9123 02ea B96B     		ldr	r1, [r7, #56]
 9124 02ec 1846     		mov	r0, r3
 9125 02ee FFF7FEFF 		bl	get_fat
 9126 02f2 B863     		str	r0, [r7, #56]
 9127              	.L576:
4121:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4122:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
 9128              		.loc 1 4122 9
 9129 02f4 BB6B     		ldr	r3, [r7, #56]
 9130 02f6 B3F1FF3F 		cmp	r3, #-1
 9131 02fa 04D1     		bne	.L578
 9132              		.loc 1 4122 30 discriminator 1
 9133 02fc 7B68     		ldr	r3, [r7, #4]
 9134 02fe 0122     		movs	r2, #1
 9135 0300 5A74     		strb	r2, [r3, #17]
 9136 0302 0123     		movs	r3, #1
 9137 0304 81E0     		b	.L587
 9138              	.L578:
4123:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fs->n_fatent) ABORT(fs, FR_INT_ERR);
 9139              		.loc 1 4123 9
 9140 0306 BB6B     		ldr	r3, [r7, #56]
ARM GAS  /tmp/cc5m2BsI.s 			page 234


 9141 0308 012B     		cmp	r3, #1
 9142 030a 04D9     		bls	.L579
 9143              		.loc 1 4123 33 discriminator 2
 9144 030c BB68     		ldr	r3, [r7, #8]
 9145 030e 9B69     		ldr	r3, [r3, #24]
 9146              		.loc 1 4123 20 discriminator 2
 9147 0310 BA6B     		ldr	r2, [r7, #56]
 9148 0312 9A42     		cmp	r2, r3
 9149 0314 04D3     		bcc	.L580
 9150              	.L579:
 9151              		.loc 1 4123 45 discriminator 3
 9152 0316 7B68     		ldr	r3, [r7, #4]
 9153 0318 0222     		movs	r2, #2
 9154 031a 5A74     		strb	r2, [r3, #17]
 9155 031c 0223     		movs	r3, #2
 9156 031e 74E0     		b	.L587
 9157              	.L580:
4124:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 9158              		.loc 1 4124 16
 9159 0320 7B68     		ldr	r3, [r7, #4]
 9160 0322 BA6B     		ldr	r2, [r7, #56]
 9161 0324 9A61     		str	r2, [r3, #24]
 9162              	.L574:
4105:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs; fp->fptr += bcs;
 9163              		.loc 1 4105 11
 9164 0326 3A68     		ldr	r2, [r7]
 9165 0328 FB69     		ldr	r3, [r7, #28]
 9166 032a 9A42     		cmp	r2, r3
 9167 032c C0D8     		bhi	.L581
 9168              	.L577:
4125:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4126:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
 9169              		.loc 1 4126 14
 9170 032e 7B68     		ldr	r3, [r7, #4]
 9171 0330 5A69     		ldr	r2, [r3, #20]
 9172 0332 3B68     		ldr	r3, [r7]
 9173 0334 1A44     		add	r2, r2, r3
 9174 0336 7B68     		ldr	r3, [r7, #4]
 9175 0338 5A61     		str	r2, [r3, #20]
4127:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fs)) {
 9176              		.loc 1 4127 13
 9177 033a 3B68     		ldr	r3, [r7]
 9178 033c C3F30803 		ubfx	r3, r3, #0, #9
 9179              		.loc 1 4127 8
 9180 0340 002B     		cmp	r3, #0
 9181 0342 12D0     		beq	.L568
4128:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fs, clst);	/* Current sector */
 9182              		.loc 1 4128 14
 9183 0344 BB68     		ldr	r3, [r7, #8]
 9184 0346 B96B     		ldr	r1, [r7, #56]
 9185 0348 1846     		mov	r0, r3
 9186 034a FFF7FEFF 		bl	clust2sect
 9187 034e 7863     		str	r0, [r7, #52]
4129:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fs, FR_INT_ERR);
 9188              		.loc 1 4129 9
 9189 0350 7B6B     		ldr	r3, [r7, #52]
 9190 0352 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 235


 9191 0354 04D1     		bne	.L582
 9192              		.loc 1 4129 18 discriminator 1
 9193 0356 7B68     		ldr	r3, [r7, #4]
 9194 0358 0222     		movs	r2, #2
 9195 035a 5A74     		strb	r2, [r3, #17]
 9196 035c 0223     		movs	r3, #2
 9197 035e 54E0     		b	.L587
 9198              	.L582:
4130:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += (DWORD)(ofs / SS(fs));
 9199              		.loc 1 4130 15
 9200 0360 3B68     		ldr	r3, [r7]
 9201 0362 5B0A     		lsrs	r3, r3, #9
 9202              		.loc 1 4130 12
 9203 0364 7A6B     		ldr	r2, [r7, #52]
 9204 0366 1344     		add	r3, r3, r2
 9205 0368 7B63     		str	r3, [r7, #52]
 9206              	.L568:
4131:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4132:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4133:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4134:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!_FS_READONLY && fp->fptr > fp->obj.objsize) {		/* Set file change flag if the file size is e
 9207              		.loc 1 4134 26
 9208 036a 7B68     		ldr	r3, [r7, #4]
 9209 036c 5A69     		ldr	r2, [r3, #20]
 9210              		.loc 1 4134 42
 9211 036e 7B68     		ldr	r3, [r7, #4]
 9212 0370 DB68     		ldr	r3, [r3, #12]
 9213              		.loc 1 4134 6
 9214 0372 9A42     		cmp	r2, r3
 9215 0374 0AD9     		bls	.L583
4135:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fp->fptr;
 9216              		.loc 1 4135 24
 9217 0376 7B68     		ldr	r3, [r7, #4]
 9218 0378 5A69     		ldr	r2, [r3, #20]
 9219              		.loc 1 4135 20
 9220 037a 7B68     		ldr	r3, [r7, #4]
 9221 037c DA60     		str	r2, [r3, #12]
4136:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
 9222              		.loc 1 4136 13
 9223 037e 7B68     		ldr	r3, [r7, #4]
 9224 0380 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 9225 0382 43F04003 		orr	r3, r3, #64
 9226 0386 DAB2     		uxtb	r2, r3
 9227 0388 7B68     		ldr	r3, [r7, #4]
 9228 038a 1A74     		strb	r2, [r3, #16]
 9229              	.L583:
4137:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4138:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) && nsect != fp->sect) {	/* Fill sector cache if needed */
 9230              		.loc 1 4138 9
 9231 038c 7B68     		ldr	r3, [r7, #4]
 9232 038e 5B69     		ldr	r3, [r3, #20]
 9233              		.loc 1 4138 16
 9234 0390 C3F30803 		ubfx	r3, r3, #0, #9
 9235              		.loc 1 4138 6
 9236 0394 002B     		cmp	r3, #0
 9237 0396 36D0     		beq	.L561
 9238              		.loc 1 4138 39 discriminator 1
ARM GAS  /tmp/cc5m2BsI.s 			page 236


 9239 0398 7B68     		ldr	r3, [r7, #4]
 9240 039a DB69     		ldr	r3, [r3, #28]
 9241              		.loc 1 4138 25 discriminator 1
 9242 039c 7A6B     		ldr	r2, [r7, #52]
 9243 039e 9A42     		cmp	r2, r3
 9244 03a0 31D0     		beq	.L561
4139:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4140:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4141:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {			/* Write-back dirty sector cache */
 9245              		.loc 1 4141 10
 9246 03a2 7B68     		ldr	r3, [r7, #4]
 9247 03a4 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 9248              		.loc 1 4141 8
 9249 03a6 5BB2     		sxtb	r3, r3
 9250              		.loc 1 4141 7
 9251 03a8 002B     		cmp	r3, #0
 9252 03aa 18DA     		bge	.L584
4142:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
 9253              		.loc 1 4142 22
 9254 03ac BB68     		ldr	r3, [r7, #8]
 9255              		.loc 1 4142 9
 9256 03ae 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 9257              		.loc 1 4142 31
 9258 03b0 7B68     		ldr	r3, [r7, #4]
 9259 03b2 03F12C01 		add	r1, r3, #44
 9260              		.loc 1 4142 9
 9261 03b6 7B68     		ldr	r3, [r7, #4]
 9262 03b8 DA69     		ldr	r2, [r3, #28]
 9263 03ba 0123     		movs	r3, #1
 9264 03bc FFF7FEFF 		bl	disk_write
 9265 03c0 0346     		mov	r3, r0
 9266              		.loc 1 4142 8
 9267 03c2 002B     		cmp	r3, #0
 9268 03c4 04D0     		beq	.L585
 9269              		.loc 1 4142 62 discriminator 1
 9270 03c6 7B68     		ldr	r3, [r7, #4]
 9271 03c8 0122     		movs	r2, #1
 9272 03ca 5A74     		strb	r2, [r3, #17]
 9273 03cc 0123     		movs	r3, #1
 9274 03ce 1CE0     		b	.L587
 9275              	.L585:
4143:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 9276              		.loc 1 4143 14
 9277 03d0 7B68     		ldr	r3, [r7, #4]
 9278 03d2 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 9279 03d4 03F07F03 		and	r3, r3, #127
 9280 03d8 DAB2     		uxtb	r2, r3
 9281 03da 7B68     		ldr	r3, [r7, #4]
 9282 03dc 1A74     		strb	r2, [r3, #16]
 9283              	.L584:
4144:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4145:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4146:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, nsect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);	/* Fill sector cach
 9284              		.loc 1 4146 20
 9285 03de BB68     		ldr	r3, [r7, #8]
 9286              		.loc 1 4146 8
 9287 03e0 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 237


 9288              		.loc 1 4146 29
 9289 03e2 7B68     		ldr	r3, [r7, #4]
 9290 03e4 03F12C01 		add	r1, r3, #44
 9291              		.loc 1 4146 8
 9292 03e8 0123     		movs	r3, #1
 9293 03ea 7A6B     		ldr	r2, [r7, #52]
 9294 03ec FFF7FEFF 		bl	disk_read
 9295 03f0 0346     		mov	r3, r0
 9296              		.loc 1 4146 7
 9297 03f2 002B     		cmp	r3, #0
 9298 03f4 04D0     		beq	.L586
 9299              		.loc 1 4146 57 discriminator 1
 9300 03f6 7B68     		ldr	r3, [r7, #4]
 9301 03f8 0122     		movs	r2, #1
 9302 03fa 5A74     		strb	r2, [r3, #17]
 9303 03fc 0123     		movs	r3, #1
 9304 03fe 04E0     		b	.L587
 9305              	.L586:
4147:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4148:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sect = nsect;
 9306              		.loc 1 4148 13
 9307 0400 7B68     		ldr	r3, [r7, #4]
 9308 0402 7A6B     		ldr	r2, [r7, #52]
 9309 0404 DA61     		str	r2, [r3, #28]
 9310              	.L561:
4149:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4150:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4151:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4152:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 9311              		.loc 1 4152 2
 9312 0406 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 9313              	.L587:
4153:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 9314              		.loc 1 4153 1 discriminator 2
 9315 040a 1846     		mov	r0, r3
 9316 040c 4037     		adds	r7, r7, #64
 9317              		.cfi_def_cfa_offset 8
 9318 040e BD46     		mov	sp, r7
 9319              		.cfi_def_cfa_register 13
 9320              		@ sp needed
 9321 0410 80BD     		pop	{r7, pc}
 9322              		.cfi_endproc
 9323              	.LFE364:
 9325              		.section	.text.f_opendir,"ax",%progbits
 9326              		.align	1
 9327              		.global	f_opendir
 9328              		.syntax unified
 9329              		.thumb
 9330              		.thumb_func
 9331              		.fpu fpv5-d16
 9333              	f_opendir:
 9334              	.LFB365:
4154:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4155:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4156:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4157:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
4158:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc5m2BsI.s 			page 238


4159:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
4160:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4161:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4162:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
4163:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
4164:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
4165:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4166:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 9335              		.loc 1 4166 1
 9336              		.cfi_startproc
 9337              		@ args = 0, pretend = 0, frame = 24
 9338              		@ frame_needed = 1, uses_anonymous_args = 0
 9339 0000 80B5     		push	{r7, lr}
 9340              		.cfi_def_cfa_offset 8
 9341              		.cfi_offset 7, -8
 9342              		.cfi_offset 14, -4
 9343 0002 86B0     		sub	sp, sp, #24
 9344              		.cfi_def_cfa_offset 32
 9345 0004 00AF     		add	r7, sp, #0
 9346              		.cfi_def_cfa_register 7
 9347 0006 7860     		str	r0, [r7, #4]
 9348 0008 3960     		str	r1, [r7]
4167:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4168:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4169:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID *obj;
4170:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4171:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4172:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4173:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
 9349              		.loc 1 4173 5
 9350 000a 7B68     		ldr	r3, [r7, #4]
 9351 000c 002B     		cmp	r3, #0
 9352 000e 01D1     		bne	.L589
 9353              		.loc 1 4173 18 discriminator 1
 9354 0010 0923     		movs	r3, #9
 9355 0012 4CE0     		b	.L596
 9356              	.L589:
4174:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4175:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4176:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	obj = &dp->obj;
 9357              		.loc 1 4176 6
 9358 0014 7B68     		ldr	r3, [r7, #4]
 9359 0016 3B61     		str	r3, [r7, #16]
4177:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
 9360              		.loc 1 4177 8
 9361 0018 07F10C01 		add	r1, r7, #12
 9362 001c 3B46     		mov	r3, r7
 9363 001e 0022     		movs	r2, #0
 9364 0020 1846     		mov	r0, r3
 9365 0022 FFF7FEFF 		bl	find_volume
 9366 0026 0346     		mov	r3, r0
 9367 0028 FB75     		strb	r3, [r7, #23]
4178:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9368              		.loc 1 4178 5
 9369 002a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 9370 002c 002B     		cmp	r3, #0
 9371 002e 37D1     		bne	.L591
ARM GAS  /tmp/cc5m2BsI.s 			page 239


4179:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		obj->fs = fs;
 9372              		.loc 1 4179 11
 9373 0030 FA68     		ldr	r2, [r7, #12]
 9374 0032 3B69     		ldr	r3, [r7, #16]
 9375 0034 1A60     		str	r2, [r3]
4180:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4181:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 9376              		.loc 1 4181 9
 9377 0036 3B68     		ldr	r3, [r7]
 9378 0038 1946     		mov	r1, r3
 9379 003a 7868     		ldr	r0, [r7, #4]
 9380 003c FFF7FEFF 		bl	follow_path
 9381 0040 0346     		mov	r3, r0
 9382 0042 FB75     		strb	r3, [r7, #23]
4182:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 9383              		.loc 1 4182 6
 9384 0044 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 9385 0046 002B     		cmp	r3, #0
 9386 0048 25D1     		bne	.L592
4183:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dp->fn[NSFLAG] & NS_NONAME)) {	/* It is not the origin directory itself */
 9387              		.loc 1 4183 16
 9388 004a 7B68     		ldr	r3, [r7, #4]
 9389 004c 93F82B30 		ldrb	r3, [r3, #43]	@ zero_extendqisi2
 9390              		.loc 1 4183 8
 9391 0050 5BB2     		sxtb	r3, r3
 9392              		.loc 1 4183 7
 9393 0052 002B     		cmp	r3, #0
 9394 0054 12DB     		blt	.L593
4184:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (obj->attr & AM_DIR) {		/* This object is a sub-directory */
 9395              		.loc 1 4184 12
 9396 0056 3B69     		ldr	r3, [r7, #16]
 9397 0058 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 9398              		.loc 1 4184 19
 9399 005a 03F01003 		and	r3, r3, #16
 9400              		.loc 1 4184 8
 9401 005e 002B     		cmp	r3, #0
 9402 0060 0AD0     		beq	.L594
4185:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4186:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_EXFAT) {
4187:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_scl = obj->sclust;							/* Get containing directory inforamation */
4188:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_size = ((DWORD)obj->objsize & 0xFFFFFF00) | obj->stat;
4189:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->c_ofs = dp->blk_ofs;
4190:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_dword(fs->dirbuf + XDIR_FstClus);	/* Get object allocation info */
4191:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4192:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->stat = fs->dirbuf[XDIR_GenFlags] & 2;
4193:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4194:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4195:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4196:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->sclust = ld_clust(fs, dp->dir);	/* Get object allocation info */
 9403              		.loc 1 4196 21
 9404 0062 FA68     		ldr	r2, [r7, #12]
 9405              		.loc 1 4196 36
 9406 0064 7B68     		ldr	r3, [r7, #4]
 9407 0066 DB69     		ldr	r3, [r3, #28]
 9408              		.loc 1 4196 21
 9409 0068 1946     		mov	r1, r3
 9410 006a 1046     		mov	r0, r2
ARM GAS  /tmp/cc5m2BsI.s 			page 240


 9411 006c FFF7FEFF 		bl	ld_clust
 9412 0070 0246     		mov	r2, r0
 9413              		.loc 1 4196 19
 9414 0072 3B69     		ldr	r3, [r7, #16]
 9415 0074 9A60     		str	r2, [r3, #8]
 9416 0076 01E0     		b	.L593
 9417              	.L594:
4197:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4198:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* This object is a file */
4199:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
 9418              		.loc 1 4199 10
 9419 0078 0523     		movs	r3, #5
 9420 007a FB75     		strb	r3, [r7, #23]
 9421              	.L593:
4200:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4201:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4202:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 9422              		.loc 1 4202 7
 9423 007c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 9424 007e 002B     		cmp	r3, #0
 9425 0080 09D1     		bne	.L592
4203:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj->id = fs->id;
 9426              		.loc 1 4203 17
 9427 0082 FB68     		ldr	r3, [r7, #12]
 9428 0084 DA88     		ldrh	r2, [r3, #6]
 9429              		.loc 1 4203 13
 9430 0086 3B69     		ldr	r3, [r7, #16]
 9431 0088 9A80     		strh	r2, [r3, #4]	@ movhi
4204:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 9432              		.loc 1 4204 11
 9433 008a 0021     		movs	r1, #0
 9434 008c 7868     		ldr	r0, [r7, #4]
 9435 008e FFF7FEFF 		bl	dir_sdi
 9436 0092 0346     		mov	r3, r0
 9437 0094 FB75     		strb	r3, [r7, #23]
 9438              	.L592:
4205:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4206:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
4207:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (obj->sclust) {
4208:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
4209:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!obj->lockid) res = FR_TOO_MANY_OPEN_FILES;
4210:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
4211:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						obj->lockid = 0;	/* Root directory need not to be locked */
4212:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4213:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4214:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4215:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4216:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4217:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4218:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
 9439              		.loc 1 4218 6
 9440 0096 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 9441 0098 042B     		cmp	r3, #4
 9442 009a 01D1     		bne	.L591
 9443              		.loc 1 4218 30 discriminator 1
 9444 009c 0523     		movs	r3, #5
 9445 009e FB75     		strb	r3, [r7, #23]
ARM GAS  /tmp/cc5m2BsI.s 			page 241


 9446              	.L591:
4219:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) obj->fs = 0;		/* Invalidate the directory object if function faild */
 9447              		.loc 1 4220 5
 9448 00a0 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 9449 00a2 002B     		cmp	r3, #0
 9450 00a4 02D0     		beq	.L595
 9451              		.loc 1 4220 28 discriminator 1
 9452 00a6 3B69     		ldr	r3, [r7, #16]
 9453 00a8 0022     		movs	r2, #0
 9454 00aa 1A60     		str	r2, [r3]
 9455              	.L595:
4221:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4222:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 9456              		.loc 1 4222 2
 9457 00ac FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 9458              	.L596:
4223:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 9459              		.loc 1 4223 1 discriminator 1
 9460 00ae 1846     		mov	r0, r3
 9461 00b0 1837     		adds	r7, r7, #24
 9462              		.cfi_def_cfa_offset 8
 9463 00b2 BD46     		mov	sp, r7
 9464              		.cfi_def_cfa_register 13
 9465              		@ sp needed
 9466 00b4 80BD     		pop	{r7, pc}
 9467              		.cfi_endproc
 9468              	.LFE365:
 9470              		.section	.text.f_closedir,"ax",%progbits
 9471              		.align	1
 9472              		.global	f_closedir
 9473              		.syntax unified
 9474              		.thumb
 9475              		.thumb_func
 9476              		.fpu fpv5-d16
 9478              	f_closedir:
 9479              	.LFB366:
4224:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4226:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4227:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4228:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4229:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
4230:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4231:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4232:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
4233:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
4234:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4235:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 9480              		.loc 1 4235 1
 9481              		.cfi_startproc
 9482              		@ args = 0, pretend = 0, frame = 16
 9483              		@ frame_needed = 1, uses_anonymous_args = 0
 9484 0000 80B5     		push	{r7, lr}
 9485              		.cfi_def_cfa_offset 8
 9486              		.cfi_offset 7, -8
 9487              		.cfi_offset 14, -4
ARM GAS  /tmp/cc5m2BsI.s 			page 242


 9488 0002 84B0     		sub	sp, sp, #16
 9489              		.cfi_def_cfa_offset 24
 9490 0004 00AF     		add	r7, sp, #0
 9491              		.cfi_def_cfa_register 7
 9492 0006 7860     		str	r0, [r7, #4]
4236:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4237:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4238:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4239:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4240:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);			/* Check validity of the file object */
 9493              		.loc 1 4240 8
 9494 0008 7B68     		ldr	r3, [r7, #4]
 9495 000a 07F10802 		add	r2, r7, #8
 9496 000e 1146     		mov	r1, r2
 9497 0010 1846     		mov	r0, r3
 9498 0012 FFF7FEFF 		bl	validate
 9499 0016 0346     		mov	r3, r0
 9500 0018 FB73     		strb	r3, [r7, #15]
4241:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9501              		.loc 1 4241 5
 9502 001a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 9503 001c 002B     		cmp	r3, #0
 9504 001e 02D1     		bne	.L598
4242:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4243:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->obj.lockid) {				/* Decrement sub-directory open counter */
4244:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->obj.lockid);
4245:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4246:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
4247:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4248:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		{
4249:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->obj.fs = 0;			/* Invalidate directory object */
 9505              		.loc 1 4249 15
 9506 0020 7B68     		ldr	r3, [r7, #4]
 9507 0022 0022     		movs	r2, #0
 9508 0024 1A60     		str	r2, [r3]
 9509              	.L598:
4250:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
4252:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
4253:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4254:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4255:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 9510              		.loc 1 4255 9
 9511 0026 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
4256:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 9512              		.loc 1 4256 1
 9513 0028 1846     		mov	r0, r3
 9514 002a 1037     		adds	r7, r7, #16
 9515              		.cfi_def_cfa_offset 8
 9516 002c BD46     		mov	sp, r7
 9517              		.cfi_def_cfa_register 13
 9518              		@ sp needed
 9519 002e 80BD     		pop	{r7, pc}
 9520              		.cfi_endproc
 9521              	.LFE366:
 9523              		.section	.text.f_readdir,"ax",%progbits
 9524              		.align	1
ARM GAS  /tmp/cc5m2BsI.s 			page 243


 9525              		.global	f_readdir
 9526              		.syntax unified
 9527              		.thumb
 9528              		.thumb_func
 9529              		.fpu fpv5-d16
 9531              	f_readdir:
 9532              	.LFB367:
4257:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4258:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4259:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4260:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4261:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4262:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
4263:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4264:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4265:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
4266:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
4267:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4268:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4269:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 9533              		.loc 1 4269 1
 9534              		.cfi_startproc
 9535              		@ args = 0, pretend = 0, frame = 16
 9536              		@ frame_needed = 1, uses_anonymous_args = 0
 9537 0000 80B5     		push	{r7, lr}
 9538              		.cfi_def_cfa_offset 8
 9539              		.cfi_offset 7, -8
 9540              		.cfi_offset 14, -4
 9541 0002 84B0     		sub	sp, sp, #16
 9542              		.cfi_def_cfa_offset 24
 9543 0004 00AF     		add	r7, sp, #0
 9544              		.cfi_def_cfa_register 7
 9545 0006 7860     		str	r0, [r7, #4]
 9546 0008 3960     		str	r1, [r7]
4270:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4271:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4272:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4273:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4274:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4275:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&dp->obj, &fs);	/* Check validity of the directory object */
 9547              		.loc 1 4275 8
 9548 000a 7B68     		ldr	r3, [r7, #4]
 9549 000c 07F10802 		add	r2, r7, #8
 9550 0010 1146     		mov	r1, r2
 9551 0012 1846     		mov	r0, r3
 9552 0014 FFF7FEFF 		bl	validate
 9553 0018 0346     		mov	r3, r0
 9554 001a FB73     		strb	r3, [r7, #15]
4276:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9555              		.loc 1 4276 5
 9556 001c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 9557 001e 002B     		cmp	r3, #0
 9558 0020 26D1     		bne	.L601
4277:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 9559              		.loc 1 4277 6
 9560 0022 3B68     		ldr	r3, [r7]
 9561 0024 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 244


 9562 0026 06D1     		bne	.L602
4278:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 9563              		.loc 1 4278 10
 9564 0028 0021     		movs	r1, #0
 9565 002a 7868     		ldr	r0, [r7, #4]
 9566 002c FFF7FEFF 		bl	dir_sdi
 9567 0030 0346     		mov	r3, r0
 9568 0032 FB73     		strb	r3, [r7, #15]
 9569 0034 1CE0     		b	.L601
 9570              	.L602:
4279:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4280:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_NAMBUF(fs);
4281:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 9571              		.loc 1 4281 10
 9572 0036 0021     		movs	r1, #0
 9573 0038 7868     		ldr	r0, [r7, #4]
 9574 003a FFF7FEFF 		bl	dir_read
 9575 003e 0346     		mov	r3, r0
 9576 0040 FB73     		strb	r3, [r7, #15]
4282:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory */
 9577              		.loc 1 4282 7
 9578 0042 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 9579 0044 042B     		cmp	r3, #4
 9580 0046 01D1     		bne	.L603
 9581              		.loc 1 4282 31 discriminator 1
 9582 0048 0023     		movs	r3, #0
 9583 004a FB73     		strb	r3, [r7, #15]
 9584              	.L603:
4283:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
 9585              		.loc 1 4283 7
 9586 004c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 9587 004e 002B     		cmp	r3, #0
 9588 0050 0ED1     		bne	.L601
4284:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 9589              		.loc 1 4284 5
 9590 0052 3968     		ldr	r1, [r7]
 9591 0054 7868     		ldr	r0, [r7, #4]
 9592 0056 FFF7FEFF 		bl	get_fileinfo
4285:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 9593              		.loc 1 4285 11
 9594 005a 0021     		movs	r1, #0
 9595 005c 7868     		ldr	r0, [r7, #4]
 9596 005e FFF7FEFF 		bl	dir_next
 9597 0062 0346     		mov	r3, r0
 9598 0064 FB73     		strb	r3, [r7, #15]
4286:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) res = FR_OK;	/* Ignore end of directory now */
 9599              		.loc 1 4286 8
 9600 0066 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 9601 0068 042B     		cmp	r3, #4
 9602 006a 01D1     		bne	.L601
 9603              		.loc 1 4286 32 discriminator 1
 9604 006c 0023     		movs	r3, #0
 9605 006e FB73     		strb	r3, [r7, #15]
 9606              	.L601:
4287:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4288:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_NAMBUF();
4289:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/cc5m2BsI.s 			page 245


4290:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4291:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 9607              		.loc 1 4291 2
 9608 0070 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
4292:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 9609              		.loc 1 4292 1
 9610 0072 1846     		mov	r0, r3
 9611 0074 1037     		adds	r7, r7, #16
 9612              		.cfi_def_cfa_offset 8
 9613 0076 BD46     		mov	sp, r7
 9614              		.cfi_def_cfa_register 13
 9615              		@ sp needed
 9616 0078 80BD     		pop	{r7, pc}
 9617              		.cfi_endproc
 9618              	.LFE367:
 9620              		.section	.text.f_stat,"ax",%progbits
 9621              		.align	1
 9622              		.global	f_stat
 9623              		.syntax unified
 9624              		.thumb
 9625              		.thumb_func
 9626              		.fpu fpv5-d16
 9628              	f_stat:
 9629              	.LFB368:
4293:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4294:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4295:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4296:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
4297:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4298:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Find Next File                                                        */
4299:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4300:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4301:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
4302:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
4303:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
4304:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4305:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
4306:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4307:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4308:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4309:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4310:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
4311:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
4312:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;		/* Test for the file name */
4313:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0 && _USE_FIND == 2
4314:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->altname, 0, 0)) break;	/* Test for alternative name if exist *
4315:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4316:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4317:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4318:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
4319:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4320:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4321:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4322:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4323:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Find First File                                                       */
4324:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4325:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 246


4326:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
4327:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
4328:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
4329:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
4330:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
4331:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4332:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
4333:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4334:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4335:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4336:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
4337:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
4338:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4339:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
4340:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4341:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
4342:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
4343:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4344:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
4345:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4346:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4347:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4348:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
4349:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4350:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
4351:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4352:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4353:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
4354:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4355:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
4356:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4357:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 9630              		.loc 1 4357 1
 9631              		.cfi_startproc
 9632              		@ args = 0, pretend = 0, frame = 64
 9633              		@ frame_needed = 1, uses_anonymous_args = 0
 9634 0000 80B5     		push	{r7, lr}
 9635              		.cfi_def_cfa_offset 8
 9636              		.cfi_offset 7, -8
 9637              		.cfi_offset 14, -4
 9638 0002 90B0     		sub	sp, sp, #64
 9639              		.cfi_def_cfa_offset 72
 9640 0004 00AF     		add	r7, sp, #0
 9641              		.cfi_def_cfa_register 7
 9642 0006 7860     		str	r0, [r7, #4]
 9643 0008 3960     		str	r1, [r7]
4358:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4359:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4360:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4361:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4362:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4364:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &dj.obj.fs, 0);
 9644              		.loc 1 4364 8
 9645 000a 07F10C01 		add	r1, r7, #12
 9646 000e 3B1D     		adds	r3, r7, #4
 9647 0010 0022     		movs	r2, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 247


 9648 0012 1846     		mov	r0, r3
 9649 0014 FFF7FEFF 		bl	find_volume
 9650 0018 0346     		mov	r3, r0
 9651 001a 87F83F30 		strb	r3, [r7, #63]
4365:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9652              		.loc 1 4365 5
 9653 001e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 9654 0022 002B     		cmp	r3, #0
 9655 0024 1FD1     		bne	.L606
4366:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(dj.obj.fs);
4367:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 9656              		.loc 1 4367 9
 9657 0026 7A68     		ldr	r2, [r7, #4]
 9658 0028 07F10C03 		add	r3, r7, #12
 9659 002c 1146     		mov	r1, r2
 9660 002e 1846     		mov	r0, r3
 9661 0030 FFF7FEFF 		bl	follow_path
 9662 0034 0346     		mov	r3, r0
 9663 0036 87F83F30 		strb	r3, [r7, #63]
4368:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 9664              		.loc 1 4368 6
 9665 003a 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 9666 003e 002B     		cmp	r3, #0
 9667 0040 11D1     		bne	.L606
4369:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {	/* It is origin directory */
 9668              		.loc 1 4369 13
 9669 0042 97F83730 		ldrb	r3, [r7, #55]	@ zero_extendqisi2
 9670              		.loc 1 4369 8
 9671 0046 5BB2     		sxtb	r3, r3
 9672              		.loc 1 4369 7
 9673 0048 002B     		cmp	r3, #0
 9674 004a 03DA     		bge	.L607
4370:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9675              		.loc 1 4370 9
 9676 004c 0623     		movs	r3, #6
 9677 004e 87F83F30 		strb	r3, [r7, #63]
 9678 0052 08E0     		b	.L606
 9679              	.L607:
4371:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {							/* Found an object */
4372:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 9680              		.loc 1 4372 8
 9681 0054 3B68     		ldr	r3, [r7]
 9682 0056 002B     		cmp	r3, #0
 9683 0058 05D0     		beq	.L606
 9684              		.loc 1 4372 14 discriminator 1
 9685 005a 07F10C03 		add	r3, r7, #12
 9686 005e 3968     		ldr	r1, [r7]
 9687 0060 1846     		mov	r0, r3
 9688 0062 FFF7FEFF 		bl	get_fileinfo
 9689              	.L606:
4373:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4374:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4375:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4376:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4377:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.obj.fs, res);
 9690              		.loc 1 4378 2
ARM GAS  /tmp/cc5m2BsI.s 			page 248


 9691 0066 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
4379:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 9692              		.loc 1 4379 1
 9693 006a 1846     		mov	r0, r3
 9694 006c 4037     		adds	r7, r7, #64
 9695              		.cfi_def_cfa_offset 8
 9696 006e BD46     		mov	sp, r7
 9697              		.cfi_def_cfa_register 13
 9698              		@ sp needed
 9699 0070 80BD     		pop	{r7, pc}
 9700              		.cfi_endproc
 9701              	.LFE368:
 9703              		.section	.text.f_getfree,"ax",%progbits
 9704              		.align	1
 9705              		.global	f_getfree
 9706              		.syntax unified
 9707              		.thumb
 9708              		.thumb_func
 9709              		.fpu fpv5-d16
 9711              	f_getfree:
 9712              	.LFB369:
4380:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4381:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4382:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4383:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4384:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4385:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
4386:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4387:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4388:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
4389:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4390:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
4391:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
4392:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4393:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 9713              		.loc 1 4393 1
 9714              		.cfi_startproc
 9715              		@ args = 0, pretend = 0, frame = 64
 9716              		@ frame_needed = 1, uses_anonymous_args = 0
 9717 0000 80B5     		push	{r7, lr}
 9718              		.cfi_def_cfa_offset 8
 9719              		.cfi_offset 7, -8
 9720              		.cfi_offset 14, -4
 9721 0002 90B0     		sub	sp, sp, #64
 9722              		.cfi_def_cfa_offset 72
 9723 0004 00AF     		add	r7, sp, #0
 9724              		.cfi_def_cfa_register 7
 9725 0006 F860     		str	r0, [r7, #12]
 9726 0008 B960     		str	r1, [r7, #8]
 9727 000a 7A60     		str	r2, [r7, #4]
4394:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4395:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4396:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nfree, clst, sect, stat;
4397:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4398:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
4399:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4400:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 249


4401:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4402:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4403:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
 9728              		.loc 1 4403 8
 9729 000c 07F12001 		add	r1, r7, #32
 9730 0010 07F10C03 		add	r3, r7, #12
 9731 0014 0022     		movs	r2, #0
 9732 0016 1846     		mov	r0, r3
 9733 0018 FFF7FEFF 		bl	find_volume
 9734 001c 0346     		mov	r3, r0
 9735 001e 87F83F30 		strb	r3, [r7, #63]
4404:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9736              		.loc 1 4404 5
 9737 0022 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 9738 0026 002B     		cmp	r3, #0
 9739 0028 40F09980 		bne	.L610
4405:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		*fatfs = fs;				/* Return ptr to the fs object */
 9740              		.loc 1 4405 10
 9741 002c 3A6A     		ldr	r2, [r7, #32]
 9742 002e 7B68     		ldr	r3, [r7, #4]
 9743 0030 1A60     		str	r2, [r3]
4406:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clst is valid, return it without full cluster scan */
4407:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clst <= fs->n_fatent - 2) {
 9744              		.loc 1 4407 9
 9745 0032 3B6A     		ldr	r3, [r7, #32]
 9746 0034 5A69     		ldr	r2, [r3, #20]
 9747              		.loc 1 4407 26
 9748 0036 3B6A     		ldr	r3, [r7, #32]
 9749 0038 9B69     		ldr	r3, [r3, #24]
 9750              		.loc 1 4407 37
 9751 003a 023B     		subs	r3, r3, #2
 9752              		.loc 1 4407 6
 9753 003c 9A42     		cmp	r2, r3
 9754 003e 04D8     		bhi	.L611
4408:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clst;
 9755              		.loc 1 4408 15
 9756 0040 3B6A     		ldr	r3, [r7, #32]
 9757 0042 5A69     		ldr	r2, [r3, #20]
 9758              		.loc 1 4408 11
 9759 0044 BB68     		ldr	r3, [r7, #8]
 9760 0046 1A60     		str	r2, [r3]
 9761 0048 89E0     		b	.L610
 9762              	.L611:
4409:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4410:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
4411:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			nfree = 0;
 9763              		.loc 1 4411 10
 9764 004a 0023     		movs	r3, #0
 9765 004c BB63     		str	r3, [r7, #56]
4412:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_FAT12) {	/* FAT12: Sector unalighed FAT entries */
 9766              		.loc 1 4412 10
 9767 004e 3B6A     		ldr	r3, [r7, #32]
 9768 0050 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 9769              		.loc 1 4412 7
 9770 0052 012B     		cmp	r3, #1
 9771 0054 28D1     		bne	.L612
4413:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2; obj.fs = fs;
ARM GAS  /tmp/cc5m2BsI.s 			page 250


 9772              		.loc 1 4413 10
 9773 0056 0223     		movs	r3, #2
 9774 0058 7B63     		str	r3, [r7, #52]
 9775              		.loc 1 4413 22
 9776 005a 3B6A     		ldr	r3, [r7, #32]
 9777 005c 3B61     		str	r3, [r7, #16]
 9778              	.L617:
4414:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
4415:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(&obj, clst);
 9779              		.loc 1 4415 13
 9780 005e 07F11003 		add	r3, r7, #16
 9781 0062 796B     		ldr	r1, [r7, #52]
 9782 0064 1846     		mov	r0, r3
 9783 0066 FFF7FEFF 		bl	get_fat
 9784 006a 7862     		str	r0, [r7, #36]
4416:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 9785              		.loc 1 4416 9
 9786 006c 7B6A     		ldr	r3, [r7, #36]
 9787 006e B3F1FF3F 		cmp	r3, #-1
 9788 0072 03D1     		bne	.L613
 9789              		.loc 1 4416 36 discriminator 1
 9790 0074 0123     		movs	r3, #1
 9791 0076 87F83F30 		strb	r3, [r7, #63]
 9792              		.loc 1 4416 6 discriminator 1
 9793 007a 63E0     		b	.L618
 9794              	.L613:
4417:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 9795              		.loc 1 4417 9
 9796 007c 7B6A     		ldr	r3, [r7, #36]
 9797 007e 012B     		cmp	r3, #1
 9798 0080 03D1     		bne	.L615
 9799              		.loc 1 4417 27 discriminator 1
 9800 0082 0223     		movs	r3, #2
 9801 0084 87F83F30 		strb	r3, [r7, #63]
 9802              		.loc 1 4417 6 discriminator 1
 9803 0088 5CE0     		b	.L618
 9804              	.L615:
4418:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) nfree++;
 9805              		.loc 1 4418 9
 9806 008a 7B6A     		ldr	r3, [r7, #36]
 9807 008c 002B     		cmp	r3, #0
 9808 008e 02D1     		bne	.L616
 9809              		.loc 1 4418 26 discriminator 1
 9810 0090 BB6B     		ldr	r3, [r7, #56]
 9811 0092 0133     		adds	r3, r3, #1
 9812 0094 BB63     		str	r3, [r7, #56]
 9813              	.L616:
4419:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 9814              		.loc 1 4419 5
 9815 0096 7B6B     		ldr	r3, [r7, #52]
 9816 0098 0133     		adds	r3, r3, #1
 9817 009a 7B63     		str	r3, [r7, #52]
 9818              		.loc 1 4419 25
 9819 009c 3B6A     		ldr	r3, [r7, #32]
 9820 009e 9B69     		ldr	r3, [r3, #24]
 9821              		.loc 1 4419 5
 9822 00a0 7A6B     		ldr	r2, [r7, #52]
ARM GAS  /tmp/cc5m2BsI.s 			page 251


 9823 00a2 9A42     		cmp	r2, r3
 9824 00a4 DBD3     		bcc	.L617
 9825 00a6 4DE0     		b	.L618
 9826              	.L612:
4420:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4421:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4422:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* exFAT: Scan bitmap table */
4423:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					BYTE bm;
4424:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					UINT b;
4425:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4426:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent - 2;
4427:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					sect = fs->database;
4428:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0;
4429:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4430:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0 && (res = move_window(fs, sect++)) != FR_OK) break;
4431:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						for (b = 8, bm = fs->win[i]; b && clst; b--, clst--) {
4432:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!(bm & 1)) nfree++;
4433:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							bm >>= 1;
4434:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4435:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						i = (i + 1) % SS(fs);
4436:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (clst);
4437:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4438:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4439:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				{	/* FAT16/32: Sector alighed FAT entries */
4440:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fs->n_fatent; sect = fs->fatbase;
 9827              		.loc 1 4440 15
 9828 00a8 3B6A     		ldr	r3, [r7, #32]
 9829              		.loc 1 4440 11
 9830 00aa 9B69     		ldr	r3, [r3, #24]
 9831 00ac 7B63     		str	r3, [r7, #52]
 9832              		.loc 1 4440 36
 9833 00ae 3B6A     		ldr	r3, [r7, #32]
 9834              		.loc 1 4440 32
 9835 00b0 5B6A     		ldr	r3, [r3, #36]
 9836 00b2 3B63     		str	r3, [r7, #48]
4441:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					i = 0; p = 0;
 9837              		.loc 1 4441 8
 9838 00b4 0023     		movs	r3, #0
 9839 00b6 FB62     		str	r3, [r7, #44]
 9840              		.loc 1 4441 15
 9841 00b8 0023     		movs	r3, #0
 9842 00ba BB62     		str	r3, [r7, #40]
 9843              	.L625:
4442:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4443:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (i == 0) {
 9844              		.loc 1 4443 10
 9845 00bc FB6A     		ldr	r3, [r7, #44]
 9846 00be 002B     		cmp	r3, #0
 9847 00c0 13D1     		bne	.L619
4444:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							res = move_window(fs, sect++);
 9848              		.loc 1 4444 14
 9849 00c2 386A     		ldr	r0, [r7, #32]
 9850 00c4 3B6B     		ldr	r3, [r7, #48]
 9851 00c6 5A1C     		adds	r2, r3, #1
 9852 00c8 3A63     		str	r2, [r7, #48]
 9853 00ca 1946     		mov	r1, r3
 9854 00cc FFF7FEFF 		bl	move_window
ARM GAS  /tmp/cc5m2BsI.s 			page 252


 9855 00d0 0346     		mov	r3, r0
 9856 00d2 87F83F30 		strb	r3, [r7, #63]
4445:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res != FR_OK) break;
 9857              		.loc 1 4445 11
 9858 00d6 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
 9859 00da 002B     		cmp	r3, #0
 9860 00dc 31D1     		bne	.L627
4446:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 9861              		.loc 1 4446 14
 9862 00de 3B6A     		ldr	r3, [r7, #32]
 9863              		.loc 1 4446 10
 9864 00e0 3433     		adds	r3, r3, #52
 9865 00e2 BB62     		str	r3, [r7, #40]
4447:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							i = SS(fs);
 9866              		.loc 1 4447 10
 9867 00e4 4FF40073 		mov	r3, #512
 9868 00e8 FB62     		str	r3, [r7, #44]
 9869              	.L619:
4448:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4449:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_FAT16) {
 9870              		.loc 1 4449 13
 9871 00ea 3B6A     		ldr	r3, [r7, #32]
 9872 00ec 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 9873              		.loc 1 4449 10
 9874 00ee 022B     		cmp	r3, #2
 9875 00f0 0FD1     		bne	.L621
4450:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							if (ld_word(p) == 0) nfree++;
 9876              		.loc 1 4450 12
 9877 00f2 B86A     		ldr	r0, [r7, #40]
 9878 00f4 FFF7FEFF 		bl	ld_word
 9879 00f8 0346     		mov	r3, r0
 9880              		.loc 1 4450 11
 9881 00fa 002B     		cmp	r3, #0
 9882 00fc 02D1     		bne	.L622
 9883              		.loc 1 4450 34 discriminator 1
 9884 00fe BB6B     		ldr	r3, [r7, #56]
 9885 0100 0133     		adds	r3, r3, #1
 9886 0102 BB63     		str	r3, [r7, #56]
 9887              	.L622:
4451:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 2; i -= 2;
 9888              		.loc 1 4451 10
 9889 0104 BB6A     		ldr	r3, [r7, #40]
 9890 0106 0233     		adds	r3, r3, #2
 9891 0108 BB62     		str	r3, [r7, #40]
 9892              		.loc 1 4451 18
 9893 010a FB6A     		ldr	r3, [r7, #44]
 9894 010c 023B     		subs	r3, r3, #2
 9895 010e FB62     		str	r3, [r7, #44]
 9896 0110 10E0     		b	.L623
 9897              	.L621:
4452:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
4453:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							if ((ld_dword(p) & 0x0FFFFFFF) == 0) nfree++;
 9898              		.loc 1 4453 13
 9899 0112 B86A     		ldr	r0, [r7, #40]
 9900 0114 FFF7FEFF 		bl	ld_dword
 9901 0118 0346     		mov	r3, r0
 9902              		.loc 1 4453 25
ARM GAS  /tmp/cc5m2BsI.s 			page 253


 9903 011a 23F07043 		bic	r3, r3, #-268435456
 9904              		.loc 1 4453 11
 9905 011e 002B     		cmp	r3, #0
 9906 0120 02D1     		bne	.L624
 9907              		.loc 1 4453 50 discriminator 1
 9908 0122 BB6B     		ldr	r3, [r7, #56]
 9909 0124 0133     		adds	r3, r3, #1
 9910 0126 BB63     		str	r3, [r7, #56]
 9911              	.L624:
4454:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							p += 4; i -= 4;
 9912              		.loc 1 4454 10
 9913 0128 BB6A     		ldr	r3, [r7, #40]
 9914 012a 0433     		adds	r3, r3, #4
 9915 012c BB62     		str	r3, [r7, #40]
 9916              		.loc 1 4454 18
 9917 012e FB6A     		ldr	r3, [r7, #44]
 9918 0130 043B     		subs	r3, r3, #4
 9919 0132 FB62     		str	r3, [r7, #44]
 9920              	.L623:
4455:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4456:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (--clst);
 9921              		.loc 1 4456 6
 9922 0134 7B6B     		ldr	r3, [r7, #52]
 9923 0136 013B     		subs	r3, r3, #1
 9924 0138 7B63     		str	r3, [r7, #52]
 9925 013a 7B6B     		ldr	r3, [r7, #52]
 9926 013c 002B     		cmp	r3, #0
 9927 013e BDD1     		bne	.L625
 9928 0140 00E0     		b	.L618
 9929              	.L627:
4445:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							p = fs->win;
 9930              		.loc 1 4445 8
 9931 0142 00BF     		nop
 9932              	.L618:
4457:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4458:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4459:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = nfree;			/* Return the free clusters */
 9933              		.loc 1 4459 11
 9934 0144 BB68     		ldr	r3, [r7, #8]
 9935 0146 BA6B     		ldr	r2, [r7, #56]
 9936 0148 1A60     		str	r2, [r3]
4460:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clst = nfree;	/* Now free_clst is valid */
 9937              		.loc 1 4460 6
 9938 014a 3B6A     		ldr	r3, [r7, #32]
 9939              		.loc 1 4460 18
 9940 014c BA6B     		ldr	r2, [r7, #56]
 9941 014e 5A61     		str	r2, [r3, #20]
4461:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;		/* FSInfo is to be updated */
 9942              		.loc 1 4461 17
 9943 0150 3B6A     		ldr	r3, [r7, #32]
 9944 0152 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 9945 0154 3B6A     		ldr	r3, [r7, #32]
 9946 0156 42F00102 		orr	r2, r2, #1
 9947 015a D2B2     		uxtb	r2, r2
 9948 015c 1A71     		strb	r2, [r3, #4]
 9949              	.L610:
4462:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/cc5m2BsI.s 			page 254


4463:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4464:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4465:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 9950              		.loc 1 4465 2
 9951 015e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
4466:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 9952              		.loc 1 4466 1
 9953 0162 1846     		mov	r0, r3
 9954 0164 4037     		adds	r7, r7, #64
 9955              		.cfi_def_cfa_offset 8
 9956 0166 BD46     		mov	sp, r7
 9957              		.cfi_def_cfa_register 13
 9958              		@ sp needed
 9959 0168 80BD     		pop	{r7, pc}
 9960              		.cfi_endproc
 9961              	.LFE369:
 9963              		.section	.text.f_truncate,"ax",%progbits
 9964              		.align	1
 9965              		.global	f_truncate
 9966              		.syntax unified
 9967              		.thumb
 9968              		.thumb_func
 9969              		.fpu fpv5-d16
 9971              	f_truncate:
 9972              	.LFB370:
4467:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4470:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4471:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4472:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
4473:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4474:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4475:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
4476:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4477:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4478:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 9973              		.loc 1 4478 1
 9974              		.cfi_startproc
 9975              		@ args = 0, pretend = 0, frame = 24
 9976              		@ frame_needed = 1, uses_anonymous_args = 0
 9977 0000 80B5     		push	{r7, lr}
 9978              		.cfi_def_cfa_offset 8
 9979              		.cfi_offset 7, -8
 9980              		.cfi_offset 14, -4
 9981 0002 86B0     		sub	sp, sp, #24
 9982              		.cfi_def_cfa_offset 32
 9983 0004 00AF     		add	r7, sp, #0
 9984              		.cfi_def_cfa_register 7
 9985 0006 7860     		str	r0, [r7, #4]
4479:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4480:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4481:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
4482:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4483:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4484:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);	/* Check validity of the file object */
 9986              		.loc 1 4484 8
ARM GAS  /tmp/cc5m2BsI.s 			page 255


 9987 0008 7B68     		ldr	r3, [r7, #4]
 9988 000a 07F10C02 		add	r2, r7, #12
 9989 000e 1146     		mov	r1, r2
 9990 0010 1846     		mov	r0, r3
 9991 0012 FFF7FEFF 		bl	validate
 9992 0016 0346     		mov	r3, r0
 9993 0018 FB75     		strb	r3, [r7, #23]
4485:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
 9994              		.loc 1 4485 5
 9995 001a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 9996 001c 002B     		cmp	r3, #0
 9997 001e 05D1     		bne	.L629
 9998              		.loc 1 4485 27 discriminator 2
 9999 0020 7B68     		ldr	r3, [r7, #4]
 10000 0022 5B7C     		ldrb	r3, [r3, #17]
 10001 0024 FB75     		strb	r3, [r7, #23]
 10002              		.loc 1 4485 19 discriminator 2
 10003 0026 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 10004 0028 002B     		cmp	r3, #0
 10005 002a 01D0     		beq	.L630
 10006              	.L629:
 10007              		.loc 1 4485 57 discriminator 3
 10008 002c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 10009 002e 77E0     		b	.L640
 10010              	.L630:
4486:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
 10011              		.loc 1 4486 10
 10012 0030 7B68     		ldr	r3, [r7, #4]
 10013 0032 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 10014              		.loc 1 4486 17
 10015 0034 03F00203 		and	r3, r3, #2
 10016              		.loc 1 4486 5
 10017 0038 002B     		cmp	r3, #0
 10018 003a 01D1     		bne	.L632
 10019              		.loc 1 4486 30 discriminator 1
 10020 003c 0723     		movs	r3, #7
 10021 003e 6FE0     		b	.L640
 10022              	.L632:
4487:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4488:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr < fp->obj.objsize) {	/* Process when fptr is not on the eof */
 10023              		.loc 1 4488 8
 10024 0040 7B68     		ldr	r3, [r7, #4]
 10025 0042 5A69     		ldr	r2, [r3, #20]
 10026              		.loc 1 4488 24
 10027 0044 7B68     		ldr	r3, [r7, #4]
 10028 0046 DB68     		ldr	r3, [r3, #12]
 10029              		.loc 1 4488 5
 10030 0048 9A42     		cmp	r2, r3
 10031 004a 68D2     		bcs	.L633
4489:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 10032              		.loc 1 4489 9
 10033 004c 7B68     		ldr	r3, [r7, #4]
 10034 004e 5B69     		ldr	r3, [r3, #20]
 10035              		.loc 1 4489 6
 10036 0050 002B     		cmp	r3, #0
 10037 0052 0CD1     		bne	.L634
4490:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = remove_chain(&fp->obj, fp->obj.sclust, 0);
ARM GAS  /tmp/cc5m2BsI.s 			page 256


 10038              		.loc 1 4490 10
 10039 0054 7868     		ldr	r0, [r7, #4]
 10040 0056 7B68     		ldr	r3, [r7, #4]
 10041 0058 9B68     		ldr	r3, [r3, #8]
 10042 005a 0022     		movs	r2, #0
 10043 005c 1946     		mov	r1, r3
 10044 005e FFF7FEFF 		bl	remove_chain
 10045 0062 0346     		mov	r3, r0
 10046 0064 FB75     		strb	r3, [r7, #23]
4491:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = 0;
 10047              		.loc 1 4491 19
 10048 0066 7B68     		ldr	r3, [r7, #4]
 10049 0068 0022     		movs	r2, #0
 10050 006a 9A60     		str	r2, [r3, #8]
 10051 006c 25E0     		b	.L635
 10052              	.L634:
4492:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* When truncate a part of the file, remove remaining clusters */
4493:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = get_fat(&fp->obj, fp->clust);
 10053              		.loc 1 4493 10
 10054 006e 7A68     		ldr	r2, [r7, #4]
 10055 0070 7B68     		ldr	r3, [r7, #4]
 10056 0072 9B69     		ldr	r3, [r3, #24]
 10057 0074 1946     		mov	r1, r3
 10058 0076 1046     		mov	r0, r2
 10059 0078 FFF7FEFF 		bl	get_fat
 10060 007c 3861     		str	r0, [r7, #16]
4494:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10061              		.loc 1 4494 8
 10062 007e 0023     		movs	r3, #0
 10063 0080 FB75     		strb	r3, [r7, #23]
4495:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10064              		.loc 1 4495 7
 10065 0082 3B69     		ldr	r3, [r7, #16]
 10066 0084 B3F1FF3F 		cmp	r3, #-1
 10067 0088 01D1     		bne	.L636
 10068              		.loc 1 4495 31 discriminator 1
 10069 008a 0123     		movs	r3, #1
 10070 008c FB75     		strb	r3, [r7, #23]
 10071              	.L636:
4496:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl == 1) res = FR_INT_ERR;
 10072              		.loc 1 4496 7
 10073 008e 3B69     		ldr	r3, [r7, #16]
 10074 0090 012B     		cmp	r3, #1
 10075 0092 01D1     		bne	.L637
 10076              		.loc 1 4496 22 discriminator 1
 10077 0094 0223     		movs	r3, #2
 10078 0096 FB75     		strb	r3, [r7, #23]
 10079              	.L637:
4497:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && ncl < fs->n_fatent) {
 10080              		.loc 1 4497 7
 10081 0098 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 10082 009a 002B     		cmp	r3, #0
 10083 009c 0DD1     		bne	.L635
 10084              		.loc 1 4497 32 discriminator 1
 10085 009e FB68     		ldr	r3, [r7, #12]
 10086 00a0 9B69     		ldr	r3, [r3, #24]
 10087              		.loc 1 4497 21 discriminator 1
ARM GAS  /tmp/cc5m2BsI.s 			page 257


 10088 00a2 3A69     		ldr	r2, [r7, #16]
 10089 00a4 9A42     		cmp	r2, r3
 10090 00a6 08D2     		bcs	.L635
4498:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(&fp->obj, ncl, fp->clust);
 10091              		.loc 1 4498 11
 10092 00a8 7868     		ldr	r0, [r7, #4]
 10093 00aa 7B68     		ldr	r3, [r7, #4]
 10094 00ac 9B69     		ldr	r3, [r3, #24]
 10095 00ae 1A46     		mov	r2, r3
 10096 00b0 3969     		ldr	r1, [r7, #16]
 10097 00b2 FFF7FEFF 		bl	remove_chain
 10098 00b6 0346     		mov	r3, r0
 10099 00b8 FB75     		strb	r3, [r7, #23]
 10100              	.L635:
4499:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4500:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4501:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->obj.objsize = fp->fptr;	/* Set file size to current R/W point */
 10101              		.loc 1 4501 23
 10102 00ba 7B68     		ldr	r3, [r7, #4]
 10103 00bc 5A69     		ldr	r2, [r3, #20]
 10104              		.loc 1 4501 19
 10105 00be 7B68     		ldr	r3, [r7, #4]
 10106 00c0 DA60     		str	r2, [r3, #12]
4502:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA_MODIFIED;
 10107              		.loc 1 4502 12
 10108 00c2 7B68     		ldr	r3, [r7, #4]
 10109 00c4 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 10110 00c6 43F04003 		orr	r3, r3, #64
 10111 00ca DAB2     		uxtb	r2, r3
 10112 00cc 7B68     		ldr	r3, [r7, #4]
 10113 00ce 1A74     		strb	r2, [r3, #16]
4503:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
4504:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (fp->flag & FA_DIRTY)) {
 10114              		.loc 1 4504 6
 10115 00d0 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 10116 00d2 002B     		cmp	r3, #0
 10117 00d4 1BD1     		bne	.L638
 10118              		.loc 1 4504 26 discriminator 1
 10119 00d6 7B68     		ldr	r3, [r7, #4]
 10120 00d8 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 10121              		.loc 1 4504 20 discriminator 1
 10122 00da 5BB2     		sxtb	r3, r3
 10123 00dc 002B     		cmp	r3, #0
 10124 00de 16DA     		bge	.L638
4505:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) {
 10125              		.loc 1 4505 21
 10126 00e0 FB68     		ldr	r3, [r7, #12]
 10127              		.loc 1 4505 8
 10128 00e2 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 10129              		.loc 1 4505 30
 10130 00e4 7B68     		ldr	r3, [r7, #4]
 10131 00e6 03F12C01 		add	r1, r3, #44
 10132              		.loc 1 4505 8
 10133 00ea 7B68     		ldr	r3, [r7, #4]
 10134 00ec DA69     		ldr	r2, [r3, #28]
 10135 00ee 0123     		movs	r3, #1
 10136 00f0 FFF7FEFF 		bl	disk_write
ARM GAS  /tmp/cc5m2BsI.s 			page 258


 10137 00f4 0346     		mov	r3, r0
 10138              		.loc 1 4505 7
 10139 00f6 002B     		cmp	r3, #0
 10140 00f8 02D0     		beq	.L639
4506:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 10141              		.loc 1 4506 9
 10142 00fa 0123     		movs	r3, #1
 10143 00fc FB75     		strb	r3, [r7, #23]
 10144 00fe 06E0     		b	.L638
 10145              	.L639:
4507:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4508:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
 10146              		.loc 1 4508 14
 10147 0100 7B68     		ldr	r3, [r7, #4]
 10148 0102 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 10149 0104 03F07F03 		and	r3, r3, #127
 10150 0108 DAB2     		uxtb	r2, r3
 10151 010a 7B68     		ldr	r3, [r7, #4]
 10152 010c 1A74     		strb	r2, [r3, #16]
 10153              	.L638:
4509:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4510:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4511:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4512:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) ABORT(fs, res);
 10154              		.loc 1 4512 6
 10155 010e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 10156 0110 002B     		cmp	r3, #0
 10157 0112 04D0     		beq	.L633
 10158              		.loc 1 4512 21 discriminator 1
 10159 0114 7B68     		ldr	r3, [r7, #4]
 10160 0116 FA7D     		ldrb	r2, [r7, #23]
 10161 0118 5A74     		strb	r2, [r3, #17]
 10162 011a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 10163 011c 00E0     		b	.L640
 10164              	.L633:
4513:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4514:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4515:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 10165              		.loc 1 4515 2
 10166 011e FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 10167              	.L640:
4516:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 10168              		.loc 1 4516 1 discriminator 1
 10169 0120 1846     		mov	r0, r3
 10170 0122 1837     		adds	r7, r7, #24
 10171              		.cfi_def_cfa_offset 8
 10172 0124 BD46     		mov	sp, r7
 10173              		.cfi_def_cfa_register 13
 10174              		@ sp needed
 10175 0126 80BD     		pop	{r7, pc}
 10176              		.cfi_endproc
 10177              	.LFE370:
 10179              		.section	.text.f_unlink,"ax",%progbits
 10180              		.align	1
 10181              		.global	f_unlink
 10182              		.syntax unified
 10183              		.thumb
ARM GAS  /tmp/cc5m2BsI.s 			page 259


 10184              		.thumb_func
 10185              		.fpu fpv5-d16
 10187              	f_unlink:
 10188              	.LFB371:
4517:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4518:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4519:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4520:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4521:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4522:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File/Directory                                               */
4523:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4524:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4525:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
4526:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
4527:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4528:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 10189              		.loc 1 4528 1
 10190              		.cfi_startproc
 10191              		@ args = 0, pretend = 0, frame = 120
 10192              		@ frame_needed = 1, uses_anonymous_args = 0
 10193 0000 80B5     		push	{r7, lr}
 10194              		.cfi_def_cfa_offset 8
 10195              		.cfi_offset 7, -8
 10196              		.cfi_offset 14, -4
 10197 0002 9EB0     		sub	sp, sp, #120
 10198              		.cfi_def_cfa_offset 128
 10199 0004 00AF     		add	r7, sp, #0
 10200              		.cfi_def_cfa_register 7
 10201 0006 7860     		str	r0, [r7, #4]
4529:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4530:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
4531:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
 10202              		.loc 1 4531 8
 10203 0008 0023     		movs	r3, #0
 10204 000a 3B67     		str	r3, [r7, #112]
4532:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4533:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4534:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	_FDID obj;
4535:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4536:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4537:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4538:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4539:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4540:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
 10205              		.loc 1 4540 8
 10206 000c 07F10C01 		add	r1, r7, #12
 10207 0010 3B1D     		adds	r3, r7, #4
 10208 0012 0222     		movs	r2, #2
 10209 0014 1846     		mov	r0, r3
 10210 0016 FFF7FEFF 		bl	find_volume
 10211 001a 0346     		mov	r3, r0
 10212 001c 87F87730 		strb	r3, [r7, #119]
4541:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10213              		.loc 1 4541 12
 10214 0020 FB68     		ldr	r3, [r7, #12]
 10215 0022 3B64     		str	r3, [r7, #64]
4542:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
ARM GAS  /tmp/cc5m2BsI.s 			page 260


 10216              		.loc 1 4542 5
 10217 0024 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 10218 0028 002B     		cmp	r3, #0
 10219 002a 40F08180 		bne	.L642
4543:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4544:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 10220              		.loc 1 4544 9
 10221 002e 7A68     		ldr	r2, [r7, #4]
 10222 0030 07F14003 		add	r3, r7, #64
 10223 0034 1146     		mov	r1, r2
 10224 0036 1846     		mov	r0, r3
 10225 0038 FFF7FEFF 		bl	follow_path
 10226 003c 0346     		mov	r3, r0
 10227 003e 87F87730 		strb	r3, [r7, #119]
4545:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT)) {
4546:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
4547:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4548:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4549:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Check if it is an open object */
4550:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4551:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
 10228              		.loc 1 4551 6
 10229 0042 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 10230 0046 002B     		cmp	r3, #0
 10231 0048 72D1     		bne	.L642
4552:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.fn[NSFLAG] & NS_NONAME) {
 10232              		.loc 1 4552 13
 10233 004a 97F86B30 		ldrb	r3, [r7, #107]	@ zero_extendqisi2
 10234              		.loc 1 4552 8
 10235 004e 5BB2     		sxtb	r3, r3
 10236              		.loc 1 4552 7
 10237 0050 002B     		cmp	r3, #0
 10238 0052 03DA     		bge	.L643
4553:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 10239              		.loc 1 4553 9
 10240 0054 0623     		movs	r3, #6
 10241 0056 87F87730 		strb	r3, [r7, #119]
 10242 005a 08E0     		b	.L644
 10243              	.L643:
4554:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4555:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_RDO) {
 10244              		.loc 1 4555 15
 10245 005c 97F84630 		ldrb	r3, [r7, #70]	@ zero_extendqisi2
 10246              		.loc 1 4555 21
 10247 0060 03F00103 		and	r3, r3, #1
 10248              		.loc 1 4555 8
 10249 0064 002B     		cmp	r3, #0
 10250 0066 02D0     		beq	.L644
4556:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 10251              		.loc 1 4556 10
 10252 0068 0723     		movs	r3, #7
 10253 006a 87F87730 		strb	r3, [r7, #119]
 10254              	.L644:
4557:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4558:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4559:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 10255              		.loc 1 4559 7
ARM GAS  /tmp/cc5m2BsI.s 			page 261


 10256 006e 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 10257 0072 002B     		cmp	r3, #0
 10258 0074 34D1     		bne	.L645
4560:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4561:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				obj.fs = fs;
4562:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4563:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.sclust = dclst = ld_dword(fs->dirbuf + XDIR_FstClus);
4564:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.objsize = ld_qword(fs->dirbuf + XDIR_FileSize);
4565:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					obj.stat = fs->dirbuf[XDIR_GenFlags] & 2;
4566:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4567:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4568:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4569:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dclst = ld_clust(fs, dj.dir);
 10259              		.loc 1 4569 14
 10260 0076 FB68     		ldr	r3, [r7, #12]
 10261              		.loc 1 4569 29
 10262 0078 FA6D     		ldr	r2, [r7, #92]
 10263              		.loc 1 4569 14
 10264 007a 1146     		mov	r1, r2
 10265 007c 1846     		mov	r0, r3
 10266 007e FFF7FEFF 		bl	ld_clust
 10267 0082 3867     		str	r0, [r7, #112]
4570:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4571:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.obj.attr & AM_DIR) {			/* Is it a sub-directory? */
 10268              		.loc 1 4571 15
 10269 0084 97F84630 		ldrb	r3, [r7, #70]	@ zero_extendqisi2
 10270              		.loc 1 4571 21
 10271 0088 03F01003 		and	r3, r3, #16
 10272              		.loc 1 4571 8
 10273 008c 002B     		cmp	r3, #0
 10274 008e 27D0     		beq	.L645
4572:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH != 0
4573:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == fs->cdir) {		 		/* Is it the current directory? */
4574:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
4575:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
4576:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4577:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					{
4578:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.fs = fs;						/* Open the sub-directory */
 10275              		.loc 1 4578 18
 10276 0090 FB68     		ldr	r3, [r7, #12]
 10277 0092 3B61     		str	r3, [r7, #16]
4579:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.obj.sclust = dclst;
 10278              		.loc 1 4579 22
 10279 0094 3B6F     		ldr	r3, [r7, #112]
 10280 0096 BB61     		str	r3, [r7, #24]
4580:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4581:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (fs->fs_type == FS_EXFAT) {
4582:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.objsize = obj.objsize;
4583:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							sdj.obj.stat = obj.stat;
4584:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4585:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4586:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 0);
 10281              		.loc 1 4586 13
 10282 0098 07F11003 		add	r3, r7, #16
 10283 009c 0021     		movs	r1, #0
 10284 009e 1846     		mov	r0, r3
 10285 00a0 FFF7FEFF 		bl	dir_sdi
ARM GAS  /tmp/cc5m2BsI.s 			page 262


 10286 00a4 0346     		mov	r3, r0
 10287 00a6 87F87730 		strb	r3, [r7, #119]
4587:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 10288              		.loc 1 4587 10
 10289 00aa 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 10290 00ae 002B     		cmp	r3, #0
 10291 00b0 16D1     		bne	.L645
4588:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item */
 10292              		.loc 1 4588 14
 10293 00b2 07F11003 		add	r3, r7, #16
 10294 00b6 0021     		movs	r1, #0
 10295 00b8 1846     		mov	r0, r3
 10296 00ba FFF7FEFF 		bl	dir_read
 10297 00be 0346     		mov	r3, r0
 10298 00c0 87F87730 		strb	r3, [r7, #119]
4589:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? */
 10299              		.loc 1 4589 11
 10300 00c4 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 10301 00c8 002B     		cmp	r3, #0
 10302 00ca 02D1     		bne	.L646
 10303              		.loc 1 4589 30 discriminator 1
 10304 00cc 0723     		movs	r3, #7
 10305 00ce 87F87730 		strb	r3, [r7, #119]
 10306              	.L646:
4590:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? */
 10307              		.loc 1 4590 11
 10308 00d2 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 10309 00d6 042B     		cmp	r3, #4
 10310 00d8 02D1     		bne	.L645
 10311              		.loc 1 4590 35 discriminator 1
 10312 00da 0023     		movs	r3, #0
 10313 00dc 87F87730 		strb	r3, [r7, #119]
 10314              	.L645:
4591:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4592:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4593:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4594:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4595:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 10315              		.loc 1 4595 7
 10316 00e0 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 10317 00e4 002B     		cmp	r3, #0
 10318 00e6 23D1     		bne	.L642
4596:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);			/* Remove the directory entry */
 10319              		.loc 1 4596 11
 10320 00e8 07F14003 		add	r3, r7, #64
 10321 00ec 1846     		mov	r0, r3
 10322 00ee FFF7FEFF 		bl	dir_remove
 10323 00f2 0346     		mov	r3, r0
 10324 00f4 87F87730 		strb	r3, [r7, #119]
4597:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst) {	/* Remove the cluster chain if exist */
 10325              		.loc 1 4597 8
 10326 00f8 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 10327 00fc 002B     		cmp	r3, #0
 10328 00fe 0CD1     		bne	.L647
 10329              		.loc 1 4597 22 discriminator 1
 10330 0100 3B6F     		ldr	r3, [r7, #112]
 10331 0102 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 263


 10332 0104 09D0     		beq	.L647
4598:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4599:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&obj, dclst, 0);
4600:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
4601:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(&dj.obj, dclst, 0);
 10333              		.loc 1 4601 12
 10334 0106 07F14003 		add	r3, r7, #64
 10335 010a 0022     		movs	r2, #0
 10336 010c 396F     		ldr	r1, [r7, #112]
 10337 010e 1846     		mov	r0, r3
 10338 0110 FFF7FEFF 		bl	remove_chain
 10339 0114 0346     		mov	r3, r0
 10340 0116 87F87730 		strb	r3, [r7, #119]
 10341              	.L647:
4602:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4603:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4604:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(fs);
 10342              		.loc 1 4604 8
 10343 011a 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
 10344 011e 002B     		cmp	r3, #0
 10345 0120 06D1     		bne	.L642
 10346              		.loc 1 4604 29 discriminator 1
 10347 0122 FB68     		ldr	r3, [r7, #12]
 10348 0124 1846     		mov	r0, r3
 10349 0126 FFF7FEFF 		bl	sync_fs
 10350 012a 0346     		mov	r3, r0
 10351 012c 87F87730 		strb	r3, [r7, #119]
 10352              	.L642:
4605:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4606:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4607:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4608:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4609:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4610:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 10353              		.loc 1 4610 2
 10354 0130 97F87730 		ldrb	r3, [r7, #119]	@ zero_extendqisi2
4611:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 10355              		.loc 1 4611 1
 10356 0134 1846     		mov	r0, r3
 10357 0136 7837     		adds	r7, r7, #120
 10358              		.cfi_def_cfa_offset 8
 10359 0138 BD46     		mov	sp, r7
 10360              		.cfi_def_cfa_register 13
 10361              		@ sp needed
 10362 013a 80BD     		pop	{r7, pc}
 10363              		.cfi_endproc
 10364              	.LFE371:
 10366              		.section	.text.f_mkdir,"ax",%progbits
 10367              		.align	1
 10368              		.global	f_mkdir
 10369              		.syntax unified
 10370              		.thumb
 10371              		.thumb_func
 10372              		.fpu fpv5-d16
 10374              	f_mkdir:
 10375              	.LFB372:
4612:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 264


4613:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4614:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4615:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4616:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4617:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
4618:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4619:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
4621:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
4622:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4623:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 10376              		.loc 1 4623 1
 10377              		.cfi_startproc
 10378              		@ args = 0, pretend = 0, frame = 88
 10379              		@ frame_needed = 1, uses_anonymous_args = 0
 10380 0000 80B5     		push	{r7, lr}
 10381              		.cfi_def_cfa_offset 8
 10382              		.cfi_offset 7, -8
 10383              		.cfi_offset 14, -4
 10384 0002 96B0     		sub	sp, sp, #88
 10385              		.cfi_def_cfa_offset 96
 10386 0004 00AF     		add	r7, sp, #0
 10387              		.cfi_def_cfa_register 7
 10388 0006 7860     		str	r0, [r7, #4]
4624:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4625:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4626:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4627:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
4628:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
4629:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm;
4630:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4631:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4632:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4633:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4634:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);
 10389              		.loc 1 4634 8
 10390 0008 07F10801 		add	r1, r7, #8
 10391 000c 3B1D     		adds	r3, r7, #4
 10392 000e 0222     		movs	r2, #2
 10393 0010 1846     		mov	r0, r3
 10394 0012 FFF7FEFF 		bl	find_volume
 10395 0016 0346     		mov	r3, r0
 10396 0018 87F85730 		strb	r3, [r7, #87]
4635:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
 10397              		.loc 1 4635 12
 10398 001c BB68     		ldr	r3, [r7, #8]
 10399 001e FB60     		str	r3, [r7, #12]
4636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10400              		.loc 1 4636 5
 10401 0020 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 10402 0024 002B     		cmp	r3, #0
 10403 0026 40F0EC80 		bne	.L650
4637:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4638:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 10404              		.loc 1 4638 9
 10405 002a 7A68     		ldr	r2, [r7, #4]
 10406 002c 07F10C03 		add	r3, r7, #12
ARM GAS  /tmp/cc5m2BsI.s 			page 265


 10407 0030 1146     		mov	r1, r2
 10408 0032 1846     		mov	r0, r3
 10409 0034 FFF7FEFF 		bl	follow_path
 10410 0038 0346     		mov	r3, r0
 10411 003a 87F85730 		strb	r3, [r7, #87]
4639:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 10412              		.loc 1 4639 6
 10413 003e 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 10414 0042 002B     		cmp	r3, #0
 10415 0044 02D1     		bne	.L651
 10416              		.loc 1 4639 25 discriminator 1
 10417 0046 0823     		movs	r3, #8
 10418 0048 87F85730 		strb	r3, [r7, #87]
 10419              	.L651:
4640:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT)) {
4641:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
4642:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4643:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
 10420              		.loc 1 4643 6
 10421 004c 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 10422 0050 042B     		cmp	r3, #4
 10423 0052 40F0D680 		bne	.L650
4644:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(&dj.obj, 0);		/* Allocate a cluster for the new directory table */
 10424              		.loc 1 4644 10
 10425 0056 07F10C03 		add	r3, r7, #12
 10426 005a 0021     		movs	r1, #0
 10427 005c 1846     		mov	r0, r3
 10428 005e FFF7FEFF 		bl	create_chain
 10429 0062 7864     		str	r0, [r7, #68]
4645:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.obj.objsize = (DWORD)fs->csize * SS(fs);
 10430              		.loc 1 4645 30
 10431 0064 BB68     		ldr	r3, [r7, #8]
 10432 0066 5B89     		ldrh	r3, [r3, #10]
 10433              		.loc 1 4645 38
 10434 0068 5B02     		lsls	r3, r3, #9
 10435              		.loc 1 4645 19
 10436 006a BB61     		str	r3, [r7, #24]
4646:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 10437              		.loc 1 4646 8
 10438 006c 0023     		movs	r3, #0
 10439 006e 87F85730 		strb	r3, [r7, #87]
4647:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 10440              		.loc 1 4647 7
 10441 0072 7B6C     		ldr	r3, [r7, #68]
 10442 0074 002B     		cmp	r3, #0
 10443 0076 02D1     		bne	.L652
 10444              		.loc 1 4647 22 discriminator 1
 10445 0078 0723     		movs	r3, #7
 10446 007a 87F85730 		strb	r3, [r7, #87]
 10447              	.L652:
4648:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 10448              		.loc 1 4648 7
 10449 007e 7B6C     		ldr	r3, [r7, #68]
 10450 0080 012B     		cmp	r3, #1
 10451 0082 02D1     		bne	.L653
 10452              		.loc 1 4648 22 discriminator 1
 10453 0084 0223     		movs	r3, #2
ARM GAS  /tmp/cc5m2BsI.s 			page 266


 10454 0086 87F85730 		strb	r3, [r7, #87]
 10455              	.L653:
4649:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 10456              		.loc 1 4649 7
 10457 008a 7B6C     		ldr	r3, [r7, #68]
 10458 008c B3F1FF3F 		cmp	r3, #-1
 10459 0090 02D1     		bne	.L654
 10460              		.loc 1 4649 31 discriminator 1
 10461 0092 0123     		movs	r3, #1
 10462 0094 87F85730 		strb	r3, [r7, #87]
 10463              	.L654:
4650:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = sync_window(fs);	/* Flush FAT */
 10464              		.loc 1 4650 7
 10465 0098 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 10466 009c 002B     		cmp	r3, #0
 10467 009e 06D1     		bne	.L655
 10468              		.loc 1 4650 28 discriminator 1
 10469 00a0 BB68     		ldr	r3, [r7, #8]
 10470 00a2 1846     		mov	r0, r3
 10471 00a4 FFF7FEFF 		bl	sync_window
 10472 00a8 0346     		mov	r3, r0
 10473 00aa 87F85730 		strb	r3, [r7, #87]
 10474              	.L655:
4651:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			tm = GET_FATTIME();
 10475              		.loc 1 4651 9
 10476 00ae FFF7FEFF 		bl	get_fattime
 10477 00b2 3864     		str	r0, [r7, #64]
4652:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 10478              		.loc 1 4652 7
 10479 00b4 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 10480 00b8 002B     		cmp	r3, #0
 10481 00ba 6AD1     		bne	.L656
4653:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fs, dcl);
 10482              		.loc 1 4653 11
 10483 00bc BB68     		ldr	r3, [r7, #8]
 10484 00be 796C     		ldr	r1, [r7, #68]
 10485 00c0 1846     		mov	r0, r3
 10486 00c2 FFF7FEFF 		bl	clust2sect
 10487 00c6 F864     		str	r0, [r7, #76]
4654:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fs->win;
 10488              		.loc 1 4654 13
 10489 00c8 BB68     		ldr	r3, [r7, #8]
 10490              		.loc 1 4654 9
 10491 00ca 3433     		adds	r3, r3, #52
 10492 00cc FB63     		str	r3, [r7, #60]
4655:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(fs));
 10493              		.loc 1 4655 5
 10494 00ce 4FF40072 		mov	r2, #512
 10495 00d2 0021     		movs	r1, #0
 10496 00d4 F86B     		ldr	r0, [r7, #60]
 10497 00d6 FFF7FEFF 		bl	mem_set
4656:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_FS_EXFAT || fs->fs_type != FS_EXFAT) {
4657:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 10498              		.loc 1 4657 6
 10499 00da 0B22     		movs	r2, #11
 10500 00dc 2021     		movs	r1, #32
 10501 00de F86B     		ldr	r0, [r7, #60]
ARM GAS  /tmp/cc5m2BsI.s 			page 267


 10502 00e0 FFF7FEFF 		bl	mem_set
4658:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Name] = '.';
 10503              		.loc 1 4658 20
 10504 00e4 FB6B     		ldr	r3, [r7, #60]
 10505 00e6 2E22     		movs	r2, #46
 10506 00e8 1A70     		strb	r2, [r3]
4659:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;
 10507              		.loc 1 4659 9
 10508 00ea FB6B     		ldr	r3, [r7, #60]
 10509 00ec 0B33     		adds	r3, r3, #11
 10510              		.loc 1 4659 20
 10511 00ee 1022     		movs	r2, #16
 10512 00f0 1A70     		strb	r2, [r3]
4660:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);
 10513              		.loc 1 4660 6
 10514 00f2 FB6B     		ldr	r3, [r7, #60]
 10515 00f4 1633     		adds	r3, r3, #22
 10516 00f6 396C     		ldr	r1, [r7, #64]
 10517 00f8 1846     		mov	r0, r3
 10518 00fa FFF7FEFF 		bl	st_dword
4661:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);
 10519              		.loc 1 4661 6
 10520 00fe BB68     		ldr	r3, [r7, #8]
 10521 0100 7A6C     		ldr	r2, [r7, #68]
 10522 0102 F96B     		ldr	r1, [r7, #60]
 10523 0104 1846     		mov	r0, r3
 10524 0106 FFF7FEFF 		bl	st_clust
4662:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dir + SZDIRE, dir, SZDIRE); 	/* Create ".." entry */
 10525              		.loc 1 4662 18
 10526 010a FB6B     		ldr	r3, [r7, #60]
 10527 010c 2033     		adds	r3, r3, #32
 10528              		.loc 1 4662 6
 10529 010e 2022     		movs	r2, #32
 10530 0110 F96B     		ldr	r1, [r7, #60]
 10531 0112 1846     		mov	r0, r3
 10532 0114 FFF7FEFF 		bl	mem_cpy
4663:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[SZDIRE + 1] = '.'; pcl = dj.obj.sclust;
 10533              		.loc 1 4663 9
 10534 0118 FB6B     		ldr	r3, [r7, #60]
 10535 011a 2133     		adds	r3, r3, #33
 10536              		.loc 1 4663 22
 10537 011c 2E22     		movs	r2, #46
 10538 011e 1A70     		strb	r2, [r3]
 10539              		.loc 1 4663 33
 10540 0120 7B69     		ldr	r3, [r7, #20]
 10541 0122 BB64     		str	r3, [r7, #72]
4664:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fs->fs_type == FS_FAT32 && pcl == fs->dirbase) pcl = 0;
 10542              		.loc 1 4664 12
 10543 0124 BB68     		ldr	r3, [r7, #8]
 10544 0126 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 10545              		.loc 1 4664 9
 10546 0128 032B     		cmp	r3, #3
 10547 012a 06D1     		bne	.L657
 10548              		.loc 1 4664 46 discriminator 1
 10549 012c BB68     		ldr	r3, [r7, #8]
 10550 012e 9B6A     		ldr	r3, [r3, #40]
 10551              		.loc 1 4664 34 discriminator 1
ARM GAS  /tmp/cc5m2BsI.s 			page 268


 10552 0130 BA6C     		ldr	r2, [r7, #72]
 10553 0132 9A42     		cmp	r2, r3
 10554 0134 01D1     		bne	.L657
 10555              		.loc 1 4664 61 discriminator 2
 10556 0136 0023     		movs	r3, #0
 10557 0138 BB64     		str	r3, [r7, #72]
 10558              	.L657:
4665:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir + SZDIRE, pcl);
 10559              		.loc 1 4665 6
 10560 013a B868     		ldr	r0, [r7, #8]
 10561 013c FB6B     		ldr	r3, [r7, #60]
 10562 013e 2033     		adds	r3, r3, #32
 10563 0140 BA6C     		ldr	r2, [r7, #72]
 10564 0142 1946     		mov	r1, r3
 10565 0144 FFF7FEFF 		bl	st_clust
4666:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4667:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
 10566              		.loc 1 4667 16
 10567 0148 BB68     		ldr	r3, [r7, #8]
 10568 014a 5B89     		ldrh	r3, [r3, #10]
 10569              		.loc 1 4667 12
 10570 014c 3B65     		str	r3, [r7, #80]
 10571              		.loc 1 4667 5
 10572 014e 1BE0     		b	.L658
 10573              	.L660:
4668:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 10574              		.loc 1 4668 23
 10575 0150 FB6C     		ldr	r3, [r7, #76]
 10576 0152 5A1C     		adds	r2, r3, #1
 10577 0154 FA64     		str	r2, [r7, #76]
 10578              		.loc 1 4668 8
 10579 0156 BA68     		ldr	r2, [r7, #8]
 10580              		.loc 1 4668 18
 10581 0158 1363     		str	r3, [r2, #48]
4669:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10582              		.loc 1 4669 8
 10583 015a BB68     		ldr	r3, [r7, #8]
 10584              		.loc 1 4669 16
 10585 015c 0122     		movs	r2, #1
 10586 015e DA70     		strb	r2, [r3, #3]
4670:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(fs);
 10587              		.loc 1 4670 12
 10588 0160 BB68     		ldr	r3, [r7, #8]
 10589 0162 1846     		mov	r0, r3
 10590 0164 FFF7FEFF 		bl	sync_window
 10591 0168 0346     		mov	r3, r0
 10592 016a 87F85730 		strb	r3, [r7, #87]
4671:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 10593              		.loc 1 4671 9
 10594 016e 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 10595 0172 002B     		cmp	r3, #0
 10596 0174 0CD1     		bne	.L664
4672:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(fs));
 10597              		.loc 1 4672 6 discriminator 2
 10598 0176 4FF40072 		mov	r2, #512
 10599 017a 0021     		movs	r1, #0
 10600 017c F86B     		ldr	r0, [r7, #60]
ARM GAS  /tmp/cc5m2BsI.s 			page 269


 10601 017e FFF7FEFF 		bl	mem_set
4667:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 10602              		.loc 1 4667 29 discriminator 2
 10603 0182 3B6D     		ldr	r3, [r7, #80]
 10604 0184 013B     		subs	r3, r3, #1
 10605 0186 3B65     		str	r3, [r7, #80]
 10606              	.L658:
4667:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->winsect = dsc++;
 10607              		.loc 1 4667 5 discriminator 1
 10608 0188 3B6D     		ldr	r3, [r7, #80]
 10609 018a 002B     		cmp	r3, #0
 10610 018c E0D1     		bne	.L660
 10611 018e 00E0     		b	.L656
 10612              	.L664:
4671:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 10613              		.loc 1 4671 6
 10614 0190 00BF     		nop
 10615              	.L656:
4673:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4674:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4675:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 10616              		.loc 1 4675 7
 10617 0192 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 10618 0196 002B     		cmp	r3, #0
 10619 0198 07D1     		bne	.L661
4676:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_register(&dj);	/* Register the object to the directoy */
 10620              		.loc 1 4676 11
 10621 019a 07F10C03 		add	r3, r7, #12
 10622 019e 1846     		mov	r0, r3
 10623 01a0 FFF7FEFF 		bl	dir_register
 10624 01a4 0346     		mov	r3, r0
 10625 01a6 87F85730 		strb	r3, [r7, #87]
 10626              	.L661:
4677:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4678:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 10627              		.loc 1 4678 7
 10628 01aa 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 10629 01ae 002B     		cmp	r3, #0
 10630 01b0 20D1     		bne	.L662
4679:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4680:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {	/* Initialize directory entry block */
4681:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ModTime, tm);	/* Created time */
4682:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FstClus, dcl);	/* Table start cluster */
4683:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_FileSize, (DWORD)dj.obj.objsize);	/* File size needs to be valid */
4684:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(fs->dirbuf + XDIR_ValidFileSize, (DWORD)dj.obj.objsize);
4685:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_GenFlags] = 3;				/* Initialize the object flag (contiguous) */
4686:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->dirbuf[XDIR_Attr] = AM_DIR;				/* Attribute */
4687:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = store_xdir(&dj);
4688:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4689:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4690:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4691:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dir = dj.dir;
 10631              		.loc 1 4691 10
 10632 01b2 BB6A     		ldr	r3, [r7, #40]
 10633 01b4 FB63     		str	r3, [r7, #60]
4692:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(dir + DIR_ModTime, tm);	/* Created time */
 10634              		.loc 1 4692 6
ARM GAS  /tmp/cc5m2BsI.s 			page 270


 10635 01b6 FB6B     		ldr	r3, [r7, #60]
 10636 01b8 1633     		adds	r3, r3, #22
 10637 01ba 396C     		ldr	r1, [r7, #64]
 10638 01bc 1846     		mov	r0, r3
 10639 01be FFF7FEFF 		bl	st_dword
4693:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_clust(fs, dir, dcl);				/* Table start cluster */
 10640              		.loc 1 4693 6
 10641 01c2 BB68     		ldr	r3, [r7, #8]
 10642 01c4 7A6C     		ldr	r2, [r7, #68]
 10643 01c6 F96B     		ldr	r1, [r7, #60]
 10644 01c8 1846     		mov	r0, r3
 10645 01ca FFF7FEFF 		bl	st_clust
4694:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dir[DIR_Attr] = AM_DIR;				/* Attribute */
 10646              		.loc 1 4694 9
 10647 01ce FB6B     		ldr	r3, [r7, #60]
 10648 01d0 0B33     		adds	r3, r3, #11
 10649              		.loc 1 4694 20
 10650 01d2 1022     		movs	r2, #16
 10651 01d4 1A70     		strb	r2, [r3]
4695:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fs->wflag = 1;
 10652              		.loc 1 4695 8
 10653 01d6 BB68     		ldr	r3, [r7, #8]
 10654              		.loc 1 4695 16
 10655 01d8 0122     		movs	r2, #1
 10656 01da DA70     		strb	r2, [r3, #3]
4696:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4697:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 10657              		.loc 1 4697 8
 10658 01dc 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
 10659 01e0 002B     		cmp	r3, #0
 10660 01e2 0ED1     		bne	.L650
4698:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 10661              		.loc 1 4698 12
 10662 01e4 BB68     		ldr	r3, [r7, #8]
 10663 01e6 1846     		mov	r0, r3
 10664 01e8 FFF7FEFF 		bl	sync_fs
 10665 01ec 0346     		mov	r3, r0
 10666 01ee 87F85730 		strb	r3, [r7, #87]
 10667 01f2 06E0     		b	.L650
 10668              	.L662:
4699:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4700:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4701:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(&dj.obj, dcl, 0);		/* Could not register, remove cluster chain */
 10669              		.loc 1 4701 5
 10670 01f4 07F10C03 		add	r3, r7, #12
 10671 01f8 0022     		movs	r2, #0
 10672 01fa 796C     		ldr	r1, [r7, #68]
 10673 01fc 1846     		mov	r0, r3
 10674 01fe FFF7FEFF 		bl	remove_chain
 10675              	.L650:
4702:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4703:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4704:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4705:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4706:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4707:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 10676              		.loc 1 4707 2
ARM GAS  /tmp/cc5m2BsI.s 			page 271


 10677 0202 97F85730 		ldrb	r3, [r7, #87]	@ zero_extendqisi2
4708:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 10678              		.loc 1 4708 1
 10679 0206 1846     		mov	r0, r3
 10680 0208 5837     		adds	r7, r7, #88
 10681              		.cfi_def_cfa_offset 8
 10682 020a BD46     		mov	sp, r7
 10683              		.cfi_def_cfa_register 13
 10684              		@ sp needed
 10685 020c 80BD     		pop	{r7, pc}
 10686              		.cfi_endproc
 10687              	.LFE372:
 10689              		.section	.text.f_rename,"ax",%progbits
 10690              		.align	1
 10691              		.global	f_rename
 10692              		.syntax unified
 10693              		.thumb
 10694              		.thumb_func
 10695              		.fpu fpv5-d16
 10697              	f_rename:
 10698              	.LFB373:
4709:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4710:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4711:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4712:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4713:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4714:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename a File/Directory                                               */
4715:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4716:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4717:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
4718:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object name to be renamed */
4719:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
4720:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4721:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 10699              		.loc 1 4721 1
 10700              		.cfi_startproc
 10701              		@ args = 0, pretend = 0, frame = 144
 10702              		@ frame_needed = 1, uses_anonymous_args = 0
 10703 0000 90B5     		push	{r4, r7, lr}
 10704              		.cfi_def_cfa_offset 12
 10705              		.cfi_offset 4, -12
 10706              		.cfi_offset 7, -8
 10707              		.cfi_offset 14, -4
 10708 0002 A5B0     		sub	sp, sp, #148
 10709              		.cfi_def_cfa_offset 160
 10710 0004 00AF     		add	r7, sp, #0
 10711              		.cfi_def_cfa_register 7
 10712 0006 7860     		str	r0, [r7, #4]
 10713 0008 3960     		str	r1, [r7]
4722:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4723:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
4724:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4725:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[_FS_EXFAT ? SZDIRE * 2 : 24], *dir;
4726:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
4727:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4728:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4729:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 272


4730:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	get_ldnumber(&path_new);						/* Snip drive number of new name off */
 10714              		.loc 1 4730 2
 10715 000a 3B46     		mov	r3, r7
 10716 000c 1846     		mov	r0, r3
 10717 000e FFF7FEFF 		bl	get_ldnumber
4731:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path_old, &fs, FA_WRITE);	/* Get logical drive of the old object */
 10718              		.loc 1 4731 8
 10719 0012 07F12001 		add	r1, r7, #32
 10720 0016 3B1D     		adds	r3, r7, #4
 10721 0018 0222     		movs	r2, #2
 10722 001a 1846     		mov	r0, r3
 10723 001c FFF7FEFF 		bl	find_volume
 10724 0020 0346     		mov	r3, r0
 10725 0022 87F88F30 		strb	r3, [r7, #143]
4732:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10726              		.loc 1 4732 5
 10727 0026 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 10728 002a 002B     		cmp	r3, #0
 10729 002c 40F0CE80 		bne	.L666
4733:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		djo.obj.fs = fs;
 10730              		.loc 1 4733 14
 10731 0030 3B6A     		ldr	r3, [r7, #32]
 10732 0032 7B65     		str	r3, [r7, #84]
4734:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4735:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 10733              		.loc 1 4735 9
 10734 0034 7A68     		ldr	r2, [r7, #4]
 10735 0036 07F15403 		add	r3, r7, #84
 10736 003a 1146     		mov	r1, r2
 10737 003c 1846     		mov	r0, r3
 10738 003e FFF7FEFF 		bl	follow_path
 10739 0042 0346     		mov	r3, r0
 10740 0044 87F88F30 		strb	r3, [r7, #143]
4736:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (djo.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check vali
 10741              		.loc 1 4736 6
 10742 0048 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 10743 004c 002B     		cmp	r3, #0
 10744 004e 08D1     		bne	.L667
 10745              		.loc 1 4736 30 discriminator 1
 10746 0050 97F87F30 		ldrb	r3, [r7, #127]	@ zero_extendqisi2
 10747              		.loc 1 4736 39 discriminator 1
 10748 0054 03F0A003 		and	r3, r3, #160
 10749              		.loc 1 4736 20 discriminator 1
 10750 0058 002B     		cmp	r3, #0
 10751 005a 02D0     		beq	.L667
 10752              		.loc 1 4736 68 discriminator 2
 10753 005c 0623     		movs	r3, #6
 10754 005e 87F88F30 		strb	r3, [r7, #143]
 10755              	.L667:
4737:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK != 0
4738:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4739:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = chk_lock(&djo, 2);
4740:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4741:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4742:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Object to be renamed is found */
 10756              		.loc 1 4742 6
 10757 0062 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 273


 10758 0066 002B     		cmp	r3, #0
 10759 0068 40F0B080 		bne	.L666
4743:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4744:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {	/* At exFAT */
4745:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				BYTE nf, nn;
4746:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				WORD nh;
4747:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4748:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, fs->dirbuf, SZDIRE * 2);	/* Save 85+C0 entry of old object */
4749:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof djo);
4750:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
4751:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
4752:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
4753:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4754:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
4755:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
4756:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4757:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						nf = fs->dirbuf[XDIR_NumSec]; nn = fs->dirbuf[XDIR_NumName];
4758:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						nh = ld_word(fs->dirbuf + XDIR_NameHash);
4759:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(fs->dirbuf, buf, SZDIRE * 2);
4760:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->dirbuf[XDIR_NumSec] = nf; fs->dirbuf[XDIR_NumName] = nn;
4761:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						st_word(fs->dirbuf + XDIR_NameHash, nh);
4762:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4763:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						res = store_xdir(&djn);
4764:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4765:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4766:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4767:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4768:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			{	/* At FAT12/FAT16/FAT32 */
4769:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about the object except name */
 10760              		.loc 1 4769 21
 10761 006c 3B6F     		ldr	r3, [r7, #112]
 10762              		.loc 1 4769 26
 10763 006e 03F10B01 		add	r1, r3, #11
 10764              		.loc 1 4769 5
 10765 0072 07F10803 		add	r3, r7, #8
 10766 0076 1522     		movs	r2, #21
 10767 0078 1846     		mov	r0, r3
 10768 007a FFF7FEFF 		bl	mem_cpy
4770:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 10769              		.loc 1 4770 5
 10770 007e 07F15401 		add	r1, r7, #84
 10771 0082 07F12403 		add	r3, r7, #36
 10772 0086 3022     		movs	r2, #48
 10773 0088 1846     		mov	r0, r3
 10774 008a FFF7FEFF 		bl	mem_cpy
4771:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = follow_path(&djn, path_new);		/* Make sure if new object name is not in use */
 10775              		.loc 1 4771 11
 10776 008e 3A68     		ldr	r2, [r7]
 10777 0090 07F12403 		add	r3, r7, #36
 10778 0094 1146     		mov	r1, r2
 10779 0096 1846     		mov	r0, r3
 10780 0098 FFF7FEFF 		bl	follow_path
 10781 009c 0346     		mov	r3, r0
 10782 009e 87F88F30 		strb	r3, [r7, #143]
4772:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {						/* Is new name already in use by any other object? */
 10783              		.loc 1 4772 8
 10784 00a2 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 274


 10785 00a6 002B     		cmp	r3, #0
 10786 00a8 0CD1     		bne	.L668
4773:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = (djn.obj.sclust == djo.obj.sclust && djn.dptr == djo.dptr) ? FR_NO_FILE : FR_EXIST;
 10787              		.loc 1 4773 20
 10788 00aa FA6A     		ldr	r2, [r7, #44]
 10789              		.loc 1 4773 38
 10790 00ac FB6D     		ldr	r3, [r7, #92]
 10791              		.loc 1 4773 84
 10792 00ae 9A42     		cmp	r2, r3
 10793 00b0 05D1     		bne	.L669
 10794              		.loc 1 4773 52 discriminator 1
 10795 00b2 7A6B     		ldr	r2, [r7, #52]
 10796              		.loc 1 4773 64 discriminator 1
 10797 00b4 7B6E     		ldr	r3, [r7, #100]
 10798              		.loc 1 4773 46 discriminator 1
 10799 00b6 9A42     		cmp	r2, r3
 10800 00b8 01D1     		bne	.L669
 10801              		.loc 1 4773 84 discriminator 3
 10802 00ba 0423     		movs	r3, #4
 10803 00bc 00E0     		b	.L670
 10804              	.L669:
 10805              		.loc 1 4773 84 is_stmt 0 discriminator 4
 10806 00be 0823     		movs	r3, #8
 10807              	.L670:
 10808              		.loc 1 4773 10 is_stmt 1 discriminator 6
 10809 00c0 87F88F30 		strb	r3, [r7, #143]
 10810              	.L668:
4774:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4775:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 10811              		.loc 1 4775 8
 10812 00c4 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 10813 00c8 042B     		cmp	r3, #4
 10814 00ca 68D1     		bne	.L671
4776:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 10815              		.loc 1 4776 12
 10816 00cc 07F12403 		add	r3, r7, #36
 10817 00d0 1846     		mov	r0, r3
 10818 00d2 FFF7FEFF 		bl	dir_register
 10819 00d6 0346     		mov	r3, r0
 10820 00d8 87F88F30 		strb	r3, [r7, #143]
4777:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 10821              		.loc 1 4777 9
 10822 00dc 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 10823 00e0 002B     		cmp	r3, #0
 10824 00e2 5CD1     		bne	.L671
4778:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
 10825              		.loc 1 4778 11
 10826 00e4 3B6C     		ldr	r3, [r7, #64]
 10827 00e6 C7F88830 		str	r3, [r7, #136]
4779:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 10828              		.loc 1 4779 19
 10829 00ea D7F88830 		ldr	r3, [r7, #136]
 10830 00ee 03F10D00 		add	r0, r3, #13
 10831              		.loc 1 4779 7
 10832 00f2 07F10803 		add	r3, r7, #8
 10833 00f6 0233     		adds	r3, r3, #2
 10834 00f8 1322     		movs	r2, #19
ARM GAS  /tmp/cc5m2BsI.s 			page 275


 10835 00fa 1946     		mov	r1, r3
 10836 00fc FFF7FEFF 		bl	mem_cpy
4780:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 10837              		.loc 1 4780 26
 10838 0100 3A7A     		ldrb	r2, [r7, #8]	@ zero_extendqisi2
 10839              		.loc 1 4780 10
 10840 0102 D7F88830 		ldr	r3, [r7, #136]
 10841 0106 0B33     		adds	r3, r3, #11
 10842              		.loc 1 4780 21
 10843 0108 42F02002 		orr	r2, r2, #32
 10844 010c D2B2     		uxtb	r2, r2
 10845 010e 1A70     		strb	r2, [r3]
4781:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
 10846              		.loc 1 4781 9
 10847 0110 3B6A     		ldr	r3, [r7, #32]
 10848              		.loc 1 4781 17
 10849 0112 0122     		movs	r2, #1
 10850 0114 DA70     		strb	r2, [r3, #3]
4782:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.obj.sclust != djn.obj.sclust) {	/* Update .. entry in the
 10851              		.loc 1 4782 15
 10852 0116 D7F88830 		ldr	r3, [r7, #136]
 10853 011a 0B33     		adds	r3, r3, #11
 10854 011c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 10855              		.loc 1 4782 26
 10856 011e 03F01003 		and	r3, r3, #16
 10857              		.loc 1 4782 10
 10858 0122 002B     		cmp	r3, #0
 10859 0124 3BD0     		beq	.L671
 10860              		.loc 1 4782 46 discriminator 1
 10861 0126 FA6D     		ldr	r2, [r7, #92]
 10862              		.loc 1 4782 64 discriminator 1
 10863 0128 FB6A     		ldr	r3, [r7, #44]
 10864              		.loc 1 4782 36 discriminator 1
 10865 012a 9A42     		cmp	r2, r3
 10866 012c 37D0     		beq	.L671
4783:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(fs, ld_clust(fs, dir));
 10867              		.loc 1 4783 13
 10868 012e 3C6A     		ldr	r4, [r7, #32]
 10869 0130 3B6A     		ldr	r3, [r7, #32]
 10870 0132 D7F88810 		ldr	r1, [r7, #136]
 10871 0136 1846     		mov	r0, r3
 10872 0138 FFF7FEFF 		bl	ld_clust
 10873 013c 0346     		mov	r3, r0
 10874 013e 1946     		mov	r1, r3
 10875 0140 2046     		mov	r0, r4
 10876 0142 FFF7FEFF 		bl	clust2sect
 10877 0146 C7F88400 		str	r0, [r7, #132]
4784:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 10878              		.loc 1 4784 11
 10879 014a D7F88430 		ldr	r3, [r7, #132]
 10880 014e 002B     		cmp	r3, #0
 10881 0150 03D1     		bne	.L672
4785:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 10882              		.loc 1 4785 13
 10883 0152 0223     		movs	r3, #2
 10884 0154 87F88F30 		strb	r3, [r7, #143]
 10885 0158 21E0     		b	.L671
ARM GAS  /tmp/cc5m2BsI.s 			page 276


 10886              	.L672:
4786:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
4787:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where an interruption can cause a cross-link */
4788:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(fs, dw);
 10887              		.loc 1 4788 15
 10888 015a 3B6A     		ldr	r3, [r7, #32]
 10889 015c D7F88410 		ldr	r1, [r7, #132]
 10890 0160 1846     		mov	r0, r3
 10891 0162 FFF7FEFF 		bl	move_window
 10892 0166 0346     		mov	r3, r0
 10893 0168 87F88F30 		strb	r3, [r7, #143]
4789:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = fs->win + SZDIRE * 1;	/* Ptr to .. entry */
 10894              		.loc 1 4789 17
 10895 016c 3B6A     		ldr	r3, [r7, #32]
 10896              		.loc 1 4789 15
 10897 016e 3433     		adds	r3, r3, #52
 10898              		.loc 1 4789 13
 10899 0170 2033     		adds	r3, r3, #32
 10900 0172 C7F88830 		str	r3, [r7, #136]
4790:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 10901              		.loc 1 4790 12
 10902 0176 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 10903 017a 002B     		cmp	r3, #0
 10904 017c 0FD1     		bne	.L671
 10905              		.loc 1 4790 32 discriminator 1
 10906 017e D7F88830 		ldr	r3, [r7, #136]
 10907 0182 0133     		adds	r3, r3, #1
 10908 0184 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 10909              		.loc 1 4790 26 discriminator 1
 10910 0186 2E2B     		cmp	r3, #46
 10911 0188 09D1     		bne	.L671
4791:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(fs, dir, djn.obj.sclust);
 10912              		.loc 1 4791 10
 10913 018a 3B6A     		ldr	r3, [r7, #32]
 10914 018c FA6A     		ldr	r2, [r7, #44]
 10915 018e D7F88810 		ldr	r1, [r7, #136]
 10916 0192 1846     		mov	r0, r3
 10917 0194 FFF7FEFF 		bl	st_clust
4792:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 									fs->wflag = 1;
 10918              		.loc 1 4792 12
 10919 0198 3B6A     		ldr	r3, [r7, #32]
 10920              		.loc 1 4792 20
 10921 019a 0122     		movs	r2, #1
 10922 019c DA70     		strb	r2, [r3, #3]
 10923              	.L671:
4793:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 								}
4794:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							}
4795:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4796:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4797:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4798:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4799:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 10924              		.loc 1 4799 7
 10925 019e 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 10926 01a2 002B     		cmp	r3, #0
 10927 01a4 12D1     		bne	.L666
4800:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&djo);		/* Remove old entry */
ARM GAS  /tmp/cc5m2BsI.s 			page 277


 10928              		.loc 1 4800 11
 10929 01a6 07F15403 		add	r3, r7, #84
 10930 01aa 1846     		mov	r0, r3
 10931 01ac FFF7FEFF 		bl	dir_remove
 10932 01b0 0346     		mov	r3, r0
 10933 01b2 87F88F30 		strb	r3, [r7, #143]
4801:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
 10934              		.loc 1 4801 8
 10935 01b6 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
 10936 01ba 002B     		cmp	r3, #0
 10937 01bc 06D1     		bne	.L666
4802:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_fs(fs);
 10938              		.loc 1 4802 12
 10939 01be 3B6A     		ldr	r3, [r7, #32]
 10940 01c0 1846     		mov	r0, r3
 10941 01c2 FFF7FEFF 		bl	sync_fs
 10942 01c6 0346     		mov	r3, r0
 10943 01c8 87F88F30 		strb	r3, [r7, #143]
 10944              	.L666:
4803:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4804:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4805:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* End of the critical section */
4806:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4807:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4808:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4809:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4810:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 10945              		.loc 1 4810 2
 10946 01cc 97F88F30 		ldrb	r3, [r7, #143]	@ zero_extendqisi2
4811:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 10947              		.loc 1 4811 1
 10948 01d0 1846     		mov	r0, r3
 10949 01d2 9437     		adds	r7, r7, #148
 10950              		.cfi_def_cfa_offset 12
 10951 01d4 BD46     		mov	sp, r7
 10952              		.cfi_def_cfa_register 13
 10953              		@ sp needed
 10954 01d6 90BD     		pop	{r4, r7, pc}
 10955              		.cfi_endproc
 10956              	.LFE373:
 10958              		.section	.rodata
 10959 0013 00       		.align	2
 10960              	.LC2:
 10961 0014 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 10961      53444F53 
 10961      352E3000 
 10962              		.align	2
 10963              	.LC3:
 10964 0020 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 10964      414D4520 
 10964      20202046 
 10964      41543332 
 10964      20202000 
 10965              		.align	2
 10966              	.LC4:
 10967 0034 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 10967      414D4520 
ARM GAS  /tmp/cc5m2BsI.s 			page 278


 10967      20202046 
 10967      41542020 
 10967      20202000 
 10968              		.section	.text.f_mkfs,"ax",%progbits
 10969              		.align	1
 10970              		.global	f_mkfs
 10971              		.syntax unified
 10972              		.thumb
 10973              		.thumb_func
 10974              		.fpu fpv5-d16
 10976              	f_mkfs:
 10977              	.LFB374:
4812:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4813:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4814:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
4815:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
4816:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
4817:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4818:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4819:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4820:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_CHMOD && !_FS_READONLY
4821:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4822:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
4823:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4824:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4825:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
4826:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
4827:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
4828:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
4829:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4830:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
4831:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4832:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4833:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4834:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4835:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4836:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4837:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4838:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4839:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4840:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4841:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4842:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4843:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4844:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
4845:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4846:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4847:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->dirbuf[XDIR_Attr] = (attr & mask) | (fs->dirbuf[XDIR_Attr] & (BYTE)~mask);	/* Apply attribu
4848:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4849:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4850:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4851:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4852:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[DIR_Attr] = (attr & mask) | (dj.dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change 
4853:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4854:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4855:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4856:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
ARM GAS  /tmp/cc5m2BsI.s 			page 279


4857:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4858:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4859:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4860:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4861:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4862:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4863:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
4864:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4865:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4866:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4867:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4868:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4869:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
4870:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4871:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4872:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
4873:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
4874:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
4875:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4876:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
4877:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4878:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4879:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4880:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DEF_NAMBUF
4881:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4882:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4883:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, FA_WRITE);	/* Get logical drive */
4884:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
4885:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4886:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_NAMBUF(fs);
4887:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
4888:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK && (dj.fn[NSFLAG] & (NS_DOT | NS_NONAME))) res = FR_INVALID_NAME;	/* Check objec
4889:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4890:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4891:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->fs_type == FS_EXFAT) {
4892:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(fs->dirbuf + XDIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4893:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = store_xdir(&dj);
4894:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else
4895:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4896:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			{
4897:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(dj.dir + DIR_ModTime, (DWORD)fno->fdate << 16 | fno->ftime);
4898:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->wflag = 1;
4899:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4900:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
4901:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fs);
4902:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4903:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4904:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_NAMBUF();
4905:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4906:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4907:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
4908:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
4909:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4910:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_CHMOD && !_FS_READONLY */
4911:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4912:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4913:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 280


4914:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
4915:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4916:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Volume Label                                                      */
4917:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4918:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4919:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
4920:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
4921:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
4922:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
4923:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
4924:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
4925:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4926:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
4927:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4928:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT si, di;
4929:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE || _FS_EXFAT
4930:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
4931:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4932:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4933:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
4934:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&path, &fs, 0);
4935:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4936:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
4937:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
4938:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.obj.fs = fs; dj.obj.sclust = 0;	/* Open root directory */
4939:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
4940:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4941:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		 	res = dir_read(&dj, 1);			/* Find a volume label entry */
4942:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		 	if (res == FR_OK) {
4943:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
4944:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fs->fs_type == FS_EXFAT) {
4945:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					for (si = di = 0; si < dj.dir[XDIR_NumLabel]; si++) {	/* Extract volume label from 83 entry */
4946:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ld_word(dj.dir + XDIR_Label + si * 2);
4947:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4948:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = w;
4949:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
4950:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						w = ff_convert(w, 0);	/* Unicode -> OEM */
4951:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (w == 0) w = '?';	/* Replace wrong character */
4952:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_DF1S && w >= 0x100) label[di++] = (char)(w >> 8);
4953:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = (char)w;
4954:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4955:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4956:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					label[di] = 0;
4957:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else
4958:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4959:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				{
4960:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					si = di = 0;		/* Extract volume label from AM_VOL entry with code comversion */
4961:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
4962:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
4963:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						w = (si < 11) ? dj.dir[si++] : ' ';
4964:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsDBCS1(w) && si < 11 && IsDBCS2(dj.dir[si])) {
4965:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							w = w << 8 | dj.dir[si++];
4966:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
4967:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = ff_convert(w, 1);	/* OEM -> Unicode */
4968:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
4969:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di++] = dj.dir[si++];
4970:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc5m2BsI.s 			page 281


4971:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (di < 11);
4972:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					do {				/* Truncate trailing spaces */
4973:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						label[di] = 0;
4974:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (di == 0) break;
4975:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (label[--di] == ' ');
4976:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4977:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4978:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4979:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {	/* No label entry and return nul string */
4980:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			label[0] = 0;
4981:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
4982:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4983:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4984:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4985:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
4986:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
4987:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(fs, fs->volbase);
4988:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
4989:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (fs->fs_type) {
4990:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_EXFAT:
4991:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BPB_VolIDEx; break;
4992:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4993:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			case FS_FAT32:
4994:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID32; break;
4995:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
4996:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
4997:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				di = BS_VolID;
4998:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4999:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = ld_dword(fs->win + di);
5000:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5001:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5002:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5003:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5004:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
5005:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5006:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5007:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5008:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5009:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5010:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Set Volume Label                                                      */
5011:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5012:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5013:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
5014:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
5015:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
5016:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
5017:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5018:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
5019:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5020:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE dirvn[22];
5021:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, slen;
5022:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
5023:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char badchr[] = "\"*+,.:;<=>\?[]|\x7F";
5024:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5025:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5026:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive */
5027:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&label, &fs, FA_WRITE);
ARM GAS  /tmp/cc5m2BsI.s 			page 282


5028:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fs, res);
5029:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.fs = fs;
5030:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5031:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get length of given volume label */
5032:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (slen = 0; (UINT)label[slen] >= ' '; slen++) ;	/* Get name length */
5033:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5034:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5035:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {	/* On the exFAT volume */
5036:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = j = 0; i < slen; ) {	/* Create volume label in directory form */
5037:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			w = label[i++];
5038:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
5039:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w)) {
5040:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5041:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5042:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 1);
5043:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5044:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w == 0 || chk_chr(badchr, w) || j == 22) {	/* Check validity check validity of the volume la
5045:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(fs, FR_INVALID_NAME);
5046:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5047:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(dirvn + j, w); j += 2;
5048:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5049:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		slen = j;
5050:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5051:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5052:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* On the FAT12/16/32 volume */
5053:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for ( ; slen && label[slen - 1] == ' '; slen--) ;	/* Remove trailing spaces */
5054:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (slen) {		/* Is there a volume label to be set? */
5055:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			dirvn[0] = 0; i = j = 0;	/* Create volume label in directory form */
5056:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			do {
5057:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5058:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(label[i++]), 0);
5059:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
5060:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (BYTE)label[i++];
5061:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsDBCS1(w)) {
5062:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (j < 10 && i < slen && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
5063:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5064:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN != 0
5065:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
5066:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
5067:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
5068:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
5069:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
5070:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
5071:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
5072:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5073:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5074:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5075:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w == 0 || chk_chr(badchr, w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) {	/* Reject invalid ch
5076:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fs, FR_INVALID_NAME);
5077:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5078:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (w >= 0x100) dirvn[j++] = (BYTE)(w >> 8);
5079:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dirvn[j++] = (BYTE)w;
5080:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (i < slen);
5081:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j < 11) dirvn[j++] = ' ';	/* Fill remaining name field */
5082:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dirvn[0] == DDEM) LEAVE_FF(fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
5083:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5084:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cc5m2BsI.s 			page 283


5085:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5086:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
5087:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.obj.sclust = 0;		/* Open root directory */
5088:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
5089:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5090:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);	/* Get volume label entry */
5091:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
5092:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5093:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);	/* Change the volume label */
5094:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5095:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5096:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {
5097:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(dj.dir, dirvn, 11);	/* Change the volume label */
5098:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5099:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.dir[DIR_Name] = DDEM;	/* Remove the volume label */
5100:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5101:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5102:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
5103:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(fs);
5104:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* No volume label entry is found or error */
5105:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
5106:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
5107:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (slen) {	/* Create a volume label entry */
5108:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry */
5109:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
5110:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZDIRE);	/* Clear the entry */
5111:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						if (_FS_EXFAT && fs->fs_type == FS_EXFAT) {
5112:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_Type] = 0x83;		/* Create 83 entry */
5113:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[XDIR_NumLabel] = (BYTE)(slen / 2);
5114:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir + XDIR_Label, dirvn, slen);
5115:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						} else {
5116:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							dj.dir[DIR_Attr] = AM_VOL;		/* Create volume label entry */
5117:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 							mem_cpy(dj.dir, dirvn, 11);
5118:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						}
5119:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fs->wflag = 1;
5120:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(fs);
5121:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5122:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5123:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5124:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5125:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5126:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5127:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5128:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
5129:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5130:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
5131:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
5132:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5133:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5134:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5135:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_EXPAND && !_FS_READONLY
5136:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5137:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Allocate a Contiguous Blocks to the File                              */
5138:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5139:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5140:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_expand (
5141:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
ARM GAS  /tmp/cc5m2BsI.s 			page 284


5142:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t fsz,	/* File size to be expanded to */
5143:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt		/* Operation mode 0:Find and prepare or 1:Find and allocate */
5144:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
5145:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
5146:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5147:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5148:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, stcl, scl, ncl, tcl, lclst;
5149:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5150:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5151:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5152:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5153:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fsz == 0 || fp->obj.objsize != 0 || !(fp->flag & FA_WRITE)) LEAVE_FF(fs, FR_DENIED);
5154:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5155:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type != FS_EXFAT && fsz >= 0x100000000) LEAVE_FF(fs, FR_DENIED);	/* Check if in size li
5156:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5157:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (DWORD)fs->csize * SS(fs);	/* Cluster size */
5158:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	tcl = (DWORD)(fsz / n) + ((fsz & (n - 1)) ? 1 : 0);	/* Number of clusters required */
5159:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	stcl = fs->last_clst; lclst = 0;
5160:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stcl < 2 || stcl >= fs->n_fatent) stcl = 2;
5161:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5162:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5163:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_EXFAT) {
5164:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = find_bitmap(fs, stcl, tcl);			/* Find a contiguous cluster block */
5165:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0) res = FR_DENIED;				/* No contiguous cluster block was found */
5166:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (scl == 0xFFFFFFFF) res = FR_DISK_ERR;
5167:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5168:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5169:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				res = change_bitmap(fs, scl, tcl, 1);	/* Mark the cluster block 'in use' */
5170:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl + tcl - 1;
5171:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
5172:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5173:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5174:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5175:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5176:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5177:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	{
5178:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst = stcl; ncl = 0;
5179:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {	/* Find a contiguous cluster block */
5180:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			n = get_fat(&fp->obj, clst);
5181:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (++clst >= fs->n_fatent) clst = 2;
5182:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 1) { res = FR_INT_ERR; break; }
5183:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
5184:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (n == 0) {	/* Is it a free cluster? */
5185:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++ncl == tcl) break;	/* Break if a contiguous cluster block is found */
5186:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5187:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = clst; ncl = 0;		/* Not a free cluster */
5188:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5189:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == stcl) { res = FR_DENIED; break; }	/* No contiguous cluster? */
5190:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5191:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {	/* A contiguous free area is found */
5192:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (opt) {		/* Allocate it now */
5193:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				for (clst = scl, n = tcl; n; clst++, n--) {	/* Create a cluster chain on the FAT */
5194:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fs, clst, (n == 1) ? 0xFFFFFFFF : clst + 1);
5195:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
5196:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					lclst = clst;
5197:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5198:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {		/* Set it as suggested point for next allocation */
ARM GAS  /tmp/cc5m2BsI.s 			page 285


5199:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				lclst = scl - 1;
5200:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5201:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5202:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5203:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5204:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
5205:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clst = lclst;		/* Set suggested start cluster to start next */
5206:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt) {	/* Is it allocated now? */
5207:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.sclust = scl;		/* Update object allocation information */
5208:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->obj.objsize = fsz;
5209:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (_FS_EXFAT) fp->obj.stat = 2;	/* Set status 'contiguous chain' */
5210:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA_MODIFIED;
5211:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clst <= fs->n_fatent - 2) {	/* Update FSINFO */
5212:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clst -= tcl;
5213:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
5214:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5215:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5216:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5217:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5218:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
5219:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
5220:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5221:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_EXPAND && !_FS_READONLY */
5222:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5223:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5224:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5225:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD
5226:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5227:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly                                   */
5228:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5229:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5230:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
5231:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
5232:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
5233:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
5234:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
5235:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
5236:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
5237:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
5238:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
5239:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
5240:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FSIZE_t remain;
5241:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, csect;
5242:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dbuf;
5243:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5244:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5245:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
5246:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(&fp->obj, &fs);		/* Check validity of the file object */
5247:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK || (res = (FRESULT)fp->err) != FR_OK) LEAVE_FF(fs, res);
5248:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) LEAVE_FF(fs, FR_DENIED);	/* Check access mode */
5249:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5250:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->obj.objsize - fp->fptr;
5251:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
5252:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5253:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream goes busy */
5254:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
5255:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (UINT)(fp->fptr / SS(fs) & (fs->csize - 1));	/* Sector offset in the cluster */
ARM GAS  /tmp/cc5m2BsI.s 			page 286


5256:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fs) == 0) {				/* On the sector boundary? */
5257:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (csect == 0) {						/* On the cluster boundary? */
5258:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
5259:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->obj.sclust : get_fat(&fp->obj, fp->clust);
5260:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fs, FR_INT_ERR);
5261:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fs, FR_DISK_ERR);
5262:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
5263:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5264:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5265:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fs, fp->clust);			/* Get current data sector */
5266:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fs, FR_INT_ERR);
5267:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
5268:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
5269:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fs, sect) != FR_OK) ABORT(fs, FR_DISK_ERR);	/* Move sector window to the file dat
5270:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fs->win;
5271:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
5272:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->sect != sect) {		/* Fill sector cache with file data */
5273:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5274:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA_DIRTY) {		/* Write-back dirty sector cache */
5275:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fs->drv, fp->buf, fp->sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5276:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= (BYTE)~FA_DIRTY;
5277:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5278:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5279:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fp->buf, sect, 1) != RES_OK) ABORT(fs, FR_DISK_ERR);
5280:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5281:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		dbuf = fp->buf;
5282:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5283:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->sect = sect;
5284:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fs) - (UINT)fp->fptr % SS(fs);	/* Number of bytes left in the sector */
5285:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;					/* Clip it by btr if needed */
5286:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(dbuf + ((UINT)fp->fptr % SS(fs)), rcnt);	/* Forward the file data */
5287:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fs, FR_INT_ERR);
5288:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5289:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5290:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, FR_OK);
5291:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
5292:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
5293:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5294:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5295:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5296:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
5297:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5298:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Create an FAT/exFAT volume                                            */
5299:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5300:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5301:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
5302:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
5303:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt,			/* Format option */
5304:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD au,			/* Size of allocation unit (cluster) [byte] */
5305:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work,			/* Pointer to working buffer */
5306:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len			/* Size of working buffer */
5307:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
5308:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 10978              		.loc 1 5308 1
 10979              		.cfi_startproc
 10980              		@ args = 4, pretend = 0, frame = 112
 10981              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/cc5m2BsI.s 			page 287


 10982 0000 90B5     		push	{r4, r7, lr}
 10983              		.cfi_def_cfa_offset 12
 10984              		.cfi_offset 4, -12
 10985              		.cfi_offset 7, -8
 10986              		.cfi_offset 14, -4
 10987 0002 9DB0     		sub	sp, sp, #116
 10988              		.cfi_def_cfa_offset 128
 10989 0004 00AF     		add	r7, sp, #0
 10990              		.cfi_def_cfa_register 7
 10991 0006 F860     		str	r0, [r7, #12]
 10992 0008 7A60     		str	r2, [r7, #4]
 10993 000a 3B60     		str	r3, [r7]
 10994 000c 0B46     		mov	r3, r1
 10995 000e FB72     		strb	r3, [r7, #11]
5309:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_fats = 1;		/* Number of FATs for FAT12/16/32 volume (1 or 2) */
 10996              		.loc 1 5309 13
 10997 0010 0123     		movs	r3, #1
 10998 0012 7B64     		str	r3, [r7, #68]
5310:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const UINT n_rootdir = 512;	/* Number of root directory entries for FAT12/16 volume */
 10999              		.loc 1 5310 13
 11000 0014 4FF40073 		mov	r3, #512
 11001 0018 3B64     		str	r3, [r7, #64]
5311:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {1, 4, 16, 64, 256, 512, 0};	/* Cluster size boundary for FAT12/16 volum
5312:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst32[] = {1, 2, 4, 8, 16, 32, 0};	/* Cluster size boundary for FAT32 volume (12
5313:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, sys, *buf, *pte, pdrv, part;
5314:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ss;
5315:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD szb_buf, sz_buf, sz_blk, n_clst, pau, sect, nsect, n;
5316:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_data;				/* Base LBA for volume, fat, data */
5317:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_vol, sz_rsv, sz_fat, sz_dir;	/* Size for volume, fat, dir, data */
5318:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
5319:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
5320:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5321:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM || _FS_EXFAT
5322:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tbl[3];
5323:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5324:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5325:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5326:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
5327:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);					/* Get target logical drive */
 11002              		.loc 1 5327 8
 11003 001a 07F10C03 		add	r3, r7, #12
 11004 001e 1846     		mov	r0, r3
 11005 0020 FFF7FEFF 		bl	get_ldnumber
 11006 0024 F863     		str	r0, [r7, #60]
5328:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 11007              		.loc 1 5328 5
 11008 0026 FB6B     		ldr	r3, [r7, #60]
 11009 0028 002B     		cmp	r3, #0
 11010 002a 02DA     		bge	.L675
 11011              		.loc 1 5328 22 discriminator 1
 11012 002c 0B23     		movs	r3, #11
 11013 002e 00F00DBC 		b	.L749
 11014              	.L675:
5329:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (FatFs[vol]) FatFs[vol]->fs_type = 0;	/* Clear the volume */
 11015              		.loc 1 5329 11
 11016 0032 944A     		ldr	r2, .L754
 11017 0034 FB6B     		ldr	r3, [r7, #60]
ARM GAS  /tmp/cc5m2BsI.s 			page 288


 11018 0036 52F82330 		ldr	r3, [r2, r3, lsl #2]
 11019              		.loc 1 5329 5
 11020 003a 002B     		cmp	r3, #0
 11021 003c 05D0     		beq	.L677
 11022              		.loc 1 5329 23 discriminator 1
 11023 003e 914A     		ldr	r2, .L754
 11024 0040 FB6B     		ldr	r3, [r7, #60]
 11025 0042 52F82330 		ldr	r3, [r2, r3, lsl #2]
 11026              		.loc 1 5329 38 discriminator 1
 11027 0046 0022     		movs	r2, #0
 11028 0048 1A70     		strb	r2, [r3]
 11029              	.L677:
5330:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 11030              		.loc 1 5330 7
 11031 004a FB6B     		ldr	r3, [r7, #60]
 11032 004c 87F83B30 		strb	r3, [r7, #59]
5331:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:create as new, 1-4:get from partition table) */
 11033              		.loc 1 5331 7
 11034 0050 0023     		movs	r3, #0
 11035 0052 87F83A30 		strb	r3, [r7, #58]
5332:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5333:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check physical drive status */
5334:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
 11036              		.loc 1 5334 9
 11037 0056 97F83B30 		ldrb	r3, [r7, #59]	@ zero_extendqisi2
 11038 005a 1846     		mov	r0, r3
 11039 005c FFF7FEFF 		bl	disk_initialize
 11040 0060 0346     		mov	r3, r0
 11041 0062 87F83930 		strb	r3, [r7, #57]
5335:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 11042              		.loc 1 5335 11
 11043 0066 97F83930 		ldrb	r3, [r7, #57]	@ zero_extendqisi2
 11044 006a 03F00103 		and	r3, r3, #1
 11045              		.loc 1 5335 5
 11046 006e 002B     		cmp	r3, #0
 11047 0070 01D0     		beq	.L678
 11048              		.loc 1 5335 32 discriminator 1
 11049 0072 0323     		movs	r3, #3
 11050 0074 EAE3     		b	.L749
 11051              	.L678:
5336:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 11052              		.loc 1 5336 11
 11053 0076 97F83930 		ldrb	r3, [r7, #57]	@ zero_extendqisi2
 11054 007a 03F00403 		and	r3, r3, #4
 11055              		.loc 1 5336 5
 11056 007e 002B     		cmp	r3, #0
 11057 0080 01D0     		beq	.L679
 11058              		.loc 1 5336 33 discriminator 1
 11059 0082 0A23     		movs	r3, #10
 11060 0084 E2E3     		b	.L749
 11061              	.L679:
5337:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &sz_blk) != RES_OK || !sz_blk || sz_blk > 32768 || (sz_blk & 
 11062              		.loc 1 5337 6
 11063 0086 07F11402 		add	r2, r7, #20
 11064 008a 97F83B30 		ldrb	r3, [r7, #59]	@ zero_extendqisi2
 11065 008e 0321     		movs	r1, #3
 11066 0090 1846     		mov	r0, r3
ARM GAS  /tmp/cc5m2BsI.s 			page 289


 11067 0092 FFF7FEFF 		bl	disk_ioctl
 11068 0096 0346     		mov	r3, r0
 11069              		.loc 1 5337 5
 11070 0098 002B     		cmp	r3, #0
 11071 009a 0CD1     		bne	.L680
 11072              		.loc 1 5337 61 discriminator 2
 11073 009c 7B69     		ldr	r3, [r7, #20]
 11074              		.loc 1 5337 58 discriminator 2
 11075 009e 002B     		cmp	r3, #0
 11076 00a0 09D0     		beq	.L680
 11077              		.loc 1 5337 79 discriminator 4
 11078 00a2 7B69     		ldr	r3, [r7, #20]
 11079              		.loc 1 5337 69 discriminator 4
 11080 00a4 B3F5004F 		cmp	r3, #32768
 11081 00a8 05D8     		bhi	.L680
 11082              		.loc 1 5337 108 discriminator 6
 11083 00aa 7B69     		ldr	r3, [r7, #20]
 11084 00ac 5A1E     		subs	r2, r3, #1
 11085              		.loc 1 5337 98 discriminator 6
 11086 00ae 7B69     		ldr	r3, [r7, #20]
 11087 00b0 1340     		ands	r3, r3, r2
 11088              		.loc 1 5337 87 discriminator 6
 11089 00b2 002B     		cmp	r3, #0
 11090 00b4 01D0     		beq	.L681
 11091              	.L680:
 11092              		.loc 1 5337 122 discriminator 7
 11093 00b6 0123     		movs	r3, #1
 11094 00b8 7B61     		str	r3, [r7, #20]
 11095              	.L681:
5338:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get sector size of the medium if variable sector size cfg. */
5339:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &ss) != RES_OK) return FR_DISK_ERR;
5340:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ss > _MAX_SS || ss < _MIN_SS || (ss & (ss - 1))) return FR_DISK_ERR;
5341:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else
5342:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	ss = _MAX_SS;
 11096              		.loc 1 5342 5
 11097 00ba 4FF40073 		mov	r3, #512
 11098 00be FB86     		strh	r3, [r7, #54]	@ movhi
5343:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5344:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((au != 0 && au < ss) || au > 0x1000000 || (au & (au - 1))) return FR_INVALID_PARAMETER;	/* Che
 11099              		.loc 1 5344 5
 11100 00c0 7B68     		ldr	r3, [r7, #4]
 11101 00c2 002B     		cmp	r3, #0
 11102 00c4 03D0     		beq	.L682
 11103              		.loc 1 5344 21 discriminator 1
 11104 00c6 FB8E     		ldrh	r3, [r7, #54]
 11105              		.loc 1 5344 15 discriminator 1
 11106 00c8 7A68     		ldr	r2, [r7, #4]
 11107 00ca 9A42     		cmp	r2, r3
 11108 00cc 09D3     		bcc	.L683
 11109              	.L682:
 11110              		.loc 1 5344 27 discriminator 4
 11111 00ce 7B68     		ldr	r3, [r7, #4]
 11112 00d0 B3F1807F 		cmp	r3, #16777216
 11113 00d4 05D8     		bhi	.L683
 11114              		.loc 1 5344 58 discriminator 6
 11115 00d6 7B68     		ldr	r3, [r7, #4]
 11116 00d8 5A1E     		subs	r2, r3, #1
ARM GAS  /tmp/cc5m2BsI.s 			page 290


 11117              		.loc 1 5344 52 discriminator 6
 11118 00da 7B68     		ldr	r3, [r7, #4]
 11119 00dc 1340     		ands	r3, r3, r2
 11120              		.loc 1 5344 45 discriminator 6
 11121 00de 002B     		cmp	r3, #0
 11122 00e0 01D0     		beq	.L684
 11123              	.L683:
 11124              		.loc 1 5344 72 discriminator 7
 11125 00e2 1323     		movs	r3, #19
 11126 00e4 B2E3     		b	.L749
 11127              	.L684:
5345:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	au /= ss;	/* Cluster size in unit of sector */
 11128              		.loc 1 5345 5
 11129 00e6 FB8E     		ldrh	r3, [r7, #54]
 11130 00e8 7A68     		ldr	r2, [r7, #4]
 11131 00ea B2FBF3F3 		udiv	r3, r2, r3
 11132 00ee 7B60     		str	r3, [r7, #4]
5346:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5347:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get working buffer */
5348:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	buf = (BYTE*)work;		/* Working buffer */
 11133              		.loc 1 5348 6
 11134 00f0 3B68     		ldr	r3, [r7]
 11135 00f2 3B63     		str	r3, [r7, #48]
5349:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_buf = len / ss;		/* Size of working buffer (sector) */
 11136              		.loc 1 5349 15
 11137 00f4 FB8E     		ldrh	r3, [r7, #54]
 11138              		.loc 1 5349 9
 11139 00f6 D7F88020 		ldr	r2, [r7, #128]
 11140 00fa B2FBF3F3 		udiv	r3, r2, r3
 11141 00fe FB62     		str	r3, [r7, #44]
5350:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	szb_buf = sz_buf * ss;	/* Size of working buffer (byte) */
 11142              		.loc 1 5350 19
 11143 0100 FA8E     		ldrh	r2, [r7, #54]
 11144              		.loc 1 5350 10
 11145 0102 FB6A     		ldr	r3, [r7, #44]
 11146 0104 02FB03F3 		mul	r3, r2, r3
 11147 0108 BB62     		str	r3, [r7, #40]
5351:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!szb_buf) return FR_MKFS_ABORTED;
 11148              		.loc 1 5351 5
 11149 010a BB6A     		ldr	r3, [r7, #40]
 11150 010c 002B     		cmp	r3, #0
 11151 010e 01D1     		bne	.L685
 11152              		.loc 1 5351 23 discriminator 1
 11153 0110 0E23     		movs	r3, #14
 11154 0112 9BE3     		b	.L749
 11155              	.L685:
5352:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5353:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine where the volume to be located (b_vol, sz_vol) */
5354:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {
5355:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
5356:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Load MBR */
5357:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ld_word(buf + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;	/* Check if MBR is valid */
5358:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		pte = buf + (MBR_Table + (part - 1) * SZ_PTE);
5359:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!pte[PTE_System]) return FR_MKFS_ABORTED;	/* No partition? */
5360:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = ld_dword(pte + PTE_StLba);		/* Get volume start sector */
5361:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol = ld_dword(pte + PTE_SizLba);	/* Get volume size */
5362:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
ARM GAS  /tmp/cc5m2BsI.s 			page 291


5363:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a single-partition in this function */
5364:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_vol) != RES_OK) return FR_DISK_ERR;
 11156              		.loc 1 5364 7
 11157 0114 07F11002 		add	r2, r7, #16
 11158 0118 97F83B30 		ldrb	r3, [r7, #59]	@ zero_extendqisi2
 11159 011c 0121     		movs	r1, #1
 11160 011e 1846     		mov	r0, r3
 11161 0120 FFF7FEFF 		bl	disk_ioctl
 11162 0124 0346     		mov	r3, r0
 11163              		.loc 1 5364 6
 11164 0126 002B     		cmp	r3, #0
 11165 0128 01D0     		beq	.L686
 11166              		.loc 1 5364 69 discriminator 1
 11167 012a 0123     		movs	r3, #1
 11168 012c 8EE3     		b	.L749
 11169              	.L686:
5365:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (opt & FM_SFD) ? 0 : 63;		/* Volume start sector */
 11170              		.loc 1 5365 16
 11171 012e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 11172 0130 03F00803 		and	r3, r3, #8
 11173              		.loc 1 5365 30
 11174 0134 002B     		cmp	r3, #0
 11175 0136 01D0     		beq	.L687
 11176              		.loc 1 5365 30 is_stmt 0 discriminator 1
 11177 0138 0023     		movs	r3, #0
 11178 013a 00E0     		b	.L688
 11179              	.L687:
 11180              		.loc 1 5365 30 discriminator 2
 11181 013c 3F23     		movs	r3, #63
 11182              	.L688:
 11183              		.loc 1 5365 9 is_stmt 1 discriminator 4
 11184 013e 7B62     		str	r3, [r7, #36]
5366:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < b_vol) return FR_MKFS_ABORTED;
 11185              		.loc 1 5366 14 discriminator 4
 11186 0140 3B69     		ldr	r3, [r7, #16]
 11187              		.loc 1 5366 6 discriminator 4
 11188 0142 7A6A     		ldr	r2, [r7, #36]
 11189 0144 9A42     		cmp	r2, r3
 11190 0146 01D9     		bls	.L689
 11191              		.loc 1 5366 30 discriminator 1
 11192 0148 0E23     		movs	r3, #14
 11193 014a 7FE3     		b	.L749
 11194              	.L689:
5367:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_vol -= b_vol;						/* Volume size */
 11195              		.loc 1 5367 10
 11196 014c 3A69     		ldr	r2, [r7, #16]
 11197 014e 7B6A     		ldr	r3, [r7, #36]
 11198 0150 D31A     		subs	r3, r2, r3
 11199 0152 3B61     		str	r3, [r7, #16]
5368:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5369:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sz_vol < 128) return FR_MKFS_ABORTED;	/* Check if volume size is >=128s */
 11200              		.loc 1 5369 13
 11201 0154 3B69     		ldr	r3, [r7, #16]
 11202              		.loc 1 5369 5
 11203 0156 7F2B     		cmp	r3, #127
 11204 0158 01D8     		bhi	.L690
 11205              		.loc 1 5369 27 discriminator 1
ARM GAS  /tmp/cc5m2BsI.s 			page 292


 11206 015a 0E23     		movs	r3, #14
 11207 015c 76E3     		b	.L749
 11208              	.L690:
5370:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5371:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-determine the FAT type */
5372:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
5373:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_EXFAT && (opt & FM_EXFAT)) {	/* exFAT possible? */
5374:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_EXFAT || sz_vol >= 0x4000000 || au > 128) {	/* exFAT only, vol >= 64Ms 
5375:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_EXFAT; break;
5376:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5377:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5378:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (au > 128) return FR_INVALID_PARAMETER;	/* Too large au for FAT/FAT32 */
 11209              		.loc 1 5378 6
 11210 015e 7B68     		ldr	r3, [r7, #4]
 11211 0160 802B     		cmp	r3, #128
 11212 0162 01D9     		bls	.L691
 11213              		.loc 1 5378 24 discriminator 1
 11214 0164 1323     		movs	r3, #19
 11215 0166 71E3     		b	.L749
 11216              	.L691:
5379:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (opt & FM_FAT32) {	/* FAT32 possible? */
 11217              		.loc 1 5379 11
 11218 0168 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 11219 016a 03F00203 		and	r3, r3, #2
 11220              		.loc 1 5379 6
 11221 016e 002B     		cmp	r3, #0
 11222 0170 0DD0     		beq	.L692
5380:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if ((opt & FM_ANY) == FM_FAT32 || !(opt & FM_FAT)) {	/* FAT32 only or no-FAT? */
 11223              		.loc 1 5380 13
 11224 0172 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 11225 0174 03F00703 		and	r3, r3, #7
 11226              		.loc 1 5380 7
 11227 0178 022B     		cmp	r3, #2
 11228 017a 04D0     		beq	.L693
 11229              		.loc 1 5380 44 discriminator 1
 11230 017c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 11231 017e 03F00103 		and	r3, r3, #1
 11232              		.loc 1 5380 35 discriminator 1
 11233 0182 002B     		cmp	r3, #0
 11234 0184 03D1     		bne	.L692
 11235              	.L693:
5381:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				fmt = FS_FAT32; break;
 11236              		.loc 1 5381 9
 11237 0186 0323     		movs	r3, #3
 11238 0188 87F84F30 		strb	r3, [r7, #79]
 11239              		.loc 1 5381 5
 11240 018c 09E0     		b	.L721
 11241              	.L692:
5382:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5383:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5384:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_FAT)) return FR_INVALID_PARAMETER;	/* no-FAT? */
 11242              		.loc 1 5384 13
 11243 018e FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 11244 0190 03F00103 		and	r3, r3, #1
 11245              		.loc 1 5384 6
 11246 0194 002B     		cmp	r3, #0
 11247 0196 01D1     		bne	.L695
ARM GAS  /tmp/cc5m2BsI.s 			page 293


 11248              		.loc 1 5384 31 discriminator 1
 11249 0198 1323     		movs	r3, #19
 11250 019a 57E3     		b	.L749
 11251              	.L695:
5385:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		fmt = FS_FAT16;
 11252              		.loc 1 5385 7
 11253 019c 0223     		movs	r3, #2
 11254 019e 87F84F30 		strb	r3, [r7, #79]
 11255              	.L721:
5386:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (0);
5387:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5388:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_EXFAT
5389:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_EXFAT) {	/* Create an exFAT volume */
5390:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		DWORD szb_bit, szb_case, sum, nb, cl;
5391:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		WCHAR ch, si;
5392:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		UINT j, st;
5393:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		BYTE b;
5394:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5395:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x1000) return FR_MKFS_ABORTED;	/* Too small volume? */
5396:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5397:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area may be erased *
5398:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5399:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5400:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Determine FAT location, data location and number of clusters */
5401:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!au) {	/* au auto-selection */
5402:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			au = 8;
5403:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x80000) au = 64;		/* >= 512Ks */
5404:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x4000000) au = 256;	/* >= 64Ms */
5405:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5406:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat = b_vol + 32;										/* FAT start at offset 32 */
5407:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_fat = ((sz_vol / au + 2) * 4 + ss - 1) / ss;			/* Number of FAT sectors */
5408:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		b_data = (b_fat + sz_fat + sz_blk - 1) & ~(sz_blk - 1);	/* Align data area to the erase block bou
5409:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (b_data >= sz_vol / 2) return FR_MKFS_ABORTED;		/* Too small volume? */
5410:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		n_clst = (sz_vol - (b_data - b_vol)) / au;				/* Number of clusters */
5411:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst <16) return FR_MKFS_ABORTED;					/* Too few clusters? */
5412:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n_clst > MAX_EXFAT) return FR_MKFS_ABORTED;			/* Too many clusters? */
5413:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5414:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		szb_bit = (n_clst + 7) / 8;						/* Size of allocation bitmap */
5415:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = (szb_bit + au * ss - 1) / (au * ss);	/* Number of allocation bitmap clusters */
5416:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5417:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a compressed up-case table */
5418:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * tbl[0];	/* Table start sector */
5419:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sum = 0;						/* Table checksum to be stored in the 82 entry */
5420:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st = si = i = j = szb_case = 0;
5421:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5422:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			switch (st) {
5423:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			case 0:
5424:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = ff_wtoupper(si);	/* Get an up-case char */
5425:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ch != si) {
5426:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					si++; break;		/* Store the up-case char if exist */
5427:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5428:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				for (j = 1; (WCHAR)(si + j) && (WCHAR)(si + j) == ff_wtoupper((WCHAR)(si + j)); j++) ;	/* Get r
5429:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (j >= 128) {
5430:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					ch = 0xFFFF; st = 2; break;	/* Compress the no-case block if run is >= 128 */
5431:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5432:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 1;			/* Do not compress short run */
5433:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				/* go to next case */
ARM GAS  /tmp/cc5m2BsI.s 			page 294


5434:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			case 1:
5435:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = si++;		/* Fill the short run */
5436:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (--j == 0) st = 0;
5437:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
5438:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5439:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			default:
5440:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				ch = (WCHAR)j; si += j;	/* Number of chars to skip */
5441:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				st = 0;
5442:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5443:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 0] = (BYTE)ch, sum);		/* Put it into the write buffer */
5444:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = xsum32(buf[i + 1] = (BYTE)(ch >> 8), sum);
5445:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			i += 2; szb_case += 2;
5446:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!si || i == szb_buf) {		/* Write buffered data when buffer full or end of process */
5447:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (i + ss - 1) / ss;
5448:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5449:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; i = 0;
5450:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5451:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (si);
5452:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[1] = (szb_case + au * ss - 1) / (au * ss);	/* Number of up-case table clusters */
5453:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[2] = 1;										/* Number of root dir clusters */
5454:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5455:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the allocation bitmap */
5456:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data; nsect = (szb_bit + ss - 1) / ss;	/* Start of bitmap and number of sectors */
5457:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		nb = tbl[0] + tbl[1] + tbl[2];					/* Number of clusters in-use by system */
5458:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5459:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf);
5460:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; nb >= 8 && i < szb_buf; buf[i++] = 0xFF, nb -= 8) ;
5461:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			for (b = 1; nb && i < szb_buf; buf[i] |= b, b <<= 1, nb--) ;
5462:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;		/* Write the buffered data */
5463:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5464:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5465:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5466:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5467:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the FAT */
5468:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat; nsect = sz_fat;	/* Start of FAT and number of FAT sectors */
5469:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		j = nb = cl = 0;
5470:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5471:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, szb_buf); i = 0;	/* Clear work area and reset write index */
5472:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl == 0) {	/* Set entry 0 and 1 */
5473:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFF8); i += 4; cl++;
5474:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + i, 0xFFFFFFFF); i += 4; cl++;
5475:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5476:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			do {			/* Create chains of bitmap, up-case and root dir */
5477:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				while (nb && i < szb_buf) {			/* Create a chain */
5478:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					st_dword(buf + i, (nb > 1) ? cl + 1 : 0xFFFFFFFF);
5479:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					i += 4; cl++; nb--;
5480:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5481:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!nb && j < 3) nb = tbl[j++];	/* Next chain */
5482:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nb && i < szb_buf);
5483:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;	/* Write the buffered data */
5484:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5485:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5486:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5487:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5488:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize the root directory */
5489:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, szb_buf);
5490:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 0 + 0] = 0x83;		/* 83 entry (volume label) */
ARM GAS  /tmp/cc5m2BsI.s 			page 295


5491:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 1 + 0] = 0x81;		/* 81 entry (allocation bitmap) */
5492:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 20, 2);
5493:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 1 + 24, szb_bit);
5494:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[SZDIRE * 2 + 0] = 0x82;		/* 82 entry (up-case table) */
5495:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 4, sum);
5496:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 20, 2 + tbl[0]);
5497:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + SZDIRE * 2 + 24, szb_case);
5498:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_data + au * (tbl[0] + tbl[1]);	nsect = au;	/* Start of the root directory and number of 
5499:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {	/* Fill root directory sectors */
5500:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
5501:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, n) != RES_OK) return FR_DISK_ERR;
5502:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5503:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
5504:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
5505:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5506:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create two set of the exFAT VBR blocks */
5507:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_vol;
5508:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; n < 2; n++) {
5509:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Main record (+0) */
5510:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5511:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_JmpBoot, "\xEB\x76\x90" "EXFAT   ", 11);	/* Boot jump code (x86), OEM name */
5512:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolOfsEx, b_vol);					/* Volume offset in the physical drive [sector] */
5513:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSecEx, sz_vol);					/* Volume size [sector] */
5514:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatOfsEx, b_fat - b_vol);			/* FAT offset [sector] */
5515:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FatSzEx, sz_fat);					/* FAT size [sector] */
5516:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_DataOfsEx, b_data - b_vol);			/* Data offset [sector] */
5517:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_NumClusEx, n_clst);					/* Number of clusters */
5518:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClusEx, 2 + tbl[0] + tbl[1]);	/* Root dir cluster # */
5519:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_VolIDEx, GET_FATTIME());				/* VSN */
5520:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSVerEx, 0x100);						/* File system version (1.00) */
5521:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_BytsPerSecEx] = 0, i = ss; i >>= 1; buf[BPB_BytsPerSecEx]++) ;	/* Log2 of sector si
5522:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			for (buf[BPB_SecPerClusEx] = 0, i = au; i >>= 1; buf[BPB_SecPerClusEx]++) ;	/* Log2 of cluster s
5523:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_NumFATsEx] = 1;					/* Number of FATs */
5524:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BPB_DrvNumEx] = 0x80;				/* Drive number (for int13) */
5525:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_BootCodeEx, 0xFEEB);	/* Boot code (x86) */
5526:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);			/* Signature (placed here regardless of sector size) */
5527:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = sum = 0; i < ss; i++) {		/* VBR checksum */
5528:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i != BPB_VolFlagEx && i != BPB_VolFlagEx + 1 && i != BPB_PercInUseEx) sum = xsum32(buf[i], 
5529:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5530:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5531:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Extended bootstrap record (+1..+8) */
5532:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5533:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + ss - 2, 0xAA55);	/* Signature (placed at end of sector) */
5534:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 1; j < 9; j++) {
5535:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5536:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5537:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5538:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* OEM/Reserved record (+9..+10) */
5539:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
5540:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			for ( ; j < 11; j++) {
5541:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				for (i = 0; i < ss; sum = xsum32(buf[i++], sum)) ;	/* VBR checksum */
5542:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5543:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5544:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Sum record (+11) */
5545:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < ss; i += 4) st_dword(buf + i, sum);		/* Fill with checksum value */
5546:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect++, 1) != RES_OK) return FR_DISK_ERR;
5547:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/cc5m2BsI.s 			page 296


5548:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5549:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
5550:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_EXFAT */
5551:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	{	/* Create an FAT12/16/32 volume */
5552:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5553:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pau = au;
 11256              		.loc 1 5553 8
 11257 01a2 7B68     		ldr	r3, [r7, #4]
 11258 01a4 3B65     		str	r3, [r7, #80]
5554:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
5555:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {	/* FAT32 volume */
 11259              		.loc 1 5555 7
 11260 01a6 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 11261 01aa 032B     		cmp	r3, #3
 11262 01ac 3CD1     		bne	.L696
5556:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 11263              		.loc 1 5556 8
 11264 01ae 3B6D     		ldr	r3, [r7, #80]
 11265 01b0 002B     		cmp	r3, #0
 11266 01b2 1BD1     		bne	.L697
5557:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x20000;	/* Volume size in unit of 128KS */
 11267              		.loc 1 5557 17
 11268 01b4 3B69     		ldr	r3, [r7, #16]
 11269              		.loc 1 5557 8
 11270 01b6 5B0C     		lsrs	r3, r3, #17
 11271 01b8 FB65     		str	r3, [r7, #92]
5558:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst32[i] && cst32[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 11272              		.loc 1 5558 13
 11273 01ba 0023     		movs	r3, #0
 11274 01bc BB64     		str	r3, [r7, #72]
 11275              		.loc 1 5558 22
 11276 01be 0123     		movs	r3, #1
 11277 01c0 3B65     		str	r3, [r7, #80]
 11278              		.loc 1 5558 6
 11279 01c2 05E0     		b	.L698
 11280              	.L699:
 11281              		.loc 1 5558 55 discriminator 4
 11282 01c4 BB6C     		ldr	r3, [r7, #72]
 11283 01c6 0133     		adds	r3, r3, #1
 11284 01c8 BB64     		str	r3, [r7, #72]
 11285              		.loc 1 5558 63 discriminator 4
 11286 01ca 3B6D     		ldr	r3, [r7, #80]
 11287 01cc 5B00     		lsls	r3, r3, #1
 11288 01ce 3B65     		str	r3, [r7, #80]
 11289              	.L698:
 11290              		.loc 1 5558 32 discriminator 1
 11291 01d0 2D4A     		ldr	r2, .L754+4
 11292 01d2 BB6C     		ldr	r3, [r7, #72]
 11293 01d4 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 11294              		.loc 1 5558 6 discriminator 1
 11295 01d8 002B     		cmp	r3, #0
 11296 01da 07D0     		beq	.L697
 11297              		.loc 1 5558 44 discriminator 3
 11298 01dc 2A4A     		ldr	r2, .L754+4
 11299 01de BB6C     		ldr	r3, [r7, #72]
 11300 01e0 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 11301 01e4 1A46     		mov	r2, r3
ARM GAS  /tmp/cc5m2BsI.s 			page 297


 11302              		.loc 1 5558 36 discriminator 3
 11303 01e6 FB6D     		ldr	r3, [r7, #92]
 11304 01e8 9342     		cmp	r3, r2
 11305 01ea EBD2     		bcs	.L699
 11306              	.L697:
5559:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5560:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;	/* Number of clusters */
 11307              		.loc 1 5560 21
 11308 01ec 3A69     		ldr	r2, [r7, #16]
 11309              		.loc 1 5560 12
 11310 01ee 3B6D     		ldr	r3, [r7, #80]
 11311 01f0 B2FBF3F3 		udiv	r3, r2, r3
 11312 01f4 3B62     		str	r3, [r7, #32]
5561:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n_clst * 4 + 8 + ss - 1) / ss;	/* FAT size [sector] */
 11313              		.loc 1 5561 26
 11314 01f6 3B6A     		ldr	r3, [r7, #32]
 11315 01f8 0233     		adds	r3, r3, #2
 11316 01fa 9A00     		lsls	r2, r3, #2
 11317              		.loc 1 5561 30
 11318 01fc FB8E     		ldrh	r3, [r7, #54]
 11319 01fe 1344     		add	r3, r3, r2
 11320              		.loc 1 5561 35
 11321 0200 5A1E     		subs	r2, r3, #1
 11322              		.loc 1 5561 40
 11323 0202 FB8E     		ldrh	r3, [r7, #54]
 11324              		.loc 1 5561 12
 11325 0204 B2FBF3F3 		udiv	r3, r2, r3
 11326 0208 BB66     		str	r3, [r7, #104]
5562:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 32;	/* Number of reserved sectors */
 11327              		.loc 1 5562 12
 11328 020a 2023     		movs	r3, #32
 11329 020c 7B65     		str	r3, [r7, #84]
5563:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = 0;		/* No static directory */
 11330              		.loc 1 5563 12
 11331 020e 0023     		movs	r3, #0
 11332 0210 FB66     		str	r3, [r7, #108]
5564:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16 || n_clst > MAX_FAT32) return FR_MKFS_ABORTED;
 11333              		.loc 1 5564 8
 11334 0212 3B6A     		ldr	r3, [r7, #32]
 11335 0214 4FF6F572 		movw	r2, #65525
 11336 0218 9342     		cmp	r3, r2
 11337 021a 03D9     		bls	.L700
 11338              		.loc 1 5564 29 discriminator 2
 11339 021c 3B6A     		ldr	r3, [r7, #32]
 11340 021e 1B4A     		ldr	r2, .L754+8
 11341 0220 9342     		cmp	r3, r2
 11342 0222 52D9     		bls	.L701
 11343              	.L700:
 11344              		.loc 1 5564 59 discriminator 3
 11345 0224 0E23     		movs	r3, #14
 11346 0226 11E3     		b	.L749
 11347              	.L696:
5565:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* FAT12/16 volume */
5566:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!pau) {	/* au auto-selection */
 11348              		.loc 1 5566 8
 11349 0228 3B6D     		ldr	r3, [r7, #80]
 11350 022a 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 298


 11351 022c 1BD1     		bne	.L702
5567:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					n = sz_vol / 0x1000;	/* Volume size in unit of 4KS */
 11352              		.loc 1 5567 17
 11353 022e 3B69     		ldr	r3, [r7, #16]
 11354              		.loc 1 5567 8
 11355 0230 1B0B     		lsrs	r3, r3, #12
 11356 0232 FB65     		str	r3, [r7, #92]
5568:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					for (i = 0, pau = 1; cst[i] && cst[i] <= n; i++, pau <<= 1) ;	/* Get from table */
 11357              		.loc 1 5568 13
 11358 0234 0023     		movs	r3, #0
 11359 0236 BB64     		str	r3, [r7, #72]
 11360              		.loc 1 5568 22
 11361 0238 0123     		movs	r3, #1
 11362 023a 3B65     		str	r3, [r7, #80]
 11363              		.loc 1 5568 6
 11364 023c 05E0     		b	.L703
 11365              	.L704:
 11366              		.loc 1 5568 51 discriminator 4
 11367 023e BB6C     		ldr	r3, [r7, #72]
 11368 0240 0133     		adds	r3, r3, #1
 11369 0242 BB64     		str	r3, [r7, #72]
 11370              		.loc 1 5568 59 discriminator 4
 11371 0244 3B6D     		ldr	r3, [r7, #80]
 11372 0246 5B00     		lsls	r3, r3, #1
 11373 0248 3B65     		str	r3, [r7, #80]
 11374              	.L703:
 11375              		.loc 1 5568 30 discriminator 1
 11376 024a 114A     		ldr	r2, .L754+12
 11377 024c BB6C     		ldr	r3, [r7, #72]
 11378 024e 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 11379              		.loc 1 5568 6 discriminator 1
 11380 0252 002B     		cmp	r3, #0
 11381 0254 07D0     		beq	.L702
 11382              		.loc 1 5568 40 discriminator 3
 11383 0256 0E4A     		ldr	r2, .L754+12
 11384 0258 BB6C     		ldr	r3, [r7, #72]
 11385 025a 32F81330 		ldrh	r3, [r2, r3, lsl #1]
 11386 025e 1A46     		mov	r2, r3
 11387              		.loc 1 5568 34 discriminator 3
 11388 0260 FB6D     		ldr	r3, [r7, #92]
 11389 0262 9342     		cmp	r3, r2
 11390 0264 EBD2     		bcs	.L704
 11391              	.L702:
5569:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5570:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				n_clst = sz_vol / pau;
 11392              		.loc 1 5570 21
 11393 0266 3A69     		ldr	r2, [r7, #16]
 11394              		.loc 1 5570 12
 11395 0268 3B6D     		ldr	r3, [r7, #80]
 11396 026a B2FBF3F3 		udiv	r3, r2, r3
 11397 026e 3B62     		str	r3, [r7, #32]
5571:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT12) {
 11398              		.loc 1 5571 8
 11399 0270 3B6A     		ldr	r3, [r7, #32]
 11400 0272 40F6F572 		movw	r2, #4085
 11401 0276 9342     		cmp	r3, r2
 11402 0278 0CD9     		bls	.L705
ARM GAS  /tmp/cc5m2BsI.s 			page 299


5572:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					n = n_clst * 2 + 4;		/* FAT size [byte] */
 11403              		.loc 1 5572 21
 11404 027a 3B6A     		ldr	r3, [r7, #32]
 11405 027c 0233     		adds	r3, r3, #2
 11406              		.loc 1 5572 8
 11407 027e 5B00     		lsls	r3, r3, #1
 11408 0280 FB65     		str	r3, [r7, #92]
 11409 0282 12E0     		b	.L706
 11410              	.L755:
 11411              		.align	2
 11412              	.L754:
 11413 0284 00000000 		.word	FatFs
 11414 0288 00000000 		.word	cst32.1
 11415 028c F5FFFF0F 		.word	268435445
 11416 0290 00000000 		.word	cst.0
 11417              	.L705:
5573:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
5574:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					fmt = FS_FAT12;
 11418              		.loc 1 5574 10
 11419 0294 0123     		movs	r3, #1
 11420 0296 87F84F30 		strb	r3, [r7, #79]
5575:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					n = (n_clst * 3 + 1) / 2 + 3;	/* FAT size [byte] */
 11421              		.loc 1 5575 18
 11422 029a 3A6A     		ldr	r2, [r7, #32]
 11423 029c 1346     		mov	r3, r2
 11424 029e 5B00     		lsls	r3, r3, #1
 11425 02a0 1344     		add	r3, r3, r2
 11426              		.loc 1 5575 22
 11427 02a2 0133     		adds	r3, r3, #1
 11428              		.loc 1 5575 27
 11429 02a4 5B08     		lsrs	r3, r3, #1
 11430              		.loc 1 5575 8
 11431 02a6 0333     		adds	r3, r3, #3
 11432 02a8 FB65     		str	r3, [r7, #92]
 11433              	.L706:
5576:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5577:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat = (n + ss - 1) / ss;		/* FAT size [sector] */
 11434              		.loc 1 5577 17
 11435 02aa FA8E     		ldrh	r2, [r7, #54]
 11436 02ac FB6D     		ldr	r3, [r7, #92]
 11437 02ae 1344     		add	r3, r3, r2
 11438              		.loc 1 5577 22
 11439 02b0 5A1E     		subs	r2, r3, #1
 11440              		.loc 1 5577 27
 11441 02b2 FB8E     		ldrh	r3, [r7, #54]
 11442              		.loc 1 5577 12
 11443 02b4 B2FBF3F3 		udiv	r3, r2, r3
 11444 02b8 BB66     		str	r3, [r7, #104]
5578:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv = 1;						/* Number of reserved sectors */
 11445              		.loc 1 5578 12
 11446 02ba 0123     		movs	r3, #1
 11447 02bc 7B65     		str	r3, [r7, #84]
5579:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_dir = (DWORD)n_rootdir * SZDIRE / ss;	/* Rootdir size [sector] */
 11448              		.loc 1 5579 31
 11449 02be 3B6C     		ldr	r3, [r7, #64]
 11450 02c0 5A01     		lsls	r2, r3, #5
 11451              		.loc 1 5579 40
ARM GAS  /tmp/cc5m2BsI.s 			page 300


 11452 02c2 FB8E     		ldrh	r3, [r7, #54]
 11453              		.loc 1 5579 12
 11454 02c4 B2FBF3F3 		udiv	r3, r2, r3
 11455 02c8 FB66     		str	r3, [r7, #108]
 11456              	.L701:
5580:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5581:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			b_fat = b_vol + sz_rsv;						/* FAT base */
 11457              		.loc 1 5581 10
 11458 02ca 7A6A     		ldr	r2, [r7, #36]
 11459 02cc 7B6D     		ldr	r3, [r7, #84]
 11460 02ce 1344     		add	r3, r3, r2
 11461 02d0 BB65     		str	r3, [r7, #88]
5582:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			b_data = b_fat + sz_fat * n_fats + sz_dir;	/* Data base */
 11462              		.loc 1 5582 28
 11463 02d2 BB6E     		ldr	r3, [r7, #104]
 11464 02d4 7A6C     		ldr	r2, [r7, #68]
 11465 02d6 03FB02F2 		mul	r2, r3, r2
 11466              		.loc 1 5582 19
 11467 02da BB6D     		ldr	r3, [r7, #88]
 11468 02dc 1344     		add	r3, r3, r2
 11469              		.loc 1 5582 11
 11470 02de FA6E     		ldr	r2, [r7, #108]
 11471 02e0 1344     		add	r3, r3, r2
 11472 02e2 FB61     		str	r3, [r7, #28]
5583:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5584:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Align data base to erase block boundary (for flash memory media) */
5585:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			n = ((b_data + sz_blk - 1) & ~(sz_blk - 1)) - b_data;	/* Next nearest erase block from current d
 11473              		.loc 1 5585 17
 11474 02e4 7A69     		ldr	r2, [r7, #20]
 11475 02e6 FB69     		ldr	r3, [r7, #28]
 11476 02e8 1344     		add	r3, r3, r2
 11477              		.loc 1 5585 26
 11478 02ea 5A1E     		subs	r2, r3, #1
 11479              		.loc 1 5585 33
 11480 02ec 7B69     		ldr	r3, [r7, #20]
 11481 02ee 5B42     		rsbs	r3, r3, #0
 11482              		.loc 1 5585 31
 11483 02f0 1A40     		ands	r2, r2, r3
 11484              		.loc 1 5585 6
 11485 02f2 FB69     		ldr	r3, [r7, #28]
 11486 02f4 D31A     		subs	r3, r2, r3
 11487 02f6 FB65     		str	r3, [r7, #92]
5586:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {		/* FAT32: Move FAT base */
 11488              		.loc 1 5586 7
 11489 02f8 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 11490 02fc 032B     		cmp	r3, #3
 11491 02fe 08D1     		bne	.L707
5587:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_rsv += n; b_fat += n;
 11492              		.loc 1 5587 12
 11493 0300 7A6D     		ldr	r2, [r7, #84]
 11494 0302 FB6D     		ldr	r3, [r7, #92]
 11495 0304 1344     		add	r3, r3, r2
 11496 0306 7B65     		str	r3, [r7, #84]
 11497              		.loc 1 5587 24
 11498 0308 BA6D     		ldr	r2, [r7, #88]
 11499 030a FB6D     		ldr	r3, [r7, #92]
 11500 030c 1344     		add	r3, r3, r2
ARM GAS  /tmp/cc5m2BsI.s 			page 301


 11501 030e BB65     		str	r3, [r7, #88]
 11502 0310 06E0     		b	.L708
 11503              	.L707:
5588:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* FAT12/16: Expand FAT size */
5589:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sz_fat += n / n_fats;
 11504              		.loc 1 5589 17
 11505 0312 FA6D     		ldr	r2, [r7, #92]
 11506 0314 7B6C     		ldr	r3, [r7, #68]
 11507 0316 B2FBF3F3 		udiv	r3, r2, r3
 11508              		.loc 1 5589 12
 11509 031a BA6E     		ldr	r2, [r7, #104]
 11510 031c 1344     		add	r3, r3, r2
 11511 031e BB66     		str	r3, [r7, #104]
 11512              	.L708:
5590:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5591:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5592:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Determine number of clusters and final check of validity of the FAT sub-type */
5593:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol < b_data + pau * 16 - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 11513              		.loc 1 5593 30
 11514 0320 3B6D     		ldr	r3, [r7, #80]
 11515 0322 1A01     		lsls	r2, r3, #4
 11516              		.loc 1 5593 24
 11517 0324 FB69     		ldr	r3, [r7, #28]
 11518 0326 1A44     		add	r2, r2, r3
 11519              		.loc 1 5593 35
 11520 0328 7B6A     		ldr	r3, [r7, #36]
 11521 032a D21A     		subs	r2, r2, r3
 11522              		.loc 1 5593 15
 11523 032c 3B69     		ldr	r3, [r7, #16]
 11524              		.loc 1 5593 7
 11525 032e 9A42     		cmp	r2, r3
 11526 0330 01D9     		bls	.L709
 11527              		.loc 1 5593 51 discriminator 1
 11528 0332 0E23     		movs	r3, #14
 11529 0334 8AE2     		b	.L749
 11530              	.L709:
5594:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			n_clst = (sz_vol - sz_rsv - sz_fat * n_fats - sz_dir) / pau;
 11531              		.loc 1 5594 21
 11532 0336 3A69     		ldr	r2, [r7, #16]
 11533 0338 7B6D     		ldr	r3, [r7, #84]
 11534 033a D21A     		subs	r2, r2, r3
 11535              		.loc 1 5594 39
 11536 033c BB6E     		ldr	r3, [r7, #104]
 11537 033e 796C     		ldr	r1, [r7, #68]
 11538 0340 01FB03F3 		mul	r3, r1, r3
 11539              		.loc 1 5594 30
 11540 0344 D21A     		subs	r2, r2, r3
 11541              		.loc 1 5594 48
 11542 0346 FB6E     		ldr	r3, [r7, #108]
 11543 0348 D21A     		subs	r2, r2, r3
 11544              		.loc 1 5594 11
 11545 034a 3B6D     		ldr	r3, [r7, #80]
 11546 034c B2FBF3F3 		udiv	r3, r2, r3
 11547 0350 3B62     		str	r3, [r7, #32]
5595:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11548              		.loc 1 5595 7
 11549 0352 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
ARM GAS  /tmp/cc5m2BsI.s 			page 302


 11550 0356 032B     		cmp	r3, #3
 11551 0358 0FD1     		bne	.L710
5596:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst <= MAX_FAT16) {	/* Too few clusters for FAT32 */
 11552              		.loc 1 5596 8
 11553 035a 3B6A     		ldr	r3, [r7, #32]
 11554 035c 4FF6F572 		movw	r2, #65525
 11555 0360 9342     		cmp	r3, r2
 11556 0362 0AD8     		bhi	.L710
5597:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau / 2) != 0) continue;	/* Adjust cluster size and retry */
 11557              		.loc 1 5597 9
 11558 0364 7B68     		ldr	r3, [r7, #4]
 11559 0366 002B     		cmp	r3, #0
 11560 0368 05D1     		bne	.L711
 11561              		.loc 1 5597 21 discriminator 1
 11562 036a 3B6D     		ldr	r3, [r7, #80]
 11563 036c 5B08     		lsrs	r3, r3, #1
 11564 036e 7B60     		str	r3, [r7, #4]
 11565              		.loc 1 5597 14 discriminator 1
 11566 0370 7B68     		ldr	r3, [r7, #4]
 11567 0372 002B     		cmp	r3, #0
 11568 0374 44D1     		bne	.L750
 11569              	.L711:
5598:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11570              		.loc 1 5598 13
 11571 0376 0E23     		movs	r3, #14
 11572 0378 68E2     		b	.L749
 11573              	.L710:
5599:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5600:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5601:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT16) {
 11574              		.loc 1 5601 7
 11575 037a 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 11576 037e 022B     		cmp	r3, #2
 11577 0380 33D1     		bne	.L713
5602:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (n_clst > MAX_FAT16) {	/* Too many clusters for FAT16 */
 11578              		.loc 1 5602 8
 11579 0382 3B6A     		ldr	r3, [r7, #32]
 11580 0384 4FF6F572 		movw	r2, #65525
 11581 0388 9342     		cmp	r3, r2
 11582 038a 1ED9     		bls	.L714
5603:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (pau * 2) <= 64) {
 11583              		.loc 1 5603 9
 11584 038c 7B68     		ldr	r3, [r7, #4]
 11585 038e 002B     		cmp	r3, #0
 11586 0390 07D1     		bne	.L715
 11587              		.loc 1 5603 22 discriminator 1
 11588 0392 3B6D     		ldr	r3, [r7, #80]
 11589 0394 5B00     		lsls	r3, r3, #1
 11590              		.loc 1 5603 14 discriminator 1
 11591 0396 402B     		cmp	r3, #64
 11592 0398 03D8     		bhi	.L715
5604:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						au = pau * 2; continue;		/* Adjust cluster size and retry */
 11593              		.loc 1 5604 10
 11594 039a 3B6D     		ldr	r3, [r7, #80]
 11595 039c 5B00     		lsls	r3, r3, #1
 11596 039e 7B60     		str	r3, [r7, #4]
 11597              		.loc 1 5604 7
ARM GAS  /tmp/cc5m2BsI.s 			page 303


 11598 03a0 33E0     		b	.L712
 11599              	.L715:
5605:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5606:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((opt & FM_FAT32)) {
 11600              		.loc 1 5606 15
 11601 03a2 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 11602 03a4 03F00203 		and	r3, r3, #2
 11603              		.loc 1 5606 9
 11604 03a8 002B     		cmp	r3, #0
 11605 03aa 03D0     		beq	.L716
5607:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 						fmt = FS_FAT32; continue;	/* Switch type to FAT32 and retry */
 11606              		.loc 1 5607 11
 11607 03ac 0323     		movs	r3, #3
 11608 03ae 87F84F30 		strb	r3, [r7, #79]
 11609              		.loc 1 5607 7
 11610 03b2 2AE0     		b	.L712
 11611              	.L716:
5608:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					}
5609:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 11612              		.loc 1 5609 9
 11613 03b4 7B68     		ldr	r3, [r7, #4]
 11614 03b6 002B     		cmp	r3, #0
 11615 03b8 05D1     		bne	.L717
 11616              		.loc 1 5609 21 discriminator 1
 11617 03ba 3B6D     		ldr	r3, [r7, #80]
 11618 03bc 5B00     		lsls	r3, r3, #1
 11619 03be 7B60     		str	r3, [r7, #4]
 11620              		.loc 1 5609 14 discriminator 1
 11621 03c0 7B68     		ldr	r3, [r7, #4]
 11622 03c2 802B     		cmp	r3, #128
 11623 03c4 1ED9     		bls	.L751
 11624              	.L717:
5610:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11625              		.loc 1 5610 13
 11626 03c6 0E23     		movs	r3, #14
 11627 03c8 40E2     		b	.L749
 11628              	.L714:
5611:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5612:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if  (n_clst <= MAX_FAT12) {	/* Too few clusters for FAT16 */
 11629              		.loc 1 5612 9
 11630 03ca 3B6A     		ldr	r3, [r7, #32]
 11631 03cc 40F6F572 		movw	r2, #4085
 11632 03d0 9342     		cmp	r3, r2
 11633 03d2 0AD8     		bhi	.L713
5613:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!au && (au = pau * 2) <= 128) continue;	/* Adjust cluster size and retry */
 11634              		.loc 1 5613 9
 11635 03d4 7B68     		ldr	r3, [r7, #4]
 11636 03d6 002B     		cmp	r3, #0
 11637 03d8 05D1     		bne	.L718
 11638              		.loc 1 5613 21 discriminator 1
 11639 03da 3B6D     		ldr	r3, [r7, #80]
 11640 03dc 5B00     		lsls	r3, r3, #1
 11641 03de 7B60     		str	r3, [r7, #4]
 11642              		.loc 1 5613 14 discriminator 1
 11643 03e0 7B68     		ldr	r3, [r7, #4]
 11644 03e2 802B     		cmp	r3, #128
 11645 03e4 10D9     		bls	.L752
ARM GAS  /tmp/cc5m2BsI.s 			page 304


 11646              	.L718:
5614:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11647              		.loc 1 5614 13
 11648 03e6 0E23     		movs	r3, #14
 11649 03e8 30E2     		b	.L749
 11650              	.L713:
5615:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5616:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5617:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT12 && n_clst > MAX_FAT12) return FR_MKFS_ABORTED;	/* Too many clusters for FAT1
 11651              		.loc 1 5617 7
 11652 03ea 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 11653 03ee 012B     		cmp	r3, #1
 11654 03f0 0CD1     		bne	.L753
 11655              		.loc 1 5617 24 discriminator 1
 11656 03f2 3B6A     		ldr	r3, [r7, #32]
 11657 03f4 40F6F572 		movw	r2, #4085
 11658 03f8 9342     		cmp	r3, r2
 11659 03fa 07D9     		bls	.L753
 11660              		.loc 1 5617 54 discriminator 2
 11661 03fc 0E23     		movs	r3, #14
 11662 03fe 25E2     		b	.L749
 11663              	.L750:
5597:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11664              		.loc 1 5597 6
 11665 0400 00BF     		nop
 11666 0402 CEE6     		b	.L721
 11667              	.L751:
5609:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11668              		.loc 1 5609 6
 11669 0404 00BF     		nop
 11670 0406 CCE6     		b	.L721
 11671              	.L752:
5613:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_MKFS_ABORTED;
 11672              		.loc 1 5613 6
 11673 0408 00BF     		nop
 11674              	.L712:
5553:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Pre-determine number of clusters and FAT sub-type */
 11675              		.loc 1 5553 8
 11676 040a CAE6     		b	.L721
 11677              	.L753:
5618:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5619:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Ok, it is the valid cluster configuration */
5620:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 11678              		.loc 1 5620 4
 11679 040c 00BF     		nop
5621:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (1);
5622:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5623:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
5624:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[0] = b_vol; tbl[1] = b_vol + sz_vol - 1;	/* Inform the device the volume area can be erased *
5625:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, tbl);
5626:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5627:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FAT VBR */
5628:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, ss);
 11680              		.loc 1 5628 3
 11681 040e FB8E     		ldrh	r3, [r7, #54]
 11682 0410 1A46     		mov	r2, r3
 11683 0412 0021     		movs	r1, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 305


 11684 0414 386B     		ldr	r0, [r7, #48]
 11685 0416 FFF7FEFF 		bl	mem_set
5629:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(buf + BS_JmpBoot, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code (x86), OEM name */
 11686              		.loc 1 5629 3
 11687 041a 0B22     		movs	r2, #11
 11688 041c B249     		ldr	r1, .L756
 11689 041e 386B     		ldr	r0, [r7, #48]
 11690 0420 FFF7FEFF 		bl	mem_cpy
5630:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_BytsPerSec, ss);				/* Sector size [byte] */
 11691              		.loc 1 5630 3
 11692 0424 3B6B     		ldr	r3, [r7, #48]
 11693 0426 0B33     		adds	r3, r3, #11
 11694 0428 FA8E     		ldrh	r2, [r7, #54]
 11695 042a 1146     		mov	r1, r2
 11696 042c 1846     		mov	r0, r3
 11697 042e FFF7FEFF 		bl	st_word
5631:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_SecPerClus] = (BYTE)pau;				/* Cluster size [sector] */
 11698              		.loc 1 5631 6
 11699 0432 3B6B     		ldr	r3, [r7, #48]
 11700 0434 0D33     		adds	r3, r3, #13
 11701              		.loc 1 5631 25
 11702 0436 3A6D     		ldr	r2, [r7, #80]
 11703 0438 D2B2     		uxtb	r2, r2
 11704              		.loc 1 5631 23
 11705 043a 1A70     		strb	r2, [r3]
5632:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RsvdSecCnt, (WORD)sz_rsv);	/* Size of reserved area */
 11706              		.loc 1 5632 3
 11707 043c 3B6B     		ldr	r3, [r7, #48]
 11708 043e 0E33     		adds	r3, r3, #14
 11709 0440 7A6D     		ldr	r2, [r7, #84]
 11710 0442 92B2     		uxth	r2, r2
 11711 0444 1146     		mov	r1, r2
 11712 0446 1846     		mov	r0, r3
 11713 0448 FFF7FEFF 		bl	st_word
5633:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_NumFATs] = (BYTE)n_fats;				/* Number of FATs */
 11714              		.loc 1 5633 6
 11715 044c 3B6B     		ldr	r3, [r7, #48]
 11716 044e 1033     		adds	r3, r3, #16
 11717              		.loc 1 5633 22
 11718 0450 7A6C     		ldr	r2, [r7, #68]
 11719 0452 D2B2     		uxtb	r2, r2
 11720              		.loc 1 5633 20
 11721 0454 1A70     		strb	r2, [r3]
5634:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_RootEntCnt, (WORD)((fmt == FS_FAT32) ? 0 : n_rootdir));	/* Number of root direc
 11722              		.loc 1 5634 3
 11723 0456 3B6B     		ldr	r3, [r7, #48]
 11724 0458 03F11102 		add	r2, r3, #17
 11725 045c 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 11726 0460 032B     		cmp	r3, #3
 11727 0462 02D0     		beq	.L722
 11728              		.loc 1 5634 3 is_stmt 0 discriminator 1
 11729 0464 3B6C     		ldr	r3, [r7, #64]
 11730 0466 9BB2     		uxth	r3, r3
 11731 0468 00E0     		b	.L723
 11732              	.L722:
 11733              		.loc 1 5634 3 discriminator 2
 11734 046a 0023     		movs	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 306


 11735              	.L723:
 11736              		.loc 1 5634 3 discriminator 4
 11737 046c 1946     		mov	r1, r3
 11738 046e 1046     		mov	r0, r2
 11739 0470 FFF7FEFF 		bl	st_word
5635:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sz_vol < 0x10000) {
 11740              		.loc 1 5635 14 is_stmt 1 discriminator 4
 11741 0474 3B69     		ldr	r3, [r7, #16]
 11742              		.loc 1 5635 6 discriminator 4
 11743 0476 B3F5803F 		cmp	r3, #65536
 11744 047a 08D2     		bcs	.L724
5636:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_TotSec16, (WORD)sz_vol);	/* Volume size in 16-bit LBA */
 11745              		.loc 1 5636 4
 11746 047c 3B6B     		ldr	r3, [r7, #48]
 11747 047e 1333     		adds	r3, r3, #19
 11748 0480 3A69     		ldr	r2, [r7, #16]
 11749 0482 92B2     		uxth	r2, r2
 11750 0484 1146     		mov	r1, r2
 11751 0486 1846     		mov	r0, r3
 11752 0488 FFF7FEFF 		bl	st_word
 11753 048c 06E0     		b	.L725
 11754              	.L724:
5637:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5638:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_TotSec32, sz_vol);		/* Volume size in 32-bit LBA */
 11755              		.loc 1 5638 4
 11756 048e 3B6B     		ldr	r3, [r7, #48]
 11757 0490 2033     		adds	r3, r3, #32
 11758 0492 3A69     		ldr	r2, [r7, #16]
 11759 0494 1146     		mov	r1, r2
 11760 0496 1846     		mov	r0, r3
 11761 0498 FFF7FEFF 		bl	st_dword
 11762              	.L725:
5639:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5640:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[BPB_Media] = 0xF8;							/* Media descriptor byte */
 11763              		.loc 1 5640 6
 11764 049c 3B6B     		ldr	r3, [r7, #48]
 11765 049e 1533     		adds	r3, r3, #21
 11766              		.loc 1 5640 18
 11767 04a0 F822     		movs	r2, #248
 11768 04a2 1A70     		strb	r2, [r3]
5641:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_SecPerTrk, 63);				/* Number of sectors per track (for int13) */
 11769              		.loc 1 5641 3
 11770 04a4 3B6B     		ldr	r3, [r7, #48]
 11771 04a6 1833     		adds	r3, r3, #24
 11772 04a8 3F21     		movs	r1, #63
 11773 04aa 1846     		mov	r0, r3
 11774 04ac FFF7FEFF 		bl	st_word
5642:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BPB_NumHeads, 255);				/* Number of heads (for int13) */
 11775              		.loc 1 5642 3
 11776 04b0 3B6B     		ldr	r3, [r7, #48]
 11777 04b2 1A33     		adds	r3, r3, #26
 11778 04b4 FF21     		movs	r1, #255
 11779 04b6 1846     		mov	r0, r3
 11780 04b8 FFF7FEFF 		bl	st_word
5643:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(buf + BPB_HiddSec, b_vol);				/* Volume offset in the physical drive [sector] */
 11781              		.loc 1 5643 3
 11782 04bc 3B6B     		ldr	r3, [r7, #48]
ARM GAS  /tmp/cc5m2BsI.s 			page 307


 11783 04be 1C33     		adds	r3, r3, #28
 11784 04c0 796A     		ldr	r1, [r7, #36]
 11785 04c2 1846     		mov	r0, r3
 11786 04c4 FFF7FEFF 		bl	st_dword
5644:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 11787              		.loc 1 5644 6
 11788 04c8 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 11789 04cc 032B     		cmp	r3, #3
 11790 04ce 31D1     		bne	.L726
5645:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID32, GET_FATTIME());	/* VSN */
 11791              		.loc 1 5645 4
 11792 04d0 3B6B     		ldr	r3, [r7, #48]
 11793 04d2 03F14304 		add	r4, r3, #67
 11794 04d6 FFF7FEFF 		bl	get_fattime
 11795 04da 0346     		mov	r3, r0
 11796 04dc 1946     		mov	r1, r3
 11797 04de 2046     		mov	r0, r4
 11798 04e0 FFF7FEFF 		bl	st_dword
5646:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_FATSz32, sz_fat);		/* FAT size [sector] */
 11799              		.loc 1 5646 4
 11800 04e4 3B6B     		ldr	r3, [r7, #48]
 11801 04e6 2433     		adds	r3, r3, #36
 11802 04e8 B96E     		ldr	r1, [r7, #104]
 11803 04ea 1846     		mov	r0, r3
 11804 04ec FFF7FEFF 		bl	st_dword
5647:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BPB_RootClus32, 2);			/* Root directory cluster # (2) */
 11805              		.loc 1 5647 4
 11806 04f0 3B6B     		ldr	r3, [r7, #48]
 11807 04f2 2C33     		adds	r3, r3, #44
 11808 04f4 0221     		movs	r1, #2
 11809 04f6 1846     		mov	r0, r3
 11810 04f8 FFF7FEFF 		bl	st_dword
5648:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FSInfo32, 1);				/* Offset of FSINFO sector (VBR + 1) */
 11811              		.loc 1 5648 4
 11812 04fc 3B6B     		ldr	r3, [r7, #48]
 11813 04fe 3033     		adds	r3, r3, #48
 11814 0500 0121     		movs	r1, #1
 11815 0502 1846     		mov	r0, r3
 11816 0504 FFF7FEFF 		bl	st_word
5649:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_BkBootSec32, 6);			/* Offset of backup VBR (VBR + 6) */
 11817              		.loc 1 5649 4
 11818 0508 3B6B     		ldr	r3, [r7, #48]
 11819 050a 3233     		adds	r3, r3, #50
 11820 050c 0621     		movs	r1, #6
 11821 050e 1846     		mov	r0, r3
 11822 0510 FFF7FEFF 		bl	st_word
5650:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum32] = 0x80;					/* Drive number (for int13) */
 11823              		.loc 1 5650 7
 11824 0514 3B6B     		ldr	r3, [r7, #48]
 11825 0516 4033     		adds	r3, r3, #64
 11826              		.loc 1 5650 21
 11827 0518 8022     		movs	r2, #128
 11828 051a 1A70     		strb	r2, [r3]
5651:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig32] = 0x29;					/* Extended boot signature */
 11829              		.loc 1 5651 7
 11830 051c 3B6B     		ldr	r3, [r7, #48]
 11831 051e 4233     		adds	r3, r3, #66
ARM GAS  /tmp/cc5m2BsI.s 			page 308


 11832              		.loc 1 5651 22
 11833 0520 2922     		movs	r2, #41
 11834 0522 1A70     		strb	r2, [r3]
5652:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 11835              		.loc 1 5652 16
 11836 0524 3B6B     		ldr	r3, [r7, #48]
 11837 0526 4733     		adds	r3, r3, #71
 11838              		.loc 1 5652 4
 11839 0528 1322     		movs	r2, #19
 11840 052a 7049     		ldr	r1, .L756+4
 11841 052c 1846     		mov	r0, r3
 11842 052e FFF7FEFF 		bl	mem_cpy
 11843 0532 20E0     		b	.L727
 11844              	.L726:
5653:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5654:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + BS_VolID, GET_FATTIME());	/* VSN */
 11845              		.loc 1 5654 4
 11846 0534 3B6B     		ldr	r3, [r7, #48]
 11847 0536 03F12704 		add	r4, r3, #39
 11848 053a FFF7FEFF 		bl	get_fattime
 11849 053e 0346     		mov	r3, r0
 11850 0540 1946     		mov	r1, r3
 11851 0542 2046     		mov	r0, r4
 11852 0544 FFF7FEFF 		bl	st_dword
5655:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BPB_FATSz16, (WORD)sz_fat);	/* FAT size [sector] */
 11853              		.loc 1 5655 4
 11854 0548 3B6B     		ldr	r3, [r7, #48]
 11855 054a 1633     		adds	r3, r3, #22
 11856 054c BA6E     		ldr	r2, [r7, #104]
 11857 054e 92B2     		uxth	r2, r2
 11858 0550 1146     		mov	r1, r2
 11859 0552 1846     		mov	r0, r3
 11860 0554 FFF7FEFF 		bl	st_word
5656:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_DrvNum] = 0x80;						/* Drive number (for int13) */
 11861              		.loc 1 5656 7
 11862 0558 3B6B     		ldr	r3, [r7, #48]
 11863 055a 2433     		adds	r3, r3, #36
 11864              		.loc 1 5656 19
 11865 055c 8022     		movs	r2, #128
 11866 055e 1A70     		strb	r2, [r3]
5657:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			buf[BS_BootSig] = 0x29;						/* Extended boot signature */
 11867              		.loc 1 5657 7
 11868 0560 3B6B     		ldr	r3, [r7, #48]
 11869 0562 2633     		adds	r3, r3, #38
 11870              		.loc 1 5657 20
 11871 0564 2922     		movs	r2, #41
 11872 0566 1A70     		strb	r2, [r3]
5658:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(buf + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 11873              		.loc 1 5658 16
 11874 0568 3B6B     		ldr	r3, [r7, #48]
 11875 056a 2B33     		adds	r3, r3, #43
 11876              		.loc 1 5658 4
 11877 056c 1322     		movs	r2, #19
 11878 056e 6049     		ldr	r1, .L756+8
 11879 0570 1846     		mov	r0, r3
 11880 0572 FFF7FEFF 		bl	mem_cpy
 11881              	.L727:
ARM GAS  /tmp/cc5m2BsI.s 			page 309


5659:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5660:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_word(buf + BS_55AA, 0xAA55);					/* Signature (offset is fixed here regardless of sector size)
 11882              		.loc 1 5660 3
 11883 0576 3B6B     		ldr	r3, [r7, #48]
 11884 0578 03F5FF73 		add	r3, r3, #510
 11885 057c 4AF65521 		movw	r1, #43605
 11886 0580 1846     		mov	r0, r3
 11887 0582 FFF7FEFF 		bl	st_word
5661:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, b_vol, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the VBR sector 
 11888              		.loc 1 5661 7
 11889 0586 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 11890 058a 0123     		movs	r3, #1
 11891 058c 7A6A     		ldr	r2, [r7, #36]
 11892 058e 396B     		ldr	r1, [r7, #48]
 11893 0590 FFF7FEFF 		bl	disk_write
 11894 0594 0346     		mov	r3, r0
 11895              		.loc 1 5661 6
 11896 0596 002B     		cmp	r3, #0
 11897 0598 01D0     		beq	.L728
 11898              		.loc 1 5661 57 discriminator 1
 11899 059a 0123     		movs	r3, #1
 11900 059c 56E1     		b	.L749
 11901              	.L728:
5662:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5663:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create FSINFO record if needed */
5664:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 11902              		.loc 1 5664 6
 11903 059e 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 11904 05a2 032B     		cmp	r3, #3
 11905 05a4 40D1     		bne	.L729
5665:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 6, 1);		/* Write backup VBR (VBR + 6) */
 11906              		.loc 1 5665 4
 11907 05a6 7B6A     		ldr	r3, [r7, #36]
 11908 05a8 9A1D     		adds	r2, r3, #6
 11909 05aa 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 11910 05ae 0123     		movs	r3, #1
 11911 05b0 396B     		ldr	r1, [r7, #48]
 11912 05b2 FFF7FEFF 		bl	disk_write
5666:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 11913              		.loc 1 5666 4
 11914 05b6 FB8E     		ldrh	r3, [r7, #54]
 11915 05b8 1A46     		mov	r2, r3
 11916 05ba 0021     		movs	r1, #0
 11917 05bc 386B     		ldr	r0, [r7, #48]
 11918 05be FFF7FEFF 		bl	mem_set
5667:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_LeadSig, 0x41615252);
 11919              		.loc 1 5667 4
 11920 05c2 4C49     		ldr	r1, .L756+12
 11921 05c4 386B     		ldr	r0, [r7, #48]
 11922 05c6 FFF7FEFF 		bl	st_dword
5668:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_StrucSig, 0x61417272);
 11923              		.loc 1 5668 4
 11924 05ca 3B6B     		ldr	r3, [r7, #48]
 11925 05cc 03F5F273 		add	r3, r3, #484
 11926 05d0 4949     		ldr	r1, .L756+16
 11927 05d2 1846     		mov	r0, r3
 11928 05d4 FFF7FEFF 		bl	st_dword
ARM GAS  /tmp/cc5m2BsI.s 			page 310


5669:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 11929              		.loc 1 5669 4
 11930 05d8 3B6B     		ldr	r3, [r7, #48]
 11931 05da 03F5F472 		add	r2, r3, #488
 11932 05de 3B6A     		ldr	r3, [r7, #32]
 11933 05e0 013B     		subs	r3, r3, #1
 11934 05e2 1946     		mov	r1, r3
 11935 05e4 1046     		mov	r0, r2
 11936 05e6 FFF7FEFF 		bl	st_dword
5670:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(buf + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 11937              		.loc 1 5670 4
 11938 05ea 3B6B     		ldr	r3, [r7, #48]
 11939 05ec 03F5F673 		add	r3, r3, #492
 11940 05f0 0221     		movs	r1, #2
 11941 05f2 1846     		mov	r0, r3
 11942 05f4 FFF7FEFF 		bl	st_dword
5671:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);
 11943              		.loc 1 5671 4
 11944 05f8 3B6B     		ldr	r3, [r7, #48]
 11945 05fa 03F5FF73 		add	r3, r3, #510
 11946 05fe 4AF65521 		movw	r1, #43605
 11947 0602 1846     		mov	r0, r3
 11948 0604 FFF7FEFF 		bl	st_word
5672:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 7, 1);		/* Write backup FSINFO (VBR + 7) */
 11949              		.loc 1 5672 4
 11950 0608 7B6A     		ldr	r3, [r7, #36]
 11951 060a DA1D     		adds	r2, r3, #7
 11952 060c 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 11953 0610 0123     		movs	r3, #1
 11954 0612 396B     		ldr	r1, [r7, #48]
 11955 0614 FFF7FEFF 		bl	disk_write
5673:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(pdrv, buf, b_vol + 1, 1);		/* Write original FSINFO (VBR + 1) */
 11956              		.loc 1 5673 4
 11957 0618 7B6A     		ldr	r3, [r7, #36]
 11958 061a 5A1C     		adds	r2, r3, #1
 11959 061c 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 11960 0620 0123     		movs	r3, #1
 11961 0622 396B     		ldr	r1, [r7, #48]
 11962 0624 FFF7FEFF 		bl	disk_write
 11963              	.L729:
5674:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5675:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5676:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize FAT area */
5677:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(buf, 0, (UINT)szb_buf);
 11964              		.loc 1 5677 3
 11965 0628 BA6A     		ldr	r2, [r7, #40]
 11966 062a 0021     		movs	r1, #0
 11967 062c 386B     		ldr	r0, [r7, #48]
 11968 062e FFF7FEFF 		bl	mem_set
5678:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = b_fat;		/* FAT start sector */
 11969              		.loc 1 5678 8
 11970 0632 BB6D     		ldr	r3, [r7, #88]
 11971 0634 7B66     		str	r3, [r7, #100]
5679:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < n_fats; i++) {			/* Initialize FATs each */
 11972              		.loc 1 5679 10
 11973 0636 0023     		movs	r3, #0
 11974 0638 BB64     		str	r3, [r7, #72]
ARM GAS  /tmp/cc5m2BsI.s 			page 311


 11975              		.loc 1 5679 3
 11976 063a 4BE0     		b	.L730
 11977              	.L737:
5680:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 11978              		.loc 1 5680 7
 11979 063c 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 11980 0640 032B     		cmp	r3, #3
 11981 0642 13D1     		bne	.L731
5681:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, 0xFFFFFFF8);	/* Entry 0 */
 11982              		.loc 1 5681 5
 11983 0644 6FF00701 		mvn	r1, #7
 11984 0648 386B     		ldr	r0, [r7, #48]
 11985 064a FFF7FEFF 		bl	st_dword
5682:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 4, 0xFFFFFFFF);	/* Entry 1 */
 11986              		.loc 1 5682 5
 11987 064e 3B6B     		ldr	r3, [r7, #48]
 11988 0650 0433     		adds	r3, r3, #4
 11989 0652 4FF0FF31 		mov	r1, #-1
 11990 0656 1846     		mov	r0, r3
 11991 0658 FFF7FEFF 		bl	st_dword
5683:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 8, 0x0FFFFFFF);	/* Entry 2 (root directory) */
 11992              		.loc 1 5683 5
 11993 065c 3B6B     		ldr	r3, [r7, #48]
 11994 065e 0833     		adds	r3, r3, #8
 11995 0660 6FF07041 		mvn	r1, #-268435456
 11996 0664 1846     		mov	r0, r3
 11997 0666 FFF7FEFF 		bl	st_dword
 11998 066a 0BE0     		b	.L732
 11999              	.L731:
5684:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5685:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				st_dword(buf + 0, (fmt == FS_FAT12) ? 0xFFFFF8 : 0xFFFFFFF8);	/* Entry 0 and 1 */
 12000              		.loc 1 5685 5
 12001 066c 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 12002 0670 012B     		cmp	r3, #1
 12003 0672 01D1     		bne	.L733
 12004              		.loc 1 5685 5 is_stmt 0 discriminator 1
 12005 0674 214B     		ldr	r3, .L756+20
 12006 0676 01E0     		b	.L734
 12007              	.L733:
 12008              		.loc 1 5685 5 discriminator 2
 12009 0678 6FF00703 		mvn	r3, #7
 12010              	.L734:
 12011              		.loc 1 5685 5 discriminator 4
 12012 067c 1946     		mov	r1, r3
 12013 067e 386B     		ldr	r0, [r7, #48]
 12014 0680 FFF7FEFF 		bl	st_dword
 12015              	.L732:
5686:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5687:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			nsect = sz_fat;		/* Number of FAT sectors */
 12016              		.loc 1 5687 10 is_stmt 1
 12017 0684 BB6E     		ldr	r3, [r7, #104]
 12018 0686 3B66     		str	r3, [r7, #96]
 12019              	.L736:
5688:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			do {	/* Fill FAT sectors */
5689:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				n = (nsect > sz_buf) ? sz_buf : nsect;
 12020              		.loc 1 5689 7
 12021 0688 3A6E     		ldr	r2, [r7, #96]
ARM GAS  /tmp/cc5m2BsI.s 			page 312


 12022 068a FB6A     		ldr	r3, [r7, #44]
 12023 068c 9342     		cmp	r3, r2
 12024 068e 28BF     		it	cs
 12025 0690 1346     		movcs	r3, r2
 12026 0692 FB65     		str	r3, [r7, #92]
5690:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12027              		.loc 1 5690 9
 12028 0694 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 12029 0698 FB6D     		ldr	r3, [r7, #92]
 12030 069a 7A6E     		ldr	r2, [r7, #100]
 12031 069c 396B     		ldr	r1, [r7, #48]
 12032 069e FFF7FEFF 		bl	disk_write
 12033 06a2 0346     		mov	r3, r0
 12034              		.loc 1 5690 8
 12035 06a4 002B     		cmp	r3, #0
 12036 06a6 01D0     		beq	.L735
 12037              		.loc 1 5690 64 discriminator 1
 12038 06a8 0123     		movs	r3, #1
 12039 06aa CFE0     		b	.L749
 12040              	.L735:
5691:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(buf, 0, ss);
 12041              		.loc 1 5691 5
 12042 06ac FB8E     		ldrh	r3, [r7, #54]
 12043 06ae 1A46     		mov	r2, r3
 12044 06b0 0021     		movs	r1, #0
 12045 06b2 386B     		ldr	r0, [r7, #48]
 12046 06b4 FFF7FEFF 		bl	mem_set
5692:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sect += n; nsect -= n;
 12047              		.loc 1 5692 10
 12048 06b8 7A6E     		ldr	r2, [r7, #100]
 12049 06ba FB6D     		ldr	r3, [r7, #92]
 12050 06bc 1344     		add	r3, r3, r2
 12051 06be 7B66     		str	r3, [r7, #100]
 12052              		.loc 1 5692 22
 12053 06c0 3A6E     		ldr	r2, [r7, #96]
 12054 06c2 FB6D     		ldr	r3, [r7, #92]
 12055 06c4 D31A     		subs	r3, r2, r3
 12056 06c6 3B66     		str	r3, [r7, #96]
5693:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (nsect);
 12057              		.loc 1 5693 4
 12058 06c8 3B6E     		ldr	r3, [r7, #96]
 12059 06ca 002B     		cmp	r3, #0
 12060 06cc DCD1     		bne	.L736
5679:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12061              		.loc 1 5679 28 discriminator 2
 12062 06ce BB6C     		ldr	r3, [r7, #72]
 12063 06d0 0133     		adds	r3, r3, #1
 12064 06d2 BB64     		str	r3, [r7, #72]
 12065              	.L730:
5679:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fmt == FS_FAT32) {
 12066              		.loc 1 5679 3 discriminator 1
 12067 06d4 BA6C     		ldr	r2, [r7, #72]
 12068 06d6 7B6C     		ldr	r3, [r7, #68]
 12069 06d8 9A42     		cmp	r2, r3
 12070 06da AFD3     		bcc	.L737
5694:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5695:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 313


5696:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Initialize root directory (fill with zero) */
5697:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		nsect = (fmt == FS_FAT32) ? pau : sz_dir;	/* Number of root directory sectors */
 12071              		.loc 1 5697 35
 12072 06dc 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 12073 06e0 032B     		cmp	r3, #3
 12074 06e2 0DD1     		bne	.L738
 12075              		.loc 1 5697 35 is_stmt 0 discriminator 1
 12076 06e4 3B6D     		ldr	r3, [r7, #80]
 12077 06e6 0CE0     		b	.L739
 12078              	.L757:
 12079              		.align	2
 12080              	.L756:
 12081 06e8 14000000 		.word	.LC2
 12082 06ec 20000000 		.word	.LC3
 12083 06f0 34000000 		.word	.LC4
 12084 06f4 52526141 		.word	1096897106
 12085 06f8 72724161 		.word	1631679090
 12086 06fc F8FFFF00 		.word	16777208
 12087              	.L738:
 12088              		.loc 1 5697 35 discriminator 2
 12089 0700 FB6E     		ldr	r3, [r7, #108]
 12090              	.L739:
 12091              		.loc 1 5697 9 is_stmt 1 discriminator 4
 12092 0702 3B66     		str	r3, [r7, #96]
 12093              	.L741:
5698:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
5699:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (nsect > sz_buf) ? sz_buf : nsect;
 12094              		.loc 1 5699 6
 12095 0704 3A6E     		ldr	r2, [r7, #96]
 12096 0706 FB6A     		ldr	r3, [r7, #44]
 12097 0708 9342     		cmp	r3, r2
 12098 070a 28BF     		it	cs
 12099 070c 1346     		movcs	r3, r2
 12100 070e FB65     		str	r3, [r7, #92]
5700:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, sect, (UINT)n) != RES_OK) return FR_DISK_ERR;
 12101              		.loc 1 5700 8
 12102 0710 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 12103 0714 FB6D     		ldr	r3, [r7, #92]
 12104 0716 7A6E     		ldr	r2, [r7, #100]
 12105 0718 396B     		ldr	r1, [r7, #48]
 12106 071a FFF7FEFF 		bl	disk_write
 12107 071e 0346     		mov	r3, r0
 12108              		.loc 1 5700 7
 12109 0720 002B     		cmp	r3, #0
 12110 0722 01D0     		beq	.L740
 12111              		.loc 1 5700 63 discriminator 1
 12112 0724 0123     		movs	r3, #1
 12113 0726 91E0     		b	.L749
 12114              	.L740:
5701:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += n; nsect -= n;
 12115              		.loc 1 5701 9
 12116 0728 7A6E     		ldr	r2, [r7, #100]
 12117 072a FB6D     		ldr	r3, [r7, #92]
 12118 072c 1344     		add	r3, r3, r2
 12119 072e 7B66     		str	r3, [r7, #100]
 12120              		.loc 1 5701 21
 12121 0730 3A6E     		ldr	r2, [r7, #96]
ARM GAS  /tmp/cc5m2BsI.s 			page 314


 12122 0732 FB6D     		ldr	r3, [r7, #92]
 12123 0734 D31A     		subs	r3, r2, r3
 12124 0736 3B66     		str	r3, [r7, #96]
5702:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (nsect);
 12125              		.loc 1 5702 3
 12126 0738 3B6E     		ldr	r3, [r7, #96]
 12127 073a 002B     		cmp	r3, #0
 12128 073c E2D1     		bne	.L741
5703:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5704:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5705:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
5706:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_EXFAT && fmt == FS_EXFAT) {
5707:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x07;			/* HPFS/NTFS/exFAT */
5708:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5709:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT32) {
 12129              		.loc 1 5709 6
 12130 073e 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 12131 0742 032B     		cmp	r3, #3
 12132 0744 03D1     		bne	.L742
5710:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x0C;		/* FAT32X */
 12133              		.loc 1 5710 8
 12134 0746 0C23     		movs	r3, #12
 12135 0748 87F84E30 		strb	r3, [r7, #78]
 12136 074c 10E0     		b	.L743
 12137              	.L742:
5711:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5712:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (sz_vol >= 0x10000) {
 12138              		.loc 1 5712 15
 12139 074e 3B69     		ldr	r3, [r7, #16]
 12140              		.loc 1 5712 7
 12141 0750 B3F5803F 		cmp	r3, #65536
 12142 0754 03D3     		bcc	.L744
5713:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = 0x06;	/* FAT12/16 (>=64KS) */
 12143              		.loc 1 5713 9
 12144 0756 0623     		movs	r3, #6
 12145 0758 87F84E30 		strb	r3, [r7, #78]
 12146 075c 08E0     		b	.L743
 12147              	.L744:
5714:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5715:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				sys = (fmt == FS_FAT16) ? 0x04 : 0x01;	/* FAT16 (<64KS) : FAT12 (<64KS) */
 12148              		.loc 1 5715 9
 12149 075e 97F84F30 		ldrb	r3, [r7, #79]	@ zero_extendqisi2
 12150 0762 022B     		cmp	r3, #2
 12151 0764 01D1     		bne	.L745
 12152              		.loc 1 5715 9 is_stmt 0 discriminator 1
 12153 0766 0423     		movs	r3, #4
 12154 0768 00E0     		b	.L746
 12155              	.L745:
 12156              		.loc 1 5715 9 discriminator 2
 12157 076a 0123     		movs	r3, #1
 12158              	.L746:
 12159              		.loc 1 5715 9 discriminator 4
 12160 076c 87F84E30 		strb	r3, [r7, #78]
 12161              	.L743:
5716:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5717:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5718:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cc5m2BsI.s 			page 315


5719:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5720:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Update partition information */
5721:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part != 0) {	/* Created in the existing partition */
5722:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
5723:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Read the MBR */
5724:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		buf[MBR_Table + (part - 1) * SZ_PTE + PTE_System] = sys;		/* Set system ID */
5725:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it back to the MBR */
5726:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Created as a new single partition */
5727:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(opt & FM_SFD)) {	/* Create partition table if in FDISK format */
 12162              		.loc 1 5727 13 is_stmt 1
 12163 0770 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 12164 0772 03F00803 		and	r3, r3, #8
 12165              		.loc 1 5727 6
 12166 0776 002B     		cmp	r3, #0
 12167 0778 5BD1     		bne	.L747
5728:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(buf, 0, ss);
 12168              		.loc 1 5728 4
 12169 077a FB8E     		ldrh	r3, [r7, #54]
 12170 077c 1A46     		mov	r2, r3
 12171 077e 0021     		movs	r1, #0
 12172 0780 386B     		ldr	r0, [r7, #48]
 12173 0782 FFF7FEFF 		bl	mem_set
5729:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_word(buf + BS_55AA, 0xAA55);		/* MBR signature */
 12174              		.loc 1 5729 4
 12175 0786 3B6B     		ldr	r3, [r7, #48]
 12176 0788 03F5FF73 		add	r3, r3, #510
 12177 078c 4AF65521 		movw	r1, #43605
 12178 0790 1846     		mov	r0, r3
 12179 0792 FFF7FEFF 		bl	st_word
5730:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pte = buf + MBR_Table;				/* Create partition table for single partition in the drive */
 12180              		.loc 1 5730 8
 12181 0796 3B6B     		ldr	r3, [r7, #48]
 12182 0798 03F5DF73 		add	r3, r3, #446
 12183 079c BB61     		str	r3, [r7, #24]
5731:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_Boot] = 0;					/* Boot indicator */
 12184              		.loc 1 5731 18
 12185 079e BB69     		ldr	r3, [r7, #24]
 12186 07a0 0022     		movs	r2, #0
 12187 07a2 1A70     		strb	r2, [r3]
5732:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StHead] = 1;				/* Start head */
 12188              		.loc 1 5732 7
 12189 07a4 BB69     		ldr	r3, [r7, #24]
 12190 07a6 0133     		adds	r3, r3, #1
 12191              		.loc 1 5732 20
 12192 07a8 0122     		movs	r2, #1
 12193 07aa 1A70     		strb	r2, [r3]
5733:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StSec] = 1;					/* Start sector */
 12194              		.loc 1 5733 7
 12195 07ac BB69     		ldr	r3, [r7, #24]
 12196 07ae 0233     		adds	r3, r3, #2
 12197              		.loc 1 5733 19
 12198 07b0 0122     		movs	r2, #1
 12199 07b2 1A70     		strb	r2, [r3]
5734:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_StCyl] = 0;					/* Start cylinder */
 12200              		.loc 1 5734 7
 12201 07b4 BB69     		ldr	r3, [r7, #24]
 12202 07b6 0333     		adds	r3, r3, #3
ARM GAS  /tmp/cc5m2BsI.s 			page 316


 12203              		.loc 1 5734 19
 12204 07b8 0022     		movs	r2, #0
 12205 07ba 1A70     		strb	r2, [r3]
5735:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_System] = sys;				/* System type */
 12206              		.loc 1 5735 7
 12207 07bc BB69     		ldr	r3, [r7, #24]
 12208 07be 0433     		adds	r3, r3, #4
 12209              		.loc 1 5735 20
 12210 07c0 97F84E20 		ldrb	r2, [r7, #78]
 12211 07c4 1A70     		strb	r2, [r3]
5736:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + sz_vol) / (63 * 255);	/* (End CHS may be invalid) */
 12212              		.loc 1 5736 15
 12213 07c6 3A69     		ldr	r2, [r7, #16]
 12214 07c8 7B6A     		ldr	r3, [r7, #36]
 12215 07ca 1A44     		add	r2, r2, r3
 12216              		.loc 1 5736 6
 12217 07cc 214B     		ldr	r3, .L758
 12218 07ce A3FB0213 		umull	r1, r3, r3, r2
 12219 07d2 D21A     		subs	r2, r2, r3
 12220 07d4 5208     		lsrs	r2, r2, #1
 12221 07d6 1344     		add	r3, r3, r2
 12222 07d8 5B0B     		lsrs	r3, r3, #13
 12223 07da FB65     		str	r3, [r7, #92]
5737:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdHead] = 254;				/* End head */
 12224              		.loc 1 5737 7
 12225 07dc BB69     		ldr	r3, [r7, #24]
 12226 07de 0533     		adds	r3, r3, #5
 12227              		.loc 1 5737 20
 12228 07e0 FE22     		movs	r2, #254
 12229 07e2 1A70     		strb	r2, [r3]
5738:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdSec] = (BYTE)(n >> 2 | 63);	/* End sector */
 12230              		.loc 1 5738 30
 12231 07e4 FB6D     		ldr	r3, [r7, #92]
 12232 07e6 9B08     		lsrs	r3, r3, #2
 12233              		.loc 1 5738 21
 12234 07e8 DAB2     		uxtb	r2, r3
 12235              		.loc 1 5738 7
 12236 07ea BB69     		ldr	r3, [r7, #24]
 12237 07ec 0633     		adds	r3, r3, #6
 12238              		.loc 1 5738 21
 12239 07ee 42F03F02 		orr	r2, r2, #63
 12240 07f2 D2B2     		uxtb	r2, r2
 12241              		.loc 1 5738 19
 12242 07f4 1A70     		strb	r2, [r3]
5739:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pte[PTE_EdCyl] = (BYTE)n;			/* End cylinder */
 12243              		.loc 1 5739 7
 12244 07f6 BB69     		ldr	r3, [r7, #24]
 12245 07f8 0733     		adds	r3, r3, #7
 12246              		.loc 1 5739 21
 12247 07fa FA6D     		ldr	r2, [r7, #92]
 12248 07fc D2B2     		uxtb	r2, r2
 12249              		.loc 1 5739 19
 12250 07fe 1A70     		strb	r2, [r3]
5740:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_StLba, b_vol);	/* Start offset in LBA */
 12251              		.loc 1 5740 4
 12252 0800 BB69     		ldr	r3, [r7, #24]
 12253 0802 0833     		adds	r3, r3, #8
ARM GAS  /tmp/cc5m2BsI.s 			page 317


 12254 0804 796A     		ldr	r1, [r7, #36]
 12255 0806 1846     		mov	r0, r3
 12256 0808 FFF7FEFF 		bl	st_dword
5741:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			st_dword(pte + PTE_SizLba, sz_vol);	/* Size in sectors */
 12257              		.loc 1 5741 4
 12258 080c BB69     		ldr	r3, [r7, #24]
 12259 080e 0C33     		adds	r3, r3, #12
 12260 0810 3A69     		ldr	r2, [r7, #16]
 12261 0812 1146     		mov	r1, r2
 12262 0814 1846     		mov	r0, r3
 12263 0816 FFF7FEFF 		bl	st_dword
5742:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, buf, 0, 1) != RES_OK) return FR_DISK_ERR;	/* Write it to the MBR */
 12264              		.loc 1 5742 8
 12265 081a 97F83B00 		ldrb	r0, [r7, #59]	@ zero_extendqisi2
 12266 081e 0123     		movs	r3, #1
 12267 0820 0022     		movs	r2, #0
 12268 0822 396B     		ldr	r1, [r7, #48]
 12269 0824 FFF7FEFF 		bl	disk_write
 12270 0828 0346     		mov	r3, r0
 12271              		.loc 1 5742 7
 12272 082a 002B     		cmp	r3, #0
 12273 082c 01D0     		beq	.L747
 12274              		.loc 1 5742 54 discriminator 1
 12275 082e 0123     		movs	r3, #1
 12276 0830 0CE0     		b	.L749
 12277              	.L747:
5743:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5744:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5745:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5746:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) return FR_DISK_ERR;
 12278              		.loc 1 5746 6
 12279 0832 97F83B30 		ldrb	r3, [r7, #59]	@ zero_extendqisi2
 12280 0836 0022     		movs	r2, #0
 12281 0838 0021     		movs	r1, #0
 12282 083a 1846     		mov	r0, r3
 12283 083c FFF7FEFF 		bl	disk_ioctl
 12284 0840 0346     		mov	r3, r0
 12285              		.loc 1 5746 5
 12286 0842 002B     		cmp	r3, #0
 12287 0844 01D0     		beq	.L748
 12288              		.loc 1 5746 55 discriminator 1
 12289 0846 0123     		movs	r3, #1
 12290 0848 00E0     		b	.L749
 12291              	.L748:
5747:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5748:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
 12292              		.loc 1 5748 9
 12293 084a 0023     		movs	r3, #0
 12294              	.L749:
5749:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 12295              		.loc 1 5749 1 discriminator 1
 12296 084c 1846     		mov	r0, r3
 12297 084e 7437     		adds	r7, r7, #116
 12298              		.cfi_def_cfa_offset 12
 12299 0850 BD46     		mov	sp, r7
 12300              		.cfi_def_cfa_register 13
 12301              		@ sp needed
ARM GAS  /tmp/cc5m2BsI.s 			page 318


 12302 0852 90BD     		pop	{r4, r7, pc}
 12303              	.L759:
 12304              		.align	2
 12305              	.L758:
 12306 0854 5B561505 		.word	85284443
 12307              		.cfi_endproc
 12308              	.LFE374:
 12310              		.section	.text.f_gets,"ax",%progbits
 12311              		.align	1
 12312              		.global	f_gets
 12313              		.syntax unified
 12314              		.thumb
 12315              		.thumb_func
 12316              		.fpu fpv5-d16
 12318              	f_gets:
 12319              	.LFB375:
5750:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5751:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5752:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5753:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
5754:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5755:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
5756:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5757:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5758:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
5759:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
5760:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD* szt,	/* Pointer to the size table for each partitions */
5761:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
5762:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
5763:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
5764:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
5765:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
5766:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
5767:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
5768:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5769:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5770:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
5771:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
5772:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
5773:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
5774:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5775:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the CHS without any consideration of the drive geometry */
5776:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
5777:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
5778:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
5779:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
5780:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
5781:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5782:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
5783:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
5784:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
5785:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
5786:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;	/* Number of cylinder
5787:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
5788:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
5789:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
5790:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
ARM GAS  /tmp/cc5m2BsI.s 			page 319


5791:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
5792:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
5793:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
5794:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
5795:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5796:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;	/* End cylinder */
5797:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
5798:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5799:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
5800:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
5801:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
5802:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
5803:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x07;						/* System type (temporary setting) */
5804:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
5805:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
5806:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
5807:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 8, s_part);			/* Start sector in LBA */
5808:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		st_dword(p + 12, sz_part);			/* Number of sectors */
5809:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5810:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
5811:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
5812:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5813:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	st_word(p, 0xAA55);
5814:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5815:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
5816:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
5817:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
5818:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5819:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
5820:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
5821:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5822:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5823:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5824:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5825:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
5826:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5827:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
5828:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5829:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5830:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
5831:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
5832:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
5833:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
5834:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
5835:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 12320              		.loc 1 5835 1
 12321              		.cfi_startproc
 12322              		@ args = 0, pretend = 0, frame = 32
 12323              		@ frame_needed = 1, uses_anonymous_args = 0
 12324 0000 80B5     		push	{r7, lr}
 12325              		.cfi_def_cfa_offset 8
 12326              		.cfi_offset 7, -8
 12327              		.cfi_offset 14, -4
 12328 0002 88B0     		sub	sp, sp, #32
 12329              		.cfi_def_cfa_offset 40
 12330 0004 00AF     		add	r7, sp, #0
 12331              		.cfi_def_cfa_register 7
ARM GAS  /tmp/cc5m2BsI.s 			page 320


 12332 0006 F860     		str	r0, [r7, #12]
 12333 0008 B960     		str	r1, [r7, #8]
 12334 000a 7A60     		str	r2, [r7, #4]
5836:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 12335              		.loc 1 5836 6
 12336 000c 0023     		movs	r3, #0
 12337 000e FB61     		str	r3, [r7, #28]
5837:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 12338              		.loc 1 5837 12
 12339 0010 FB68     		ldr	r3, [r7, #12]
 12340 0012 BB61     		str	r3, [r7, #24]
5838:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
5839:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
5840:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5841:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5842:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
 12341              		.loc 1 5842 8
 12342 0014 1BE0     		b	.L761
 12343              	.L765:
5843:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5844:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
5845:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5846:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5847:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5848:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
5849:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
5850:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence (0x80-0x7FF) */
5851:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
5852:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
5853:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
5854:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';	/* Reject invalid code range */
5855:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
5856:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence (0x800-0xFFFF) */
5857:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
5858:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
5859:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
5860:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';	/* Reject invalid code range */
5861:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
5862:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
5863:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				}
5864:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
5865:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5866:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
5867:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5868:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5869:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
5870:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
5871:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
5872:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
5873:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
5874:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
5875:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
5876:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
5877:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
5878:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
5879:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
5880:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
ARM GAS  /tmp/cc5m2BsI.s 			page 321


5881:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
5882:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5883:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
5884:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
5885:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5886:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
5887:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
 12344              		.loc 1 5887 3
 12345 0016 07F11003 		add	r3, r7, #16
 12346 001a 07F11401 		add	r1, r7, #20
 12347 001e 0122     		movs	r2, #1
 12348 0020 7868     		ldr	r0, [r7, #4]
 12349 0022 FFF7FEFF 		bl	f_read
5888:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 12350              		.loc 1 5888 10
 12351 0026 3B69     		ldr	r3, [r7, #16]
 12352              		.loc 1 5888 6
 12353 0028 012B     		cmp	r3, #1
 12354 002a 16D1     		bne	.L769
5889:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12355              		.loc 1 5889 5
 12356 002c 3B7D     		ldrb	r3, [r7, #20]
 12357 002e FB75     		strb	r3, [r7, #23]
5890:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5891:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
 12358              		.loc 1 5891 6
 12359 0030 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 12360 0032 0D2B     		cmp	r3, #13
 12361 0034 00D1     		bne	.L764
 12362              		.loc 1 5891 3 discriminator 1
 12363 0036 0AE0     		b	.L761
 12364              	.L764:
5892:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 12365              		.loc 1 5892 5
 12366 0038 BB69     		ldr	r3, [r7, #24]
 12367 003a 5A1C     		adds	r2, r3, #1
 12368 003c BA61     		str	r2, [r7, #24]
 12369              		.loc 1 5892 8
 12370 003e FA7D     		ldrb	r2, [r7, #23]
 12371 0040 1A70     		strb	r2, [r3]
5893:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 12372              		.loc 1 5893 4
 12373 0042 FB69     		ldr	r3, [r7, #28]
 12374 0044 0133     		adds	r3, r3, #1
 12375 0046 FB61     		str	r3, [r7, #28]
5894:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 12376              		.loc 1 5894 6
 12377 0048 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 12378 004a 0A2B     		cmp	r3, #10
 12379 004c 07D0     		beq	.L770
 12380              	.L761:
5842:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12381              		.loc 1 5842 17
 12382 004e BB68     		ldr	r3, [r7, #8]
 12383 0050 013B     		subs	r3, r3, #1
5842:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
 12384              		.loc 1 5842 8
ARM GAS  /tmp/cc5m2BsI.s 			page 322


 12385 0052 FA69     		ldr	r2, [r7, #28]
 12386 0054 9A42     		cmp	r2, r3
 12387 0056 DEDB     		blt	.L765
 12388 0058 02E0     		b	.L763
 12389              	.L769:
5888:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 12390              		.loc 1 5888 3
 12391 005a 00BF     		nop
 12392 005c 00E0     		b	.L763
 12393              	.L770:
 12394              		.loc 1 5894 3
 12395 005e 00BF     		nop
 12396              	.L763:
5895:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5896:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
 12397              		.loc 1 5896 5
 12398 0060 BB69     		ldr	r3, [r7, #24]
 12399 0062 0022     		movs	r2, #0
 12400 0064 1A70     		strb	r2, [r3]
5897:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 12401              		.loc 1 5897 18
 12402 0066 FB69     		ldr	r3, [r7, #28]
 12403 0068 002B     		cmp	r3, #0
 12404 006a 01D0     		beq	.L766
 12405              		.loc 1 5897 18 is_stmt 0 discriminator 1
 12406 006c FB68     		ldr	r3, [r7, #12]
 12407 006e 00E0     		b	.L768
 12408              	.L766:
 12409              		.loc 1 5897 18 discriminator 2
 12410 0070 0023     		movs	r3, #0
 12411              	.L768:
5898:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 12412              		.loc 1 5898 1 is_stmt 1
 12413 0072 1846     		mov	r0, r3
 12414 0074 2037     		adds	r7, r7, #32
 12415              		.cfi_def_cfa_offset 8
 12416 0076 BD46     		mov	sp, r7
 12417              		.cfi_def_cfa_register 13
 12418              		@ sp needed
 12419 0078 80BD     		pop	{r7, pc}
 12420              		.cfi_endproc
 12421              	.LFE375:
 12423              		.section	.text.putc_bfd,"ax",%progbits
 12424              		.align	1
 12425              		.syntax unified
 12426              		.thumb
 12427              		.thumb_func
 12428              		.fpu fpv5-d16
 12430              	putc_bfd:
 12431              	.LFB376:
5899:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5900:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5901:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5902:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5903:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
5904:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
5905:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc5m2BsI.s 			page 323


5906:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
5907:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
5908:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5909:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
5910:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp;		/* Ptr to the writing file */
5911:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;	/* Write index of buf[] (-1:error), number of chars written */
5912:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];	/* Write buffer */
5913:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
5914:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5915:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5916:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
5917:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (		/* Buffered write with code conversion */
5918:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5919:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
5920:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
5921:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 12432              		.loc 1 5921 1
 12433              		.cfi_startproc
 12434              		@ args = 0, pretend = 0, frame = 16
 12435              		@ frame_needed = 1, uses_anonymous_args = 0
 12436 0000 80B5     		push	{r7, lr}
 12437              		.cfi_def_cfa_offset 8
 12438              		.cfi_offset 7, -8
 12439              		.cfi_offset 14, -4
 12440 0002 84B0     		sub	sp, sp, #16
 12441              		.cfi_def_cfa_offset 24
 12442 0004 00AF     		add	r7, sp, #0
 12443              		.cfi_def_cfa_register 7
 12444 0006 7860     		str	r0, [r7, #4]
 12445 0008 0B46     		mov	r3, r1
 12446 000a FB70     		strb	r3, [r7, #3]
5922:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
5923:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
5924:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5925:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5926:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n') {	 /* LF -> CRLF conversion */
 12447              		.loc 1 5926 5
 12448 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 12449 000e 0A2B     		cmp	r3, #10
 12450 0010 03D1     		bne	.L772
5927:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
 12451              		.loc 1 5927 3
 12452 0012 0D21     		movs	r1, #13
 12453 0014 7868     		ldr	r0, [r7, #4]
 12454 0016 FFF7F3FF 		bl	putc_bfd
 12455              	.L772:
5928:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5929:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5930:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;		/* Write index of pb->buf[] */
 12456              		.loc 1 5930 4
 12457 001a 7B68     		ldr	r3, [r7, #4]
 12458 001c 5B68     		ldr	r3, [r3, #4]
 12459 001e FB60     		str	r3, [r7, #12]
5931:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 12460              		.loc 1 5931 5
 12461 0020 FB68     		ldr	r3, [r7, #12]
 12462 0022 002B     		cmp	r3, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 324


 12463 0024 25DB     		blt	.L778
5932:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5933:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
5934:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
5935:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
5936:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
5937:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
5938:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
5939:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
5940:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
5941:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
5942:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
5943:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
5944:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
5945:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5946:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
5947:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5948:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5949:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
5950:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5951:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
5952:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
5953:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
5954:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
5955:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
5956:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
5957:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
5958:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5959:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
5960:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
 12464              		.loc 1 5960 11
 12465 0026 FB68     		ldr	r3, [r7, #12]
 12466 0028 5A1C     		adds	r2, r3, #1
 12467 002a FA60     		str	r2, [r7, #12]
 12468              		.loc 1 5960 15
 12469 002c 7A68     		ldr	r2, [r7, #4]
 12470 002e 1344     		add	r3, r3, r2
 12471 0030 FA78     		ldrb	r2, [r7, #3]
 12472 0032 1A73     		strb	r2, [r3, #12]
5961:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** #endif
5962:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5963:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
 12473              		.loc 1 5963 5
 12474 0034 FB68     		ldr	r3, [r7, #12]
 12475 0036 3C2B     		cmp	r3, #60
 12476 0038 12DD     		ble	.L775
5964:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
 12477              		.loc 1 5964 3
 12478 003a 7B68     		ldr	r3, [r7, #4]
 12479 003c 1868     		ldr	r0, [r3]
 12480              		.loc 1 5964 21
 12481 003e 7B68     		ldr	r3, [r7, #4]
 12482 0040 03F10C01 		add	r1, r3, #12
 12483              		.loc 1 5964 3
 12484 0044 FA68     		ldr	r2, [r7, #12]
 12485 0046 07F10803 		add	r3, r7, #8
 12486 004a FFF7FEFF 		bl	f_write
ARM GAS  /tmp/cc5m2BsI.s 			page 325


5965:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 12487              		.loc 1 5965 11
 12488 004e BA68     		ldr	r2, [r7, #8]
 12489              		.loc 1 5965 14
 12490 0050 FB68     		ldr	r3, [r7, #12]
 12491              		.loc 1 5965 27
 12492 0052 9A42     		cmp	r2, r3
 12493 0054 01D1     		bne	.L776
 12494              		.loc 1 5965 27 is_stmt 0 discriminator 1
 12495 0056 0023     		movs	r3, #0
 12496 0058 01E0     		b	.L777
 12497              	.L776:
 12498              		.loc 1 5965 27 discriminator 2
 12499 005a 4FF0FF33 		mov	r3, #-1
 12500              	.L777:
 12501              		.loc 1 5965 5 is_stmt 1 discriminator 4
 12502 005e FB60     		str	r3, [r7, #12]
 12503              	.L775:
5966:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
5967:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
 12504              		.loc 1 5967 10
 12505 0060 7B68     		ldr	r3, [r7, #4]
 12506 0062 FA68     		ldr	r2, [r7, #12]
 12507 0064 5A60     		str	r2, [r3, #4]
5968:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 12508              		.loc 1 5968 4
 12509 0066 7B68     		ldr	r3, [r7, #4]
 12510 0068 9B68     		ldr	r3, [r3, #8]
 12511              		.loc 1 5968 10
 12512 006a 5A1C     		adds	r2, r3, #1
 12513 006c 7B68     		ldr	r3, [r7, #4]
 12514 006e 9A60     		str	r2, [r3, #8]
 12515 0070 00E0     		b	.L771
 12516              	.L778:
5931:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
 12517              		.loc 1 5931 13
 12518 0072 00BF     		nop
 12519              	.L771:
5969:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 12520              		.loc 1 5969 1
 12521 0074 1037     		adds	r7, r7, #16
 12522              		.cfi_def_cfa_offset 8
 12523 0076 BD46     		mov	sp, r7
 12524              		.cfi_def_cfa_register 13
 12525              		@ sp needed
 12526 0078 80BD     		pop	{r7, pc}
 12527              		.cfi_endproc
 12528              	.LFE376:
 12530              		.section	.text.putc_flush,"ax",%progbits
 12531              		.align	1
 12532              		.syntax unified
 12533              		.thumb
 12534              		.thumb_func
 12535              		.fpu fpv5-d16
 12537              	putc_flush:
 12538              	.LFB377:
5970:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc5m2BsI.s 			page 326


5971:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5972:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
5973:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int putc_flush (		/* Flush left characters in the buffer */
5974:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb
5975:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
5976:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 12539              		.loc 1 5976 1
 12540              		.cfi_startproc
 12541              		@ args = 0, pretend = 0, frame = 16
 12542              		@ frame_needed = 1, uses_anonymous_args = 0
 12543 0000 80B5     		push	{r7, lr}
 12544              		.cfi_def_cfa_offset 8
 12545              		.cfi_offset 7, -8
 12546              		.cfi_offset 14, -4
 12547 0002 84B0     		sub	sp, sp, #16
 12548              		.cfi_def_cfa_offset 24
 12549 0004 00AF     		add	r7, sp, #0
 12550              		.cfi_def_cfa_register 7
 12551 0006 7860     		str	r0, [r7, #4]
5977:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
5978:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5979:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb->idx >= 0	/* Flush buffered characters to the file */
 12552              		.loc 1 5979 11
 12553 0008 7B68     		ldr	r3, [r7, #4]
 12554 000a 5B68     		ldr	r3, [r3, #4]
 12555              		.loc 1 5979 5
 12556 000c 002B     		cmp	r3, #0
 12557 000e 16DB     		blt	.L780
5980:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb->fp, pb->buf, (UINT)pb->idx, &nw) == FR_OK
 12558              		.loc 1 5980 6
 12559 0010 7B68     		ldr	r3, [r7, #4]
 12560 0012 1868     		ldr	r0, [r3]
 12561              		.loc 1 5980 24
 12562 0014 7B68     		ldr	r3, [r7, #4]
 12563 0016 03F10C01 		add	r1, r3, #12
 12564              		.loc 1 5980 39
 12565 001a 7B68     		ldr	r3, [r7, #4]
 12566 001c 5B68     		ldr	r3, [r3, #4]
 12567              		.loc 1 5980 6
 12568 001e 1A46     		mov	r2, r3
 12569 0020 07F10C03 		add	r3, r7, #12
 12570 0024 FFF7FEFF 		bl	f_write
 12571 0028 0346     		mov	r3, r0
 12572              		.loc 1 5980 3
 12573 002a 002B     		cmp	r3, #0
 12574 002c 07D1     		bne	.L780
5981:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb->idx == nw) return pb->nchr;
 12575              		.loc 1 5981 14
 12576 002e 7B68     		ldr	r3, [r7, #4]
 12577 0030 5B68     		ldr	r3, [r3, #4]
 12578              		.loc 1 5981 20
 12579 0032 FA68     		ldr	r2, [r7, #12]
 12580              		.loc 1 5981 3
 12581 0034 9342     		cmp	r3, r2
 12582 0036 02D1     		bne	.L780
 12583              		.loc 1 5981 36 discriminator 1
 12584 0038 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/cc5m2BsI.s 			page 327


 12585 003a 9B68     		ldr	r3, [r3, #8]
 12586 003c 01E0     		b	.L782
 12587              	.L780:
5982:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 12588              		.loc 1 5982 9
 12589 003e 4FF0FF33 		mov	r3, #-1
 12590              	.L782:
5983:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 12591              		.loc 1 5983 1 discriminator 1
 12592 0042 1846     		mov	r0, r3
 12593 0044 1037     		adds	r7, r7, #16
 12594              		.cfi_def_cfa_offset 8
 12595 0046 BD46     		mov	sp, r7
 12596              		.cfi_def_cfa_register 13
 12597              		@ sp needed
 12598 0048 80BD     		pop	{r7, pc}
 12599              		.cfi_endproc
 12600              	.LFE377:
 12602              		.section	.text.putc_init,"ax",%progbits
 12603              		.align	1
 12604              		.syntax unified
 12605              		.thumb
 12606              		.thumb_func
 12607              		.fpu fpv5-d16
 12609              	putc_init:
 12610              	.LFB378:
5984:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5985:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5986:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** static
5987:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** void putc_init (		/* Initialize write buffer */
5988:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
5989:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp
5990:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
5991:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 12611              		.loc 1 5991 1
 12612              		.cfi_startproc
 12613              		@ args = 0, pretend = 0, frame = 8
 12614              		@ frame_needed = 1, uses_anonymous_args = 0
 12615              		@ link register save eliminated.
 12616 0000 80B4     		push	{r7}
 12617              		.cfi_def_cfa_offset 4
 12618              		.cfi_offset 7, -4
 12619 0002 83B0     		sub	sp, sp, #12
 12620              		.cfi_def_cfa_offset 16
 12621 0004 00AF     		add	r7, sp, #0
 12622              		.cfi_def_cfa_register 7
 12623 0006 7860     		str	r0, [r7, #4]
 12624 0008 3960     		str	r1, [r7]
5992:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->fp = fp;
 12625              		.loc 1 5992 9
 12626 000a 7B68     		ldr	r3, [r7, #4]
 12627 000c 3A68     		ldr	r2, [r7]
 12628 000e 1A60     		str	r2, [r3]
5993:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr = pb->idx = 0;
 12629              		.loc 1 5993 21
 12630 0010 7B68     		ldr	r3, [r7, #4]
 12631 0012 0022     		movs	r2, #0
ARM GAS  /tmp/cc5m2BsI.s 			page 328


 12632 0014 5A60     		str	r2, [r3, #4]
 12633              		.loc 1 5993 15
 12634 0016 7B68     		ldr	r3, [r7, #4]
 12635 0018 5A68     		ldr	r2, [r3, #4]
 12636              		.loc 1 5993 11
 12637 001a 7B68     		ldr	r3, [r7, #4]
 12638 001c 9A60     		str	r2, [r3, #8]
5994:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 12639              		.loc 1 5994 1
 12640 001e 00BF     		nop
 12641 0020 0C37     		adds	r7, r7, #12
 12642              		.cfi_def_cfa_offset 4
 12643 0022 BD46     		mov	sp, r7
 12644              		.cfi_def_cfa_register 13
 12645              		@ sp needed
 12646 0024 5DF8047B 		ldr	r7, [sp], #4
 12647              		.cfi_restore 7
 12648              		.cfi_def_cfa_offset 0
 12649 0028 7047     		bx	lr
 12650              		.cfi_endproc
 12651              	.LFE378:
 12653              		.section	.text.f_putc,"ax",%progbits
 12654              		.align	1
 12655              		.global	f_putc
 12656              		.syntax unified
 12657              		.thumb
 12658              		.thumb_func
 12659              		.fpu fpv5-d16
 12661              	f_putc:
 12662              	.LFB379:
5995:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5996:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5997:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
5998:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
5999:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
6000:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
6001:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
6002:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 12663              		.loc 1 6002 1
 12664              		.cfi_startproc
 12665              		@ args = 0, pretend = 0, frame = 88
 12666              		@ frame_needed = 1, uses_anonymous_args = 0
 12667 0000 80B5     		push	{r7, lr}
 12668              		.cfi_def_cfa_offset 8
 12669              		.cfi_offset 7, -8
 12670              		.cfi_offset 14, -4
 12671 0002 96B0     		sub	sp, sp, #88
 12672              		.cfi_def_cfa_offset 96
 12673 0004 00AF     		add	r7, sp, #0
 12674              		.cfi_def_cfa_register 7
 12675 0006 0346     		mov	r3, r0
 12676 0008 3960     		str	r1, [r7]
 12677 000a FB71     		strb	r3, [r7, #7]
6003:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
6004:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6005:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6006:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
ARM GAS  /tmp/cc5m2BsI.s 			page 329


 12678              		.loc 1 6006 2
 12679 000c 07F10C03 		add	r3, r7, #12
 12680 0010 3968     		ldr	r1, [r7]
 12681 0012 1846     		mov	r0, r3
 12682 0014 FFF7FEFF 		bl	putc_init
6007:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put the character */
 12683              		.loc 1 6007 2
 12684 0018 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 12685 001a 07F10C03 		add	r3, r7, #12
 12686 001e 1146     		mov	r1, r2
 12687 0020 1846     		mov	r0, r3
 12688 0022 FFF7FEFF 		bl	putc_bfd
6008:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 12689              		.loc 1 6008 9
 12690 0026 07F10C03 		add	r3, r7, #12
 12691 002a 1846     		mov	r0, r3
 12692 002c FFF7FEFF 		bl	putc_flush
 12693 0030 0346     		mov	r3, r0
6009:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 12694              		.loc 1 6009 1
 12695 0032 1846     		mov	r0, r3
 12696 0034 5837     		adds	r7, r7, #88
 12697              		.cfi_def_cfa_offset 8
 12698 0036 BD46     		mov	sp, r7
 12699              		.cfi_def_cfa_register 13
 12700              		@ sp needed
 12701 0038 80BD     		pop	{r7, pc}
 12702              		.cfi_endproc
 12703              	.LFE379:
 12705              		.section	.text.f_puts,"ax",%progbits
 12706              		.align	1
 12707              		.global	f_puts
 12708              		.syntax unified
 12709              		.thumb
 12710              		.thumb_func
 12711              		.fpu fpv5-d16
 12713              	f_puts:
 12714              	.LFB380:
6010:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6011:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6012:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6013:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6014:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6015:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
6016:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6017:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6018:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
6019:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
6020:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
6021:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
6022:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 12715              		.loc 1 6022 1
 12716              		.cfi_startproc
 12717              		@ args = 0, pretend = 0, frame = 88
 12718              		@ frame_needed = 1, uses_anonymous_args = 0
 12719 0000 80B5     		push	{r7, lr}
 12720              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/cc5m2BsI.s 			page 330


 12721              		.cfi_offset 7, -8
 12722              		.cfi_offset 14, -4
 12723 0002 96B0     		sub	sp, sp, #88
 12724              		.cfi_def_cfa_offset 96
 12725 0004 00AF     		add	r7, sp, #0
 12726              		.cfi_def_cfa_register 7
 12727 0006 7860     		str	r0, [r7, #4]
 12728 0008 3960     		str	r1, [r7]
6023:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
6024:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6025:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6026:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 12729              		.loc 1 6026 2
 12730 000a 07F10C03 		add	r3, r7, #12
 12731 000e 3968     		ldr	r1, [r7]
 12732 0010 1846     		mov	r0, r3
 12733 0012 FFF7FEFF 		bl	putc_init
6027:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str) putc_bfd(&pb, *str++);		/* Put the string */
 12734              		.loc 1 6027 8
 12735 0016 09E0     		b	.L787
 12736              	.L788:
 12737              		.loc 1 6027 33 discriminator 2
 12738 0018 7B68     		ldr	r3, [r7, #4]
 12739 001a 5A1C     		adds	r2, r3, #1
 12740 001c 7A60     		str	r2, [r7, #4]
 12741              		.loc 1 6027 15 discriminator 2
 12742 001e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 12743 0020 07F10C03 		add	r3, r7, #12
 12744 0024 1146     		mov	r1, r2
 12745 0026 1846     		mov	r0, r3
 12746 0028 FFF7FEFF 		bl	putc_bfd
 12747              	.L787:
 12748              		.loc 1 6027 9 discriminator 1
 12749 002c 7B68     		ldr	r3, [r7, #4]
 12750 002e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 12751              		.loc 1 6027 8 discriminator 1
 12752 0030 002B     		cmp	r3, #0
 12753 0032 F1D1     		bne	.L788
6028:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 12754              		.loc 1 6028 9
 12755 0034 07F10C03 		add	r3, r7, #12
 12756 0038 1846     		mov	r0, r3
 12757 003a FFF7FEFF 		bl	putc_flush
 12758 003e 0346     		mov	r3, r0
6029:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 12759              		.loc 1 6029 1
 12760 0040 1846     		mov	r0, r3
 12761 0042 5837     		adds	r7, r7, #88
 12762              		.cfi_def_cfa_offset 8
 12763 0044 BD46     		mov	sp, r7
 12764              		.cfi_def_cfa_register 13
 12765              		@ sp needed
 12766 0046 80BD     		pop	{r7, pc}
 12767              		.cfi_endproc
 12768              	.LFE380:
 12770              		.section	.text.f_printf,"ax",%progbits
 12771              		.align	1
ARM GAS  /tmp/cc5m2BsI.s 			page 331


 12772              		.global	f_printf
 12773              		.syntax unified
 12774              		.thumb
 12775              		.thumb_func
 12776              		.fpu fpv5-d16
 12778              	f_printf:
 12779              	.LFB381:
6030:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6031:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6032:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6033:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6034:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6035:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
6036:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
6037:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6038:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
6039:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
6040:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
6041:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
6042:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** )
6043:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** {
 12780              		.loc 1 6043 1
 12781              		.cfi_startproc
 12782              		@ args = 4, pretend = 12, frame = 152
 12783              		@ frame_needed = 1, uses_anonymous_args = 1
 12784 0000 0EB4     		push	{r1, r2, r3}
 12785              		.cfi_def_cfa_offset 12
 12786              		.cfi_offset 1, -12
 12787              		.cfi_offset 2, -8
 12788              		.cfi_offset 3, -4
 12789 0002 80B5     		push	{r7, lr}
 12790              		.cfi_def_cfa_offset 20
 12791              		.cfi_offset 7, -20
 12792              		.cfi_offset 14, -16
 12793 0004 A7B0     		sub	sp, sp, #156
 12794              		.cfi_def_cfa_offset 176
 12795 0006 00AF     		add	r7, sp, #0
 12796              		.cfi_def_cfa_register 7
 12797 0008 7860     		str	r0, [r7, #4]
6044:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
6045:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
6046:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
6047:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, w;
6048:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
6049:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, str[32], *p;
6050:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6051:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6052:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_init(&pb, fp);
 12798              		.loc 1 6052 2
 12799 000a 07F12C03 		add	r3, r7, #44
 12800 000e 7968     		ldr	r1, [r7, #4]
 12801 0010 1846     		mov	r0, r3
 12802 0012 FFF7FEFF 		bl	putc_init
6053:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6054:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 12803              		.loc 1 6054 2
 12804 0016 07F1A803 		add	r3, r7, #168
ARM GAS  /tmp/cc5m2BsI.s 			page 332


 12805 001a BB67     		str	r3, [r7, #120]
 12806              	.L841:
6055:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6056:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
6057:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 12807              		.loc 1 6057 11
 12808 001c D7F8A430 		ldr	r3, [r7, #164]
 12809 0020 5A1C     		adds	r2, r3, #1
 12810 0022 C7F8A420 		str	r2, [r7, #164]
 12811              		.loc 1 6057 5
 12812 0026 1B78     		ldrb	r3, [r3]
 12813 0028 87F88330 		strb	r3, [r7, #131]
6058:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 12814              		.loc 1 6058 6
 12815 002c 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 12816 0030 002B     		cmp	r3, #0
 12817 0032 00F0F481 		beq	.L843
6059:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 12818              		.loc 1 6059 6
 12819 0036 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 12820 003a 252B     		cmp	r3, #37
 12821 003c 08D0     		beq	.L793
6060:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 12822              		.loc 1 6060 4
 12823 003e 97F88320 		ldrb	r2, [r7, #131]	@ zero_extendqisi2
 12824 0042 07F12C03 		add	r3, r7, #44
 12825 0046 1146     		mov	r1, r2
 12826 0048 1846     		mov	r0, r3
 12827 004a FFF7FEFF 		bl	putc_bfd
6061:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 12828              		.loc 1 6061 4
 12829 004e E5E1     		b	.L794
 12830              	.L793:
6062:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6063:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 12831              		.loc 1 6063 9
 12832 0050 0023     		movs	r3, #0
 12833 0052 87F89730 		strb	r3, [r7, #151]
 12834              		.loc 1 6063 5
 12835 0056 0023     		movs	r3, #0
 12836 0058 C7F88830 		str	r3, [r7, #136]
6064:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 12837              		.loc 1 6064 11
 12838 005c D7F8A430 		ldr	r3, [r7, #164]
 12839 0060 5A1C     		adds	r2, r3, #1
 12840 0062 C7F8A420 		str	r2, [r7, #164]
 12841              		.loc 1 6064 5
 12842 0066 1B78     		ldrb	r3, [r3]
 12843 0068 87F88330 		strb	r3, [r7, #131]
6065:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 12844              		.loc 1 6065 6
 12845 006c 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 12846 0070 302B     		cmp	r3, #48
 12847 0072 0BD1     		bne	.L795
6066:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 12848              		.loc 1 6066 6
 12849 0074 0123     		movs	r3, #1
ARM GAS  /tmp/cc5m2BsI.s 			page 333


 12850 0076 87F89730 		strb	r3, [r7, #151]
 12851              		.loc 1 6066 19
 12852 007a D7F8A430 		ldr	r3, [r7, #164]
 12853 007e 5A1C     		adds	r2, r3, #1
 12854 0080 C7F8A420 		str	r2, [r7, #164]
 12855              		.loc 1 6066 13
 12856 0084 1B78     		ldrb	r3, [r3]
 12857 0086 87F88330 		strb	r3, [r7, #131]
 12858 008a 24E0     		b	.L797
 12859              	.L795:
6067:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
6068:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 12860              		.loc 1 6068 7
 12861 008c 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 12862 0090 2D2B     		cmp	r3, #45
 12863 0092 20D1     		bne	.L797
6069:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 12864              		.loc 1 6069 7
 12865 0094 0223     		movs	r3, #2
 12866 0096 87F89730 		strb	r3, [r7, #151]
 12867              		.loc 1 6069 20
 12868 009a D7F8A430 		ldr	r3, [r7, #164]
 12869 009e 5A1C     		adds	r2, r3, #1
 12870 00a0 C7F8A420 		str	r2, [r7, #164]
 12871              		.loc 1 6069 14
 12872 00a4 1B78     		ldrb	r3, [r3]
 12873 00a6 87F88330 		strb	r3, [r7, #131]
6070:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6071:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6072:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
 12874              		.loc 1 6072 9
 12875 00aa 14E0     		b	.L797
 12876              	.L799:
6073:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 12877              		.loc 1 6073 10
 12878 00ac D7F88820 		ldr	r2, [r7, #136]
 12879 00b0 1346     		mov	r3, r2
 12880 00b2 9B00     		lsls	r3, r3, #2
 12881 00b4 1344     		add	r3, r3, r2
 12882 00b6 5B00     		lsls	r3, r3, #1
 12883 00b8 1A46     		mov	r2, r3
 12884              		.loc 1 6073 15
 12885 00ba 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 12886 00be 1344     		add	r3, r3, r2
 12887              		.loc 1 6073 6
 12888 00c0 303B     		subs	r3, r3, #48
 12889 00c2 C7F88830 		str	r3, [r7, #136]
6074:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 12890              		.loc 1 6074 12
 12891 00c6 D7F8A430 		ldr	r3, [r7, #164]
 12892 00ca 5A1C     		adds	r2, r3, #1
 12893 00cc C7F8A420 		str	r2, [r7, #164]
 12894              		.loc 1 6074 6
 12895 00d0 1B78     		ldrb	r3, [r3]
 12896 00d2 87F88330 		strb	r3, [r7, #131]
 12897              	.L797:
6072:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
ARM GAS  /tmp/cc5m2BsI.s 			page 334


 12898              		.loc 1 6072 9
 12899 00d6 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 12900 00da 2F2B     		cmp	r3, #47
 12901 00dc 03D9     		bls	.L798
6072:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 12902              		.loc 1 6072 10 discriminator 1
 12903 00de 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 12904 00e2 392B     		cmp	r3, #57
 12905 00e4 E2D9     		bls	.L799
 12906              	.L798:
6075:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6076:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 12907              		.loc 1 6076 6
 12908 00e6 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 12909 00ea 6C2B     		cmp	r3, #108
 12910 00ec 03D0     		beq	.L800
 12911              		.loc 1 6076 16 discriminator 1
 12912 00ee 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 12913 00f2 4C2B     		cmp	r3, #76
 12914 00f4 0DD1     		bne	.L801
 12915              	.L800:
6077:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 12916              		.loc 1 6077 6
 12917 00f6 97F89730 		ldrb	r3, [r7, #151]
 12918 00fa 43F00403 		orr	r3, r3, #4
 12919 00fe 87F89730 		strb	r3, [r7, #151]
 12920              		.loc 1 6077 20
 12921 0102 D7F8A430 		ldr	r3, [r7, #164]
 12922 0106 5A1C     		adds	r2, r3, #1
 12923 0108 C7F8A420 		str	r2, [r7, #164]
 12924              		.loc 1 6077 14
 12925 010c 1B78     		ldrb	r3, [r3]
 12926 010e 87F88330 		strb	r3, [r7, #131]
 12927              	.L801:
6078:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6079:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 12928              		.loc 1 6079 6
 12929 0112 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 12930 0116 002B     		cmp	r3, #0
 12931 0118 00F08381 		beq	.L844
6080:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 12932              		.loc 1 6080 5
 12933 011c 97F88330 		ldrb	r3, [r7, #131]
 12934 0120 87F88230 		strb	r3, [r7, #130]
6081:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 12935              		.loc 1 6081 6
 12936 0124 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 12937 0128 602B     		cmp	r3, #96
 12938 012a 08D9     		bls	.L803
 12939              		.loc 1 6081 7 discriminator 1
 12940 012c 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 12941 0130 7A2B     		cmp	r3, #122
 12942 0132 04D8     		bhi	.L803
 12943              		.loc 1 6081 21 discriminator 2
 12944 0134 97F88230 		ldrb	r3, [r7, #130]
 12945 0138 203B     		subs	r3, r3, #32
 12946 013a 87F88230 		strb	r3, [r7, #130]
ARM GAS  /tmp/cc5m2BsI.s 			page 335


 12947              	.L803:
6082:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 12948              		.loc 1 6082 3
 12949 013e 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 12950 0142 423B     		subs	r3, r3, #66
 12951 0144 162B     		cmp	r3, #22
 12952 0146 00F29880 		bhi	.L804
 12953 014a 01A2     		adr	r2, .L806
 12954 014c 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 12955              		.p2align 2
 12956              	.L806:
 12957 0150 5B020000 		.word	.L811+1
 12958 0154 43020000 		.word	.L810+1
 12959 0158 6B020000 		.word	.L807+1
 12960 015c 7B020000 		.word	.L804+1
 12961 0160 7B020000 		.word	.L804+1
 12962 0164 7B020000 		.word	.L804+1
 12963 0168 7B020000 		.word	.L804+1
 12964 016c 7B020000 		.word	.L804+1
 12965 0170 7B020000 		.word	.L804+1
 12966 0174 7B020000 		.word	.L804+1
 12967 0178 7B020000 		.word	.L804+1
 12968 017c 7B020000 		.word	.L804+1
 12969 0180 7B020000 		.word	.L804+1
 12970 0184 63020000 		.word	.L809+1
 12971 0188 7B020000 		.word	.L804+1
 12972 018c 7B020000 		.word	.L804+1
 12973 0190 7B020000 		.word	.L804+1
 12974 0194 AD010000 		.word	.L808+1
 12975 0198 7B020000 		.word	.L804+1
 12976 019c 6B020000 		.word	.L807+1
 12977 01a0 7B020000 		.word	.L804+1
 12978 01a4 7B020000 		.word	.L804+1
 12979 01a8 73020000 		.word	.L805+1
 12980              		.p2align 1
 12981              	.L808:
6083:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
6084:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 12982              		.loc 1 6084 6
 12983 01ac BB6F     		ldr	r3, [r7, #120]
 12984 01ae 1A1D     		adds	r2, r3, #4
 12985 01b0 BA67     		str	r2, [r7, #120]
 12986 01b2 1B68     		ldr	r3, [r3]
 12987 01b4 FB67     		str	r3, [r7, #124]
6085:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 12988              		.loc 1 6085 11
 12989 01b6 0023     		movs	r3, #0
 12990 01b8 C7F88C30 		str	r3, [r7, #140]
 12991              		.loc 1 6085 4
 12992 01bc 04E0     		b	.L812
 12993              	.L813:
 12994              		.loc 1 6085 23 discriminator 3
 12995 01be D7F88C30 		ldr	r3, [r7, #140]
 12996 01c2 0133     		adds	r3, r3, #1
 12997 01c4 C7F88C30 		str	r3, [r7, #140]
 12998              	.L812:
 12999              		.loc 1 6085 17 discriminator 1
ARM GAS  /tmp/cc5m2BsI.s 			page 336


 13000 01c8 FA6F     		ldr	r2, [r7, #124]
 13001 01ca D7F88C30 		ldr	r3, [r7, #140]
 13002 01ce 1344     		add	r3, r3, r2
 13003 01d0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 13004              		.loc 1 6085 4 discriminator 1
 13005 01d2 002B     		cmp	r3, #0
 13006 01d4 F3D1     		bne	.L813
6086:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 13007              		.loc 1 6086 12
 13008 01d6 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 13009 01da 03F00203 		and	r3, r3, #2
 13010              		.loc 1 6086 7
 13011 01de 002B     		cmp	r3, #0
 13012 01e0 1AD1     		bne	.L817
6087:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 13013              		.loc 1 6087 11
 13014 01e2 05E0     		b	.L815
 13015              	.L816:
 13016              		.loc 1 6087 21 discriminator 2
 13017 01e4 07F12C03 		add	r3, r7, #44
 13018 01e8 2021     		movs	r1, #32
 13019 01ea 1846     		mov	r0, r3
 13020 01ec FFF7FEFF 		bl	putc_bfd
 13021              	.L815:
 13022              		.loc 1 6087 13 discriminator 1
 13023 01f0 D7F88C30 		ldr	r3, [r7, #140]
 13024 01f4 5A1C     		adds	r2, r3, #1
 13025 01f6 C7F88C20 		str	r2, [r7, #140]
 13026              		.loc 1 6087 11 discriminator 1
 13027 01fa D7F88820 		ldr	r2, [r7, #136]
 13028 01fe 9A42     		cmp	r2, r3
 13029 0200 F0D8     		bhi	.L816
6088:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			}
6089:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 13030              		.loc 1 6089 10
 13031 0202 09E0     		b	.L817
 13032              	.L818:
 13033              		.loc 1 6089 31 discriminator 2
 13034 0204 FB6F     		ldr	r3, [r7, #124]
 13035 0206 5A1C     		adds	r2, r3, #1
 13036 0208 FA67     		str	r2, [r7, #124]
 13037              		.loc 1 6089 15 discriminator 2
 13038 020a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 13039 020c 07F12C03 		add	r3, r7, #44
 13040 0210 1146     		mov	r1, r2
 13041 0212 1846     		mov	r0, r3
 13042 0214 FFF7FEFF 		bl	putc_bfd
 13043              	.L817:
 13044              		.loc 1 6089 11 discriminator 1
 13045 0218 FB6F     		ldr	r3, [r7, #124]
 13046 021a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 13047              		.loc 1 6089 10 discriminator 1
 13048 021c 002B     		cmp	r3, #0
 13049 021e F1D1     		bne	.L818
6090:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 13050              		.loc 1 6090 10
 13051 0220 05E0     		b	.L819
ARM GAS  /tmp/cc5m2BsI.s 			page 337


 13052              	.L820:
 13053              		.loc 1 6090 20 discriminator 2
 13054 0222 07F12C03 		add	r3, r7, #44
 13055 0226 2021     		movs	r1, #32
 13056 0228 1846     		mov	r0, r3
 13057 022a FFF7FEFF 		bl	putc_bfd
 13058              	.L819:
 13059              		.loc 1 6090 12 discriminator 1
 13060 022e D7F88C30 		ldr	r3, [r7, #140]
 13061 0232 5A1C     		adds	r2, r3, #1
 13062 0234 C7F88C20 		str	r2, [r7, #140]
 13063              		.loc 1 6090 10 discriminator 1
 13064 0238 D7F88820 		ldr	r2, [r7, #136]
 13065 023c 9A42     		cmp	r2, r3
 13066 023e F0D8     		bhi	.L820
6091:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 13067              		.loc 1 6091 4
 13068 0240 ECE0     		b	.L794
 13069              	.L810:
6092:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6093:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
6094:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 13070              		.loc 1 6094 25
 13071 0242 BB6F     		ldr	r3, [r7, #120]
 13072 0244 1A1D     		adds	r2, r3, #4
 13073 0246 BA67     		str	r2, [r7, #120]
 13074 0248 1B68     		ldr	r3, [r3]
 13075              		.loc 1 6094 4
 13076 024a DAB2     		uxtb	r2, r3
 13077 024c 07F12C03 		add	r3, r7, #44
 13078 0250 1146     		mov	r1, r2
 13079 0252 1846     		mov	r0, r3
 13080 0254 FFF7FEFF 		bl	putc_bfd
 13081 0258 E0E0     		b	.L794
 13082              	.L811:
6095:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6096:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
6097:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
 13083              		.loc 1 6097 6
 13084 025a 0223     		movs	r3, #2
 13085 025c 87F89630 		strb	r3, [r7, #150]
 13086              		.loc 1 6097 4
 13087 0260 14E0     		b	.L821
 13088              	.L809:
6098:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6099:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
6100:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
 13089              		.loc 1 6100 6
 13090 0262 0823     		movs	r3, #8
 13091 0264 87F89630 		strb	r3, [r7, #150]
 13092              		.loc 1 6100 4
 13093 0268 10E0     		b	.L821
 13094              	.L807:
6101:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6102:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
6103:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
6104:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
ARM GAS  /tmp/cc5m2BsI.s 			page 338


 13095              		.loc 1 6104 6
 13096 026a 0A23     		movs	r3, #10
 13097 026c 87F89630 		strb	r3, [r7, #150]
 13098              		.loc 1 6104 4
 13099 0270 0CE0     		b	.L821
 13100              	.L805:
6105:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6106:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
6107:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
 13101              		.loc 1 6107 6
 13102 0272 1023     		movs	r3, #16
 13103 0274 87F89630 		strb	r3, [r7, #150]
 13104              		.loc 1 6107 4
 13105 0278 08E0     		b	.L821
 13106              	.L804:
6108:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6109:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
6110:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
 13107              		.loc 1 6110 4
 13108 027a 97F88320 		ldrb	r2, [r7, #131]	@ zero_extendqisi2
 13109 027e 07F12C03 		add	r3, r7, #44
 13110 0282 1146     		mov	r1, r2
 13111 0284 1846     		mov	r0, r3
 13112 0286 FFF7FEFF 		bl	putc_bfd
 13113 028a C7E0     		b	.L794
 13114              	.L821:
6111:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6112:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6113:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
6114:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 13115              		.loc 1 6114 10
 13116 028c 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 13117 0290 03F00403 		and	r3, r3, #4
 13118              		.loc 1 6114 42
 13119 0294 002B     		cmp	r3, #0
 13120 0296 04D0     		beq	.L822
 13121              		.loc 1 6114 24
 13122 0298 BB6F     		ldr	r3, [r7, #120]
 13123 029a 1A1D     		adds	r2, r3, #4
 13124 029c BA67     		str	r2, [r7, #120]
 13125 029e 1B68     		ldr	r3, [r3]
 13126 02a0 0CE0     		b	.L823
 13127              	.L822:
 13128              		.loc 1 6114 88 discriminator 2
 13129 02a2 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 13130 02a6 442B     		cmp	r3, #68
 13131 02a8 04D1     		bne	.L824
 13132              		.loc 1 6114 71
 13133 02aa BB6F     		ldr	r3, [r7, #120]
 13134 02ac 1A1D     		adds	r2, r3, #4
 13135 02ae BA67     		str	r2, [r7, #120]
 13136 02b0 1B68     		ldr	r3, [r3]
 13137 02b2 03E0     		b	.L823
 13138              	.L824:
 13139              		.loc 1 6114 88
 13140 02b4 BB6F     		ldr	r3, [r7, #120]
 13141 02b6 1A1D     		adds	r2, r3, #4
ARM GAS  /tmp/cc5m2BsI.s 			page 339


 13142 02b8 BA67     		str	r2, [r7, #120]
 13143 02ba 1B68     		ldr	r3, [r3]
 13144              	.L823:
 13145              		.loc 1 6114 5 discriminator 8
 13146 02bc C7F88430 		str	r3, [r7, #132]
6115:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 13147              		.loc 1 6115 6 discriminator 8
 13148 02c0 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 13149 02c4 442B     		cmp	r3, #68
 13150 02c6 0ED1     		bne	.L826
 13151              		.loc 1 6115 16 discriminator 1
 13152 02c8 D7F88430 		ldr	r3, [r7, #132]
 13153 02cc 002B     		cmp	r3, #0
 13154 02ce 0ADA     		bge	.L826
6116:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 13155              		.loc 1 6116 6
 13156 02d0 D7F88430 		ldr	r3, [r7, #132]
 13157 02d4 5B42     		rsbs	r3, r3, #0
 13158 02d6 C7F88430 		str	r3, [r7, #132]
6117:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 13159              		.loc 1 6117 6
 13160 02da 97F89730 		ldrb	r3, [r7, #151]
 13161 02de 43F00803 		orr	r3, r3, #8
 13162 02e2 87F89730 		strb	r3, [r7, #151]
 13163              	.L826:
6118:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		}
6119:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 13164              		.loc 1 6119 5
 13165 02e6 0023     		movs	r3, #0
 13166 02e8 C7F89030 		str	r3, [r7, #144]
 13167              	.L831:
6120:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
6121:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
 13168              		.loc 1 6121 18
 13169 02ec 97F89620 		ldrb	r2, [r7, #150]	@ zero_extendqisi2
 13170 02f0 D7F88430 		ldr	r3, [r7, #132]
 13171 02f4 B3FBF2F1 		udiv	r1, r3, r2
 13172 02f8 01FB02F2 		mul	r2, r1, r2
 13173 02fc 9B1A     		subs	r3, r3, r2
 13174              		.loc 1 6121 6
 13175 02fe 87F88230 		strb	r3, [r7, #130]
 13176              		.loc 1 6121 26
 13177 0302 97F89630 		ldrb	r3, [r7, #150]	@ zero_extendqisi2
 13178 0306 D7F88420 		ldr	r2, [r7, #132]
 13179 030a B2FBF3F3 		udiv	r3, r2, r3
 13180 030e C7F88430 		str	r3, [r7, #132]
6122:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 13181              		.loc 1 6122 7
 13182 0312 97F88230 		ldrb	r3, [r7, #130]	@ zero_extendqisi2
 13183 0316 092B     		cmp	r3, #9
 13184 0318 0BD9     		bls	.L827
 13185              		.loc 1 6122 17 discriminator 1
 13186 031a 97F88330 		ldrb	r3, [r7, #131]	@ zero_extendqisi2
 13187 031e 782B     		cmp	r3, #120
 13188 0320 01D1     		bne	.L828
 13189              		.loc 1 6122 17 is_stmt 0 discriminator 2
 13190 0322 2722     		movs	r2, #39
ARM GAS  /tmp/cc5m2BsI.s 			page 340


 13191 0324 00E0     		b	.L829
 13192              	.L828:
 13193              		.loc 1 6122 17 discriminator 3
 13194 0326 0722     		movs	r2, #7
 13195              	.L829:
 13196              		.loc 1 6122 17 discriminator 5
 13197 0328 97F88230 		ldrb	r3, [r7, #130]
 13198 032c 1344     		add	r3, r3, r2
 13199 032e 87F88230 		strb	r3, [r7, #130]
 13200              	.L827:
6123:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			str[i++] = d + '0';
 13201              		.loc 1 6123 9 is_stmt 1
 13202 0332 D7F89030 		ldr	r3, [r7, #144]
 13203 0336 5A1C     		adds	r2, r3, #1
 13204 0338 C7F89020 		str	r2, [r7, #144]
 13205              		.loc 1 6123 17
 13206 033c 97F88220 		ldrb	r2, [r7, #130]
 13207 0340 3032     		adds	r2, r2, #48
 13208 0342 D2B2     		uxtb	r2, r2
 13209              		.loc 1 6123 13
 13210 0344 07F19801 		add	r1, r7, #152
 13211 0348 0B44     		add	r3, r3, r1
 13212 034a 03F88C2C 		strb	r2, [r3, #-140]
6124:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof str / sizeof str[0]);
 13213              		.loc 1 6124 3
 13214 034e D7F88430 		ldr	r3, [r7, #132]
 13215 0352 002B     		cmp	r3, #0
 13216 0354 03D0     		beq	.L830
 13217              		.loc 1 6124 14 discriminator 1
 13218 0356 D7F89030 		ldr	r3, [r7, #144]
 13219 035a 1F2B     		cmp	r3, #31
 13220 035c C6D9     		bls	.L831
 13221              	.L830:
6125:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) str[i++] = '-';
 13222              		.loc 1 6125 9
 13223 035e 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 13224 0362 03F00803 		and	r3, r3, #8
 13225              		.loc 1 6125 6
 13226 0366 002B     		cmp	r3, #0
 13227 0368 0AD0     		beq	.L832
 13228              		.loc 1 6125 19 discriminator 1
 13229 036a D7F89030 		ldr	r3, [r7, #144]
 13230 036e 5A1C     		adds	r2, r3, #1
 13231 0370 C7F89020 		str	r2, [r7, #144]
 13232              		.loc 1 6125 23 discriminator 1
 13233 0374 07F19802 		add	r2, r7, #152
 13234 0378 1344     		add	r3, r3, r2
 13235 037a 2D22     		movs	r2, #45
 13236 037c 03F88C2C 		strb	r2, [r3, #-140]
 13237              	.L832:
6126:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 13238              		.loc 1 6126 5
 13239 0380 D7F89030 		ldr	r3, [r7, #144]
 13240 0384 C7F88C30 		str	r3, [r7, #140]
 13241              		.loc 1 6126 17
 13242 0388 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 13243 038c 03F00103 		and	r3, r3, #1
ARM GAS  /tmp/cc5m2BsI.s 			page 341


 13244              		.loc 1 6126 12
 13245 0390 002B     		cmp	r3, #0
 13246 0392 01D0     		beq	.L833
 13247              		.loc 1 6126 12 is_stmt 0 discriminator 1
 13248 0394 3023     		movs	r3, #48
 13249 0396 00E0     		b	.L834
 13250              	.L833:
 13251              		.loc 1 6126 12 discriminator 2
 13252 0398 2023     		movs	r3, #32
 13253              	.L834:
 13254              		.loc 1 6126 12 discriminator 4
 13255 039a 87F88230 		strb	r3, [r7, #130]
6127:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 13256              		.loc 1 6127 9 is_stmt 1 discriminator 4
 13257 039e 07E0     		b	.L835
 13258              	.L837:
 13259              		.loc 1 6127 31 discriminator 3
 13260 03a0 97F88220 		ldrb	r2, [r7, #130]	@ zero_extendqisi2
 13261 03a4 07F12C03 		add	r3, r7, #44
 13262 03a8 1146     		mov	r1, r2
 13263 03aa 1846     		mov	r0, r3
 13264 03ac FFF7FEFF 		bl	putc_bfd
 13265              	.L835:
 13266              		.loc 1 6127 14 discriminator 1
 13267 03b0 97F89730 		ldrb	r3, [r7, #151]	@ zero_extendqisi2
 13268 03b4 03F00203 		and	r3, r3, #2
 13269              		.loc 1 6127 9 discriminator 1
 13270 03b8 002B     		cmp	r3, #0
 13271 03ba 08D1     		bne	.L838
 13272              		.loc 1 6127 23 discriminator 2
 13273 03bc D7F88C30 		ldr	r3, [r7, #140]
 13274 03c0 5A1C     		adds	r2, r3, #1
 13275 03c2 C7F88C20 		str	r2, [r7, #140]
 13276              		.loc 1 6127 19 discriminator 2
 13277 03c6 D7F88820 		ldr	r2, [r7, #136]
 13278 03ca 9A42     		cmp	r2, r3
 13279 03cc E8D8     		bhi	.L837
 13280              	.L838:
6128:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
6129:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, str[--i]);
 13281              		.loc 1 6129 4 discriminator 1
 13282 03ce D7F89030 		ldr	r3, [r7, #144]
 13283 03d2 013B     		subs	r3, r3, #1
 13284 03d4 C7F89030 		str	r3, [r7, #144]
 13285 03d8 07F10C02 		add	r2, r7, #12
 13286 03dc D7F89030 		ldr	r3, [r7, #144]
 13287 03e0 1344     		add	r3, r3, r2
 13288 03e2 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 13289 03e4 07F12C03 		add	r3, r7, #44
 13290 03e8 1146     		mov	r1, r2
 13291 03ea 1846     		mov	r0, r3
 13292 03ec FFF7FEFF 		bl	putc_bfd
6130:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i);
 13293              		.loc 1 6130 3 discriminator 1
 13294 03f0 D7F89030 		ldr	r3, [r7, #144]
 13295 03f4 002B     		cmp	r3, #0
 13296 03f6 EAD1     		bne	.L838
ARM GAS  /tmp/cc5m2BsI.s 			page 342


6131:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 13297              		.loc 1 6131 9
 13298 03f8 07E0     		b	.L839
 13299              	.L840:
 13300              		.loc 1 6131 19 discriminator 2
 13301 03fa 97F88220 		ldrb	r2, [r7, #130]	@ zero_extendqisi2
 13302 03fe 07F12C03 		add	r3, r7, #44
 13303 0402 1146     		mov	r1, r2
 13304 0404 1846     		mov	r0, r3
 13305 0406 FFF7FEFF 		bl	putc_bfd
 13306              	.L839:
 13307              		.loc 1 6131 11 discriminator 1
 13308 040a D7F88C30 		ldr	r3, [r7, #140]
 13309 040e 5A1C     		adds	r2, r3, #1
 13310 0410 C7F88C20 		str	r2, [r7, #140]
 13311              		.loc 1 6131 9 discriminator 1
 13312 0414 D7F88820 		ldr	r2, [r7, #136]
 13313 0418 9A42     		cmp	r2, r3
 13314 041a EED8     		bhi	.L840
 13315              	.L794:
6057:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 13316              		.loc 1 6057 5
 13317 041c FEE5     		b	.L841
 13318              	.L843:
6058:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 13319              		.loc 1 6058 3
 13320 041e 00BF     		nop
 13321 0420 00E0     		b	.L792
 13322              	.L844:
6079:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 13323              		.loc 1 6079 3
 13324 0422 00BF     		nop
 13325              	.L792:
6132:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	}
6133:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6134:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
6135:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 
6136:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** 	return putc_flush(&pb);
 13326              		.loc 1 6136 9
 13327 0424 07F12C03 		add	r3, r7, #44
 13328 0428 1846     		mov	r0, r3
 13329 042a FFF7FEFF 		bl	putc_flush
 13330 042e 0346     		mov	r3, r0
6137:../libDaisy/Middlewares/Third_Party/FatFs/src/ff.c **** }
 13331              		.loc 1 6137 1
 13332 0430 1846     		mov	r0, r3
 13333 0432 9C37     		adds	r7, r7, #156
 13334              		.cfi_def_cfa_offset 20
 13335 0434 BD46     		mov	sp, r7
 13336              		.cfi_def_cfa_register 13
 13337              		@ sp needed
 13338 0436 BDE88040 		pop	{r7, lr}
 13339              		.cfi_restore 14
 13340              		.cfi_restore 7
 13341              		.cfi_def_cfa_offset 12
 13342 043a 03B0     		add	sp, sp, #12
 13343              		.cfi_restore 3
ARM GAS  /tmp/cc5m2BsI.s 			page 343


 13344              		.cfi_restore 2
 13345              		.cfi_restore 1
 13346              		.cfi_def_cfa_offset 0
 13347 043c 7047     		bx	lr
 13348              		.cfi_endproc
 13349              	.LFE381:
 13351 043e 00BF     		.section	.rodata.cst32.1,"a"
 13352              		.align	2
 13355              	cst32.1:
 13356 0000 0100     		.short	1
 13357 0002 0200     		.short	2
 13358 0004 0400     		.short	4
 13359 0006 0800     		.short	8
 13360 0008 1000     		.short	16
 13361 000a 2000     		.short	32
 13362 000c 0000     		.short	0
 13363              		.section	.rodata.cst.0,"a"
 13364              		.align	2
 13367              	cst.0:
 13368 0000 0100     		.short	1
 13369 0002 0400     		.short	4
 13370 0004 1000     		.short	16
 13371 0006 4000     		.short	64
 13372 0008 0001     		.short	256
 13373 000a 0002     		.short	512
 13374 000c 0000     		.short	0
 13375              		.text
 13376              	.Letext0:
 13377              		.file 2 "/home/hubert/daisy/gcc/arm-none-eabi/include/machine/_default_types.h"
 13378              		.file 3 "/home/hubert/daisy/gcc/arm-none-eabi/include/sys/_stdint.h"
 13379              		.file 4 "../libDaisy/Middlewares/Third_Party/FatFs/src/integer.h"
 13380              		.file 5 "../libDaisy/Middlewares/Third_Party/FatFs/src/ff.h"
 13381              		.file 6 "../libDaisy/Middlewares/Third_Party/FatFs/src/diskio.h"
 13382              		.file 7 "/home/hubert/daisy/gcc/lib/gcc/arm-none-eabi/10.2.1/include/stdarg.h"
 13383              		.file 8 "<built-in>"
ARM GAS  /tmp/cc5m2BsI.s 			page 344


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ff.c
     /tmp/cc5m2BsI.s:17     .bss.FatFs:0000000000000000 $d
     /tmp/cc5m2BsI.s:20     .bss.FatFs:0000000000000000 FatFs
     /tmp/cc5m2BsI.s:23     .bss.Fsid:0000000000000000 $d
     /tmp/cc5m2BsI.s:26     .bss.Fsid:0000000000000000 Fsid
     /tmp/cc5m2BsI.s:29     .bss.LfnBuf:0000000000000000 $d
     /tmp/cc5m2BsI.s:32     .bss.LfnBuf:0000000000000000 LfnBuf
     /tmp/cc5m2BsI.s:35     .rodata.ExCvt:0000000000000000 $d
     /tmp/cc5m2BsI.s:38     .rodata.ExCvt:0000000000000000 ExCvt
     /tmp/cc5m2BsI.s:47     .text.ld_word:0000000000000000 $t
     /tmp/cc5m2BsI.s:54     .text.ld_word:0000000000000000 ld_word
     /tmp/cc5m2BsI.s:107    .text.ld_dword:0000000000000000 $t
     /tmp/cc5m2BsI.s:113    .text.ld_dword:0000000000000000 ld_dword
     /tmp/cc5m2BsI.s:180    .text.st_word:0000000000000000 $t
     /tmp/cc5m2BsI.s:186    .text.st_word:0000000000000000 st_word
     /tmp/cc5m2BsI.s:240    .text.st_dword:0000000000000000 $t
     /tmp/cc5m2BsI.s:246    .text.st_dword:0000000000000000 st_dword
     /tmp/cc5m2BsI.s:325    .text.mem_cpy:0000000000000000 $t
     /tmp/cc5m2BsI.s:331    .text.mem_cpy:0000000000000000 mem_cpy
     /tmp/cc5m2BsI.s:394    .text.mem_set:0000000000000000 $t
     /tmp/cc5m2BsI.s:400    .text.mem_set:0000000000000000 mem_set
     /tmp/cc5m2BsI.s:453    .text.mem_cmp:0000000000000000 $t
     /tmp/cc5m2BsI.s:459    .text.mem_cmp:0000000000000000 mem_cmp
     /tmp/cc5m2BsI.s:531    .text.chk_chr:0000000000000000 $t
     /tmp/cc5m2BsI.s:537    .text.chk_chr:0000000000000000 chk_chr
     /tmp/cc5m2BsI.s:594    .text.sync_window:0000000000000000 $t
     /tmp/cc5m2BsI.s:600    .text.sync_window:0000000000000000 sync_window
     /tmp/cc5m2BsI.s:712    .text.move_window:0000000000000000 $t
     /tmp/cc5m2BsI.s:718    .text.move_window:0000000000000000 move_window
     /tmp/cc5m2BsI.s:793    .text.sync_fs:0000000000000000 $t
     /tmp/cc5m2BsI.s:799    .text.sync_fs:0000000000000000 sync_fs
     /tmp/cc5m2BsI.s:938    .text.sync_fs:00000000000000d4 $d
     /tmp/cc5m2BsI.s:944    .text.clust2sect:0000000000000000 $t
     /tmp/cc5m2BsI.s:950    .text.clust2sect:0000000000000000 clust2sect
     /tmp/cc5m2BsI.s:1011   .text.get_fat:0000000000000000 $t
     /tmp/cc5m2BsI.s:1017   .text.get_fat:0000000000000000 get_fat
     /tmp/cc5m2BsI.s:1258   .text.put_fat:0000000000000000 $t
     /tmp/cc5m2BsI.s:1264   .text.put_fat:0000000000000000 put_fat
     /tmp/cc5m2BsI.s:1585   .text.remove_chain:0000000000000000 $t
     /tmp/cc5m2BsI.s:1591   .text.remove_chain:0000000000000000 remove_chain
     /tmp/cc5m2BsI.s:1746   .text.create_chain:0000000000000000 $t
     /tmp/cc5m2BsI.s:1752   .text.create_chain:0000000000000000 create_chain
     /tmp/cc5m2BsI.s:1981   .text.clmt_clust:0000000000000000 $t
     /tmp/cc5m2BsI.s:1987   .text.clmt_clust:0000000000000000 clmt_clust
     /tmp/cc5m2BsI.s:2079   .text.dir_sdi:0000000000000000 $t
     /tmp/cc5m2BsI.s:2085   .text.dir_sdi:0000000000000000 dir_sdi
     /tmp/cc5m2BsI.s:2277   .text.dir_next:0000000000000000 $t
     /tmp/cc5m2BsI.s:2283   .text.dir_next:0000000000000000 dir_next
     /tmp/cc5m2BsI.s:2567   .text.dir_alloc:0000000000000000 $t
     /tmp/cc5m2BsI.s:2573   .text.dir_alloc:0000000000000000 dir_alloc
     /tmp/cc5m2BsI.s:2688   .text.ld_clust:0000000000000000 $t
     /tmp/cc5m2BsI.s:2694   .text.ld_clust:0000000000000000 ld_clust
     /tmp/cc5m2BsI.s:2751   .text.st_clust:0000000000000000 $t
     /tmp/cc5m2BsI.s:2757   .text.st_clust:0000000000000000 st_clust
     /tmp/cc5m2BsI.s:2812   .rodata.LfnOfs:0000000000000000 $d
     /tmp/cc5m2BsI.s:2815   .rodata.LfnOfs:0000000000000000 LfnOfs
ARM GAS  /tmp/cc5m2BsI.s 			page 345


     /tmp/cc5m2BsI.s:2818   .text.cmp_lfn:0000000000000000 $t
     /tmp/cc5m2BsI.s:2824   .text.cmp_lfn:0000000000000000 cmp_lfn
     /tmp/cc5m2BsI.s:2990   .text.cmp_lfn:00000000000000dc $d
     /tmp/cc5m2BsI.s:2995   .text.pick_lfn:0000000000000000 $t
     /tmp/cc5m2BsI.s:3001   .text.pick_lfn:0000000000000000 pick_lfn
     /tmp/cc5m2BsI.s:3154   .text.pick_lfn:00000000000000c4 $d
     /tmp/cc5m2BsI.s:3159   .text.put_lfn:0000000000000000 $t
     /tmp/cc5m2BsI.s:3165   .text.put_lfn:0000000000000000 put_lfn
     /tmp/cc5m2BsI.s:3309   .text.put_lfn:00000000000000cc $d
     /tmp/cc5m2BsI.s:3314   .text.gen_numname:0000000000000000 $t
     /tmp/cc5m2BsI.s:3320   .text.gen_numname:0000000000000000 gen_numname
     /tmp/cc5m2BsI.s:3523   .text.gen_numname:000000000000011c $d
     /tmp/cc5m2BsI.s:3528   .text.sum_sfn:0000000000000000 $t
     /tmp/cc5m2BsI.s:3534   .text.sum_sfn:0000000000000000 sum_sfn
     /tmp/cc5m2BsI.s:3596   .text.dir_read:0000000000000000 $t
     /tmp/cc5m2BsI.s:3602   .text.dir_read:0000000000000000 dir_read
     /tmp/cc5m2BsI.s:3850   .text.dir_find:0000000000000000 $t
     /tmp/cc5m2BsI.s:3856   .text.dir_find:0000000000000000 dir_find
     /tmp/cc5m2BsI.s:4130   .text.dir_register:0000000000000000 $t
     /tmp/cc5m2BsI.s:4136   .text.dir_register:0000000000000000 dir_register
     /tmp/cc5m2BsI.s:4449   .text.dir_register:00000000000001ec $d
     /tmp/cc5m2BsI.s:4454   .text.dir_remove:0000000000000000 $t
     /tmp/cc5m2BsI.s:4460   .text.dir_remove:0000000000000000 dir_remove
     /tmp/cc5m2BsI.s:4578   .text.get_fileinfo:0000000000000000 $t
     /tmp/cc5m2BsI.s:4584   .text.get_fileinfo:0000000000000000 get_fileinfo
     /tmp/cc5m2BsI.s:4918   .rodata:0000000000000000 $d
     /tmp/cc5m2BsI.s:4925   .text.create_name:0000000000000000 $t
     /tmp/cc5m2BsI.s:4931   .text.create_name:0000000000000000 create_name
     /tmp/cc5m2BsI.s:5419   .text.create_name:00000000000002cc $d
     /tmp/cc5m2BsI.s:5424   .text.create_name:00000000000002d8 $t
     /tmp/cc5m2BsI.s:5511   .text.follow_path:0000000000000000 $t
     /tmp/cc5m2BsI.s:5517   .text.follow_path:0000000000000000 follow_path
     /tmp/cc5m2BsI.s:5687   .text.get_ldnumber:0000000000000000 $t
     /tmp/cc5m2BsI.s:5693   .text.get_ldnumber:0000000000000000 get_ldnumber
     /tmp/cc5m2BsI.s:5812   .text.check_fs:0000000000000000 $t
     /tmp/cc5m2BsI.s:5818   .text.check_fs:0000000000000000 check_fs
     /tmp/cc5m2BsI.s:5938   .text.check_fs:00000000000000a4 $d
     /tmp/cc5m2BsI.s:5944   .text.find_volume:0000000000000000 $t
     /tmp/cc5m2BsI.s:5950   .text.find_volume:0000000000000000 find_volume
     /tmp/cc5m2BsI.s:6403   .text.find_volume:00000000000002b0 $d
     /tmp/cc5m2BsI.s:6406   .text.find_volume:00000000000002b4 $t
     /tmp/cc5m2BsI.s:6717   .text.find_volume:0000000000000490 $d
     /tmp/cc5m2BsI.s:6725   .text.validate:0000000000000000 $t
     /tmp/cc5m2BsI.s:6731   .text.validate:0000000000000000 validate
     /tmp/cc5m2BsI.s:6825   .text.f_mount:0000000000000000 $t
     /tmp/cc5m2BsI.s:6832   .text.f_mount:0000000000000000 f_mount
     /tmp/cc5m2BsI.s:6932   .text.f_mount:0000000000000084 $d
     /tmp/cc5m2BsI.s:6937   .text.f_open:0000000000000000 $t
     /tmp/cc5m2BsI.s:6944   .text.f_open:0000000000000000 f_open
     /tmp/cc5m2BsI.s:7439   .text.f_read:0000000000000000 $t
     /tmp/cc5m2BsI.s:7446   .text.f_read:0000000000000000 f_read
     /tmp/cc5m2BsI.s:7879   .text.f_write:0000000000000000 $t
     /tmp/cc5m2BsI.s:7886   .text.f_write:0000000000000000 f_write
     /tmp/cc5m2BsI.s:8384   .text.f_sync:0000000000000000 $t
     /tmp/cc5m2BsI.s:8391   .text.f_sync:0000000000000000 f_sync
     /tmp/cc5m2BsI.s:8555   .text.f_close:0000000000000000 $t
     /tmp/cc5m2BsI.s:8562   .text.f_close:0000000000000000 f_close
ARM GAS  /tmp/cc5m2BsI.s 			page 346


     /tmp/cc5m2BsI.s:8617   .text.f_lseek:0000000000000000 $t
     /tmp/cc5m2BsI.s:8624   .text.f_lseek:0000000000000000 f_lseek
     /tmp/cc5m2BsI.s:9326   .text.f_opendir:0000000000000000 $t
     /tmp/cc5m2BsI.s:9333   .text.f_opendir:0000000000000000 f_opendir
     /tmp/cc5m2BsI.s:9471   .text.f_closedir:0000000000000000 $t
     /tmp/cc5m2BsI.s:9478   .text.f_closedir:0000000000000000 f_closedir
     /tmp/cc5m2BsI.s:9524   .text.f_readdir:0000000000000000 $t
     /tmp/cc5m2BsI.s:9531   .text.f_readdir:0000000000000000 f_readdir
     /tmp/cc5m2BsI.s:9621   .text.f_stat:0000000000000000 $t
     /tmp/cc5m2BsI.s:9628   .text.f_stat:0000000000000000 f_stat
     /tmp/cc5m2BsI.s:9704   .text.f_getfree:0000000000000000 $t
     /tmp/cc5m2BsI.s:9711   .text.f_getfree:0000000000000000 f_getfree
     /tmp/cc5m2BsI.s:9964   .text.f_truncate:0000000000000000 $t
     /tmp/cc5m2BsI.s:9971   .text.f_truncate:0000000000000000 f_truncate
     /tmp/cc5m2BsI.s:10180  .text.f_unlink:0000000000000000 $t
     /tmp/cc5m2BsI.s:10187  .text.f_unlink:0000000000000000 f_unlink
     /tmp/cc5m2BsI.s:10367  .text.f_mkdir:0000000000000000 $t
     /tmp/cc5m2BsI.s:10374  .text.f_mkdir:0000000000000000 f_mkdir
     /tmp/cc5m2BsI.s:10690  .text.f_rename:0000000000000000 $t
     /tmp/cc5m2BsI.s:10697  .text.f_rename:0000000000000000 f_rename
     /tmp/cc5m2BsI.s:10969  .text.f_mkfs:0000000000000000 $t
     /tmp/cc5m2BsI.s:10976  .text.f_mkfs:0000000000000000 f_mkfs
     /tmp/cc5m2BsI.s:11413  .text.f_mkfs:0000000000000284 $d
     /tmp/cc5m2BsI.s:13355  .rodata.cst32.1:0000000000000000 cst32.1
     /tmp/cc5m2BsI.s:13367  .rodata.cst.0:0000000000000000 cst.0
     /tmp/cc5m2BsI.s:11419  .text.f_mkfs:0000000000000294 $t
     /tmp/cc5m2BsI.s:12081  .text.f_mkfs:00000000000006e8 $d
     /tmp/cc5m2BsI.s:12089  .text.f_mkfs:0000000000000700 $t
     /tmp/cc5m2BsI.s:12306  .text.f_mkfs:0000000000000854 $d
     /tmp/cc5m2BsI.s:12311  .text.f_gets:0000000000000000 $t
     /tmp/cc5m2BsI.s:12318  .text.f_gets:0000000000000000 f_gets
     /tmp/cc5m2BsI.s:12424  .text.putc_bfd:0000000000000000 $t
     /tmp/cc5m2BsI.s:12430  .text.putc_bfd:0000000000000000 putc_bfd
     /tmp/cc5m2BsI.s:12531  .text.putc_flush:0000000000000000 $t
     /tmp/cc5m2BsI.s:12537  .text.putc_flush:0000000000000000 putc_flush
     /tmp/cc5m2BsI.s:12603  .text.putc_init:0000000000000000 $t
     /tmp/cc5m2BsI.s:12609  .text.putc_init:0000000000000000 putc_init
     /tmp/cc5m2BsI.s:12654  .text.f_putc:0000000000000000 $t
     /tmp/cc5m2BsI.s:12661  .text.f_putc:0000000000000000 f_putc
     /tmp/cc5m2BsI.s:12706  .text.f_puts:0000000000000000 $t
     /tmp/cc5m2BsI.s:12713  .text.f_puts:0000000000000000 f_puts
     /tmp/cc5m2BsI.s:12771  .text.f_printf:0000000000000000 $t
     /tmp/cc5m2BsI.s:12778  .text.f_printf:0000000000000000 f_printf
     /tmp/cc5m2BsI.s:12957  .text.f_printf:0000000000000150 $d
     /tmp/cc5m2BsI.s:12980  .text.f_printf:00000000000001ac $t
     /tmp/cc5m2BsI.s:13352  .rodata.cst32.1:0000000000000000 $d
     /tmp/cc5m2BsI.s:13364  .rodata.cst.0:0000000000000000 $d

UNDEFINED SYMBOLS
disk_write
disk_read
disk_ioctl
ff_wtoupper
ff_convert
disk_status
disk_initialize
get_fattime
ARM GAS  /tmp/cc5m2BsI.s 			page 347


